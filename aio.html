<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to Data Analysis with Python: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="icon" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="text-decoration: unset">
           
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">Alpha
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="background: #FFC700; border-radius: 5px"></i>
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container ">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to Data Analysis with Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to Data Analysis with Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
<input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset>
</form>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to Data Analysis with Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->
      
            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Welcome to Python</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-variables.html">2. Variables in Python</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-types.html">3. Basic Types</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-using-functions.html">4. Built-in Functions and Help</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="home-01-strings.html">5. String Manipulation</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="home-02-objects.html">6. Using Objects</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="05-lists.html">7. Lists</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="06-loops.html">8. For Loops</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="07-packages.html">9. Libraries</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="08-loading.html">10. Reading tabular data</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="home-03-conda.html">11. Managing Python Environments</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="home-04-dictionaries.html">12. Dictionaries</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="09-conditionals.html">13. Conditionals</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush15">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading15">
        <a href="10-dataframes.html">14. Pandas DataFrames</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush16">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading16">
        <a href="11-writing-functions.html">15. Writing Functions</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush17">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading17">
        <a href="12-scipy.html">16. Perform Statistical Tests with Scipy</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush18">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading18">
        <a href="home-05-reshaping-data.html">17. Reshaping Data</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush19">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading19">
        <a href="home-06-combining-data.html">18. Combining Data</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush20">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading20">
        <a href="13-plotting.html">19. Visualizing data with matplotlib and seaborn</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush21">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading21">
        <a href="14-sklearn.html">20. Perform machine learning with Scikit-learn</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush22">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading22">
        <a href="15-biomart.html">21. ID mapping using mygene</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width resources">
<a href="aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">
            
            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introduction"><p>Content from <a href="01-introduction.html">Welcome to Python</a></p>
<hr>
<p> Last updated on 2023-04-18 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/01-introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I run Python programs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Launch the JupyterLab server.</li>
<li>Create a new Python script.</li>
<li>Create a Jupyter notebook.</li>
<li>Shutdown the JupyterLab server.</li>
<li>Understand the difference between a Python script and a Jupyter
notebook.</li>
<li>Create Markdown cells in a notebook.</li>
<li>Create and run Python cells in a notebook.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Python scripts are plain text files.</li>
<li>Use the Jupyter Notebook for editing and running Python.</li>
<li>The Notebook has Command and Edit modes.</li>
<li>Use the keyboard and mouse to select and edit cells.</li>
<li>The Notebook will turn Markdown into pretty-printed
documentation.</li>
<li>Markdown does most of what HTML does.</li>
</ul>
</div>
</div>
</div>
<p>Many software developers will often use an integrated development
environment (IDE) or a text editor to create and edit their Python
programs which can be executed through the IDE or command line directly.
While this is a common approach, we are going to use the [Jupyter
Notebook][jupyter] via <a href="https://jupyterlab.readthedocs.io/en/stable/" class="external-link">JupyterLab</a> for
the remainder of this workshop.</p>
<p>This has several advantages: * You can easily type, edit, and copy
and paste blocks of code. * Tab complete allows you to easily access the
names of things you are using and learn more about them. * It allows you
to annotate your code with links, different sized text, bullets, etc. to
make it more accessible to you and your collaborators. * It allows you
to display figures next to the code that produces them to tell a
complete story of the analysis.</p>
<p>Each notebook contains one or more cells that contain code, text, or
images.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="scripts-vs.-notebooks-vs.-programs" class="callout-inner">
<h3 class="callout-title">Scripts vs. Notebooks vs. Programs<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>A notebook, as described above, is a combination of text, figures,
results, and code in a single document. In contrast a script is a file
containing only code (and comments). A python script has the extension
<code>.py</code>, while a python notebook has the extension
<code>.ipynb</code>. Python notebooks are built ontop of Python and are
not considered a part of the Python language, but an extension to it.
Cells in a notebook can be run interactively while a script is run all
at once, typically by calling it at the command line.</p>
<p>A program is a set of machine instructions which are executed
together. We can think about both Python scripts and notebooks as being
programs. It should be noted, however, that in computer science the
terms <em>programming</em> and <em>scripting</em> are defined more
formally, and no Python code would be considered a program under these
definitions.</p>
</div>
</div>
</div>
<section id="getting-started-with-jupyterlab"><h2 class="section-heading">Getting Started with JupyterLab<a class="anchor" aria-label="anchor" href="#getting-started-with-jupyterlab"></a>
</h2>
<hr class="half-width">
<p>JupyterLab is an application with a web-based user interface from
[Project Jupyter][jupyter] that enables one to work with documents and
activities such as Jupyter notebooks, text editors, terminals, and even
custom components in a flexible, integrated, and extensible manner.
JupyterLab requires a reasonably up-to-date browser (ideally a current
version of Chrome, Safari, or Firefox); Internet Explorer versions 9 and
below are <em>not</em> supported.</p>
<p>JupyterLab is included as part of the Anaconda Python distribution.
If you have not already installed the Anaconda Python distribution, see
<a href="%7B%7B%20page.root%20%7D%7D%7B%%20link%20setup.md%20%%7D">the
setup instructions</a> for installation instructions.</p>
<p>Even though JupyterLab is a web-based application, JupyterLab runs
locally on your machine and does not require an internet connection. *
The JupyterLab server sends messages to your web browser. * The
JupyterLab server does the work and the web browser renders the result.
* You will type code into the browser and see the result when the web
page talks to the JupyterLab server.</p>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="jupyterlab-what-about-jupyter-notebooks" class="callout-inner">
<h3 class="callout-title">JupyterLab? What about Jupyter notebooks?<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>JupyterLab is the <a href="https://jupyterlab.readthedocs.io/en/stable/getting_started/overview.html#overview" class="external-link">next
stage in the evolution of the Jupyter Notebook</a>. If you have prior
experience working with Jupyter notebooks, then you will have a good
idea of what to expect from JupyterLab.</p>
<p>Experienced users of Jupyter notebooks interested in a more detailed
discussion of the similarities and differences between the JupyterLab
and Jupyter notebook user interfaces can find more information in the <a href="https://jupyterlab.readthedocs.io/en/stable/user/interface.html" class="external-link">JupyterLab
user interface documentation</a>.</p>
</div>
</div>
</div>
</section><section id="starting-jupyterlab"><h2 class="section-heading">Starting JupyterLab<a class="anchor" aria-label="anchor" href="#starting-jupyterlab"></a>
</h2>
<hr class="half-width">
<p>You can start the JupyterLab server through the command line or
through an application called <code>Anaconda Navigator</code>. Anaconda
Navigator is included as part of the Anaconda Python distribution.</p>
<div class="section level3">
<h3 id="macos---command-line">macOS - Command Line<a class="anchor" aria-label="anchor" href="#macos---command-line"></a>
</h3>
<p>To start the JupyterLab server you will need to access the command
line through the Terminal. There are two ways to open Terminal on
Mac.</p>
<ol style="list-style-type: decimal">
<li>In your Applications folder, open Utilities and double-click on
Terminal</li>
<li>Press <kbd>Command</kbd> + <kbd>spacebar</kbd> to launch Spotlight.
Type <code>Terminal</code> and then double-click the search result or
hit <kbd>Enter</kbd>
</li>
</ol>
<p>After you have launched Terminal, type the command to launch the
JupyterLab server.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> jupyter lab</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="windows-users---command-line">Windows Users - Command Line<a class="anchor" aria-label="anchor" href="#windows-users---command-line"></a>
</h3>
<p>To start the JupyterLab server you will need to access the Anaconda
Prompt.</p>
<p>Press <kbd>Windows Logo Key</kbd> and search for
<code>Anaconda Prompt</code>, click the result or press enter.</p>
<p>After you have launched the Anaconda Prompt, type the command:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> jupyter lab</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="anaconda-navigator">Anaconda Navigator<a class="anchor" aria-label="anchor" href="#anaconda-navigator"></a>
</h3>
<p>To start a JupyterLab server from Anaconda Navigator you must first
<a href="https://docs.anaconda.com/anaconda/navigator/getting-started/#starting-navigator" class="external-link">start
Anaconda Navigator (click for detailed instructions on macOS, Windows,
and Linux)</a>. You can search for Anaconda Navigator via Spotlight on
macOS (<kbd>Command</kbd> + <kbd>spacebar</kbd>), the Windows search
function (<kbd>Windows Logo Key</kbd>) or opening a terminal shell and
executing the <code>anaconda-navigator</code> executable from the
command line.</p>
<p>After you have launched Anaconda Navigator, click the
<code>Launch</code> button under JupyterLab. You may need to scroll down
to find it.</p>
<p>Here is a screenshot of an Anaconda Navigator page similar to the one
that should open on either macOS or Windows.</p>
<figure><img src="fig/0_anaconda_navigator_landing_page.png" alt="" class="figure mx-auto d-block"><figcaption>Anaconda Navigator landing page</figcaption></figure><p>And here is a screenshot of a JupyterLab landing page that should be
similar to the one that opens in your default web browser after starting
the JupyterLab server on either macOS or Windows.</p>
<figure><img src="fig/0_jupyterlab_landing_page.png" alt="" class="figure mx-auto d-block"><figcaption>Anaconda Navigator landing page</figcaption></figure>
</div>
</section><section id="the-jupyterlab-interface"><h2 class="section-heading">The JupyterLab Interface<a class="anchor" aria-label="anchor" href="#the-jupyterlab-interface"></a>
</h2>
<hr class="half-width">
<p>JupyterLab has many features found in traditional integrated
development environments (IDEs) but is focused on providing flexible
building blocks for interactive, exploratory computing.</p>
<p>The <a href="https://jupyterlab.readthedocs.io/en/stable/user/interface.html" class="external-link">JupyterLab
Interface</a> consists of the Menu Bar, a collapsable Left Side Bar, and
the Main Work Area which contains tabs of documents and activities.</p>
<div class="section level3">
<h3 id="menu-bar">Menu Bar<a class="anchor" aria-label="anchor" href="#menu-bar"></a>
</h3>
<p>The Menu Bar at the top of JupyterLab has the top-level menus that
expose various actions available in JupyterLab along with their keyboard
shortcuts (where applicable). The following menus are included by
default.</p>
<ul>
<li>
<strong>File:</strong> Actions related to files and directories such
as <em>New</em>, <em>Open</em>, <em>Close</em>, <em>Save</em>, etc. The
<em>File</em> menu also includes the <em>Shut Down</em> action used to
shutdown the JupyterLab server.</li>
<li>
<strong>Edit:</strong> Actions related to editing documents and
other activities such as <em>Undo</em>, <em>Cut</em>, <em>Copy</em>,
<em>Paste</em>, etc.</li>
<li>
<strong>View:</strong> Actions that alter the appearance of
JupyterLab.</li>
<li>
<strong>Run:</strong> Actions for running code in different
activities such as notebooks and code consoles (discussed below).</li>
<li>
<strong>Kernel:</strong> Actions for managing kernels. Kernels in
Jupyter will be explained in more detail below.</li>
<li>
<strong>Tabs:</strong> A list of the open documents and activities
in the main work area.</li>
<li>
<strong>Settings:</strong> Common JupyterLab settings can be
configured using this menu. There is also an <em>Advanced Settings
Editor</em> option in the dropdown menu that provides more fine-grained
control of JupyterLab settings and configuration options.</li>
<li>
<strong>Help:</strong> A list of JupyterLab and kernel help
links.</li>
</ul>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="kernels" class="callout-inner">
<h3 class="callout-title">Kernels<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>The JupyterLab <a href="https://jupyterlab.readthedocs.io/en/stable/user/documents_kernels.html" class="external-link">docs</a>
define kernels as “separate processes started by the server that run
your code in different programming languages and environments.” When we
open a Jupyter Notebook, that starts a kernel - a process - that is
going to run the code. In this lesson, we’ll be using the Jupyter
ipython kernel which lets us run Python 3 code interactively.</p>
<p>Using other Jupyter <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels" class="external-link">kernels
for other programming languages</a> would let us write and execute code
in other programming languages in the same JupyterLab interface, like R,
Java, Julia, Ruby, JavaScript, Fortran, etc.</p>
</div>
</div>
</div>
<p>A screenshot of the default Menu Bar is provided below.</p>
<figure><img src="fig/0_jupyterlab_menu_bar.png" alt="" class="figure mx-auto d-block"><figcaption>JupyterLab Menu Bar</figcaption></figure>
</div>
<div class="section level3">
<h3 id="left-sidebar">Left Sidebar<a class="anchor" aria-label="anchor" href="#left-sidebar"></a>
</h3>
<p>The left sidebar contains a number of commonly used tabs, such as a
file browser (showing the contents of the directory where the JupyterLab
server was launched), a list of running kernels and terminals, the
command palette, and a list of open tabs in the main work area. A
screenshot of the default Left Side Bar is provided below.</p>
<figure><img src="fig/0_jupyterlab_left_side_bar.png" alt="" class="figure mx-auto d-block"><figcaption>JupyterLab Left Side Bar</figcaption></figure><p>The left sidebar can be collapsed or expanded by selecting “Show Left
Sidebar” in the View menu or by clicking on the active sidebar tab.</p>
</div>
<div class="section level3">
<h3 id="main-work-area">Main Work Area<a class="anchor" aria-label="anchor" href="#main-work-area"></a>
</h3>
<p>The main work area in JupyterLab enables you to arrange documents
(notebooks, text files, etc.) and other activities (terminals, code
consoles, etc.) into panels of tabs that can be resized or subdivided. A
screenshot of the default Main Work Area is provided below.</p>
<figure><img src="fig/0_jupyterlab_main_work_area.png" alt="" class="figure mx-auto d-block"><figcaption>JupyterLab Main Work Area</figcaption></figure><p>Drag a tab to the center of a tab panel to move the tab to the panel.
Subdivide a tab panel by dragging a tab to the left, right, top, or
bottom of the panel. The work area has a single current activity. The
tab for the current activity is marked with a colored top border (blue
by default).</p>
</div>
</section><section id="creating-a-python-script"><h2 class="section-heading">Creating a Python script<a class="anchor" aria-label="anchor" href="#creating-a-python-script"></a>
</h2>
<hr class="half-width">
<ul>
<li>To start writing a new Python program click the Text File icon under
the <em>Other</em> header in the Launcher tab of the Main Work Area.
<ul>
<li>You can also create a new plain text file by selecting the <em>New
-&gt; Text File</em> from the <em>File</em> menu in the Menu Bar.</li>
</ul>
</li>
<li>To convert this plain text file to a Python program, select the
<em>Save File As</em> action from the <em>File</em> menu in the Menu Bar
and give your new text file a name that ends with the <code>.py</code>
extension.
<ul>
<li>The <code>.py</code> extension lets everyone (including the
operating system) know that this text file is a Python program.</li>
<li>This is convention, not a requirement.</li>
</ul>
</li>
</ul></section><section id="creating-a-jupyter-notebook"><h2 class="section-heading">Creating a Jupyter Notebook<a class="anchor" aria-label="anchor" href="#creating-a-jupyter-notebook"></a>
</h2>
<hr class="half-width">
<p>To open a new notebook click the Python 3 icon under the
<em>Notebook</em> header in the Launcher tab in the main work area. You
can also create a new notebook by selecting <em>New -&gt; Notebook</em>
from the <em>File</em> menu in the Menu Bar.</p>
<p>Additional notes on Jupyter notebooks.</p>
<ul>
<li>Notebook files have the extension <code>.ipynb</code> to distinguish
them from plain-text Python programs.</li>
<li>Notebooks can be exported as Python scripts that can be run from the
command line.</li>
</ul>
<p>Below is a screenshot of a Jupyter notebook running inside
JupyterLab. If you are interested in more details, then see the <a href="https://jupyterlab.readthedocs.io/en/stable/user/notebook.html" class="external-link">official
notebook documentation</a>.</p>
<figure><img src="fig/0_jupyterlab_notebook_screenshot.png" alt="" class="figure mx-auto d-block"><figcaption>Example Jupyter Notebook</figcaption></figure><div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="how-its-stored" class="callout-inner">
<h3 class="callout-title">How It’s Stored<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<ul>
<li>The notebook file is stored in a format called JSON.</li>
<li>Just like a webpage, what’s saved looks different from what you see
in your browser.</li>
<li>But this format allows Jupyter to mix source code, text, and images,
all in one file.</li>
</ul>
</div>
</div>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="arranging-documents-into-panels-of-tabs" class="callout-inner">
<h3 class="callout-title">Arranging Documents into Panels of Tabs<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>In the JupyterLab Main Work Area you can arrange documents into
panels of tabs. Here is an example from the <a href="https://jupyterlab.readthedocs.io/en/stable/" class="external-link">official
documentation</a>.</p>
<figure><img src="fig/0_multipanel_jupyterlab_screenshot.png" alt="" class="figure mx-auto d-block"><figcaption>Multi-panel JupyterLab</figcaption></figure><p>First, create a text file, Python console, and terminal window and
arrange them into three panels in the main work area. Next, create a
notebook, terminal window, and text file and arrange them into three
panels in the main work area. Finally, create your own combination of
panels and tabs. What combination of panels and tabs do you think will
be most useful for your workflow?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>After creating the necessary tabs, you can drag one of the tabs to
the center of a panel to move the tab to the panel; next you can
subdivide a tab panel by dragging a tab to the left, right, top, or
bottom of the panel.</p>
</div>
</div>
</div>
</div>
<div id="callout5" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="code-vs.-text" class="callout-inner">
<h3 class="callout-title">Code vs. Text<a class="anchor" aria-label="anchor" href="#callout5"></a>
</h3>
<div class="callout-content">
<p>Jupyter mixes code and text in different types of blocks, called
cells. We often use the term “code” to mean “the source code of software
written in a language such as Python”. A “code cell” in a Notebook is a
cell that contains software; a “text cell” is one that contains ordinary
prose written for human beings.</p>
</div>
</div>
</div>
</section><section id="the-notebook-has-command-and-edit-modes."><h2 class="section-heading">The Notebook has Command and Edit modes.<a class="anchor" aria-label="anchor" href="#the-notebook-has-command-and-edit-modes."></a>
</h2>
<hr class="half-width">
<ul>
<li>If you press <kbd>Esc</kbd> and <kbd>Return</kbd> alternately, the
outer border of your code cell will change from gray to blue.</li>
<li>These are the <strong>Command</strong> (gray) and
<strong>Edit</strong> (blue) modes of your notebook.</li>
<li>Command mode allows you to edit notebook-level features, and Edit
mode changes the content of cells.</li>
<li>When in Command mode (esc/gray),
<ul>
<li>The <kbd>b</kbd> key will make a new cell below the currently
selected cell.</li>
<li>The <kbd>a</kbd> key will make one above.</li>
<li>The <kbd>x</kbd> key will delete the current cell.</li>
<li>The <kbd>z</kbd> key will undo your last cell operation (which could
be a deletion, creation, etc).</li>
</ul>
</li>
<li>All actions can be done using the menus, but there are lots of
keyboard shortcuts to speed things up.</li>
</ul>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="command-vs.-edit" class="callout-inner">
<h3 class="callout-title">Command Vs. Edit<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>In the Jupyter notebook page are you currently in Command or Edit
mode?<br>
Switch between the modes. Use the shortcuts to generate a new cell. Use
the shortcuts to delete a cell. Use the shortcuts to undo the last cell
operation you performed.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Command mode has a grey border and Edit mode has a blue border. Use
<kbd>Esc</kbd> and <kbd>Return</kbd> to switch between modes. You need
to be in Command mode (Press <kbd>Esc</kbd> if your cell is blue). Type
<kbd>b</kbd> or <kbd>a</kbd>. You need to be in Command mode (Press
<kbd>Esc</kbd> if your cell is blue). Type <kbd>x</kbd>. You need to be
in Command mode (Press <kbd>Esc</kbd> if your cell is blue). Type
<kbd>z</kbd>.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="use-the-keyboard-and-mouse-to-select-and-edit-cells-">Use the keyboard and mouse to select and edit cells.<a class="anchor" aria-label="anchor" href="#use-the-keyboard-and-mouse-to-select-and-edit-cells-"></a>
</h3>
<ul>
<li>Pressing the <kbd>Return</kbd> key turns the border blue and engages
Edit mode, which allows you to type within the cell.</li>
<li>Because we want to be able to write many lines of code in a single
cell, pressing the <kbd>Return</kbd> key when in Edit mode (blue) moves
the cursor to the next line in the cell just like in a text editor.</li>
<li>We need some other way to tell the Notebook we want to run what’s in
the cell.</li>
<li>Pressing <kbd>Shift</kbd>+<kbd>Return</kbd> together will execute
the contents of the cell.</li>
<li>Notice that the <kbd>Return</kbd> and <kbd>Shift</kbd> keys on the
right of the keyboard are right next to each other.</li>
</ul>
</div>
<div class="section level3">
<h3 id="the-notebook-will-turn-markdown-into-pretty-printed-documentation-">The Notebook will turn Markdown into pretty-printed
documentation.<a class="anchor" aria-label="anchor" href="#the-notebook-will-turn-markdown-into-pretty-printed-documentation-"></a>
</h3>
<ul>
<li>Notebooks can also render <a href="https://en.wikipedia.org/wiki/Markdown" class="external-link">Markdown</a>.
<ul>
<li>A simple plain-text format for writing lists, links, and other
things that might go into a web page.</li>
<li>Equivalently, a subset of HTML that looks like what you’d send in an
old-fashioned email.</li>
</ul>
</li>
<li>Turn the current cell into a Markdown cell by entering the Command
mode (<kbd>Esc</kbd>/gray) and press the <kbd>M</kbd> key.</li>
<li>
<code>In [ ]:</code> will disappear to show it is no longer a code
cell and you will be able to write in Markdown.</li>
<li>Turn the current cell into a Code cell by entering the Command mode
(<kbd>Esc</kbd>/gray) and press the <kbd>y</kbd> key.</li>
</ul>
</div>
<div class="section level3">
<h3 id="markdown-does-most-of-what-html-does-">Markdown does most of what HTML does.<a class="anchor" aria-label="anchor" href="#markdown-does-most-of-what-html-does-"></a>
</h3>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code>*   Use asterisks
*   to create
*   bullet lists.</code></pre>
</div>
<div class="col-md-6" markdown="1">
<ul>
<li>Use asterisks</li>
<li>to create</li>
<li>bullet lists.</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code>1.  Use numbers
1.  to create
1.  numbered lists.</code></pre>
</div>
<div class="col-md-6" markdown="1">
<ol style="list-style-type: decimal">
<li>Use numbers</li>
<li>to create</li>
<li>numbered lists.</li>
</ol>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code>*  You can use indents
	*  To create sublists 
	*  of the same type
*  Or sublists
	1. Of different
	1. types</code></pre>
</div>
<div class="col-md-6" markdown="1">
<ul>
<li>You can use indents
<ul>
<li>To create sublists</li>
<li>of the same type</li>
</ul>
</li>
<li>Or sublists
<ol style="list-style-type: decimal">
<li>Of different</li>
<li>types</li>
</ol>
</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code><span><span class="co"># A Level-1 Heading</span></span></code></pre>
</div>
<div class="section level1 col-md-6" markdown="1">
<h1 id="a-level-1-heading">A Level-1 Heading<a class="anchor" aria-label="anchor" href="#a-level-1-heading"></a>
</h1>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code><span><span class="co">## A Level-2 Heading (etc.)</span></span></code></pre>
</div>
<div class="section level2 col-md-6" markdown="1">
<h2 id="a-level-2-heading-etc-">A Level-2 Heading (etc.)<a class="anchor" aria-label="anchor" href="#a-level-2-heading-etc-"></a>
</h2>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code>Line breaks
don't matter.

But blank lines
create new paragraphs.</code></pre>
</div>
<div class="col-md-6" markdown="1">
<p>Line breaks don’t matter.</p>
<p>But blank lines create new paragraphs.</p>
</div>
</div>
<div class="row">
<div class="col-md-6" markdown="1">
<pre><code>[Create links](http://software-carpentry.org) with `[...](...)`.
Or use [named links][data_carpentry].

[data_carpentry]: http://datacarpentry.org</code></pre>
</div>
<div class="col-md-6" markdown="1">
<p><a href="http://software-carpentry.org" class="external-link">Create links</a> with
<code>[...](...)</code>. Or use <a href="http://datacarpentry.org" class="external-link">named
links</a>.</p>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creating-lists-in-markdown" class="callout-inner">
<h3 class="callout-title">Creating Lists in Markdown<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Create a nested list in a Markdown cell in a notebook that looks like
this:</p>
<ol style="list-style-type: decimal">
<li>Get funding.</li>
<li>Do work.
<ul>
<li>Design experiment.</li>
<li>Collect data.</li>
<li>Analyze.</li>
</ul>
</li>
<li>Write up.</li>
<li>Publish.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>This challenge integrates both the numbered list and bullet list.
Note that the bullet list is indented 2 spaces so that it is inline with
the items of the numbered list.</p>
<pre><code>1.  Get funding.
1.  Do work.
    *   Design experiment.
    *   Collect data.
    *   Analyze.
1.  Write up.
1.  Publish.</code></pre>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="more-math" class="callout-inner">
<h3 class="callout-title">More Math<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>What is displayed when a Python cell in a notebook that contains
several calculations is executed? For example, what happens when this
cell is executed?</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Python returns the output of the last calculation.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="change-an-existing-cell-from-code-to-markdown" class="callout-inner">
<h3 class="callout-title">Change an Existing Cell from Code to
Markdown<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>What happens if you write some Python in a code cell and then you
switch it to a Markdown cell? For example, put the following in a code
cell:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">6</span> <span class="op">*</span> <span class="dv">7</span> <span class="op">+</span> <span class="dv">12</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x)</span></code></pre>
</div>
<p>And then run it with <kbd>Shift</kbd>+<kbd>Return</kbd> to be sure
that it works as a code cell. Now go back to the cell and use
<kbd>Esc</kbd> then <kbd>m</kbd> to switch the cell to Markdown and
“run” it with <kbd>Shift</kbd>+<kbd>Return</kbd>. What happened and how
might this be useful?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>The Python code gets treated like Markdown text. The lines appear as
if they are part of one contiguous paragraph. This could be useful to
temporarily turn on and off cells in notebooks that get used for
multiple purposes.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">6</span> <span class="op">*</span> <span class="dv">7</span> <span class="op">+</span> <span class="dv">12</span> <span class="bu">print</span>(x)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="equations" class="callout-inner">
<h3 class="callout-title">Equations<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Standard Markdown (such as we’re using for these notes) won’t render
equations, but the Notebook will. Create a new Markdown cell and enter
the following:</p>
<pre><code>$\sum_{i=1}^{N} 2^{-i} \approx 1$</code></pre>
<p>(It’s probably easier to copy and paste.) What does it display? What
do you think the underscore, <code>_</code>, circumflex, <code>^</code>,
and dollar sign, <code>$</code>, do?</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>The notebook shows the equation as it would be rendered from LaTeX
equation syntax. The dollar sign, <code>$</code>, is used to tell
Markdown that the text in between is a LaTeX equation. If you’re not
familiar with LaTeX, underscore, <code>_</code>, is used for subscripts
and circumflex, <code>^</code>, is used for superscripts. A pair of
curly braces, <code>{</code> and <code>}</code>, is used to group text
together so that the statement <code>i=1</code> becomes the subscript
and <code>N</code> becomes the superscript. Similarly, <code>-i</code>
is in curly braces to make the whole statement the superscript for
<code>2</code>. <code>\sum</code> and <code>\approx</code> are LaTeX
commands for “sum over” and “approximate” symbols.</p>
</div>
</div>
</div>
</div>
</div>
</section><section id="closing-jupyterlab"><h2 class="section-heading">Closing JupyterLab<a class="anchor" aria-label="anchor" href="#closing-jupyterlab"></a>
</h2>
<hr class="half-width">
<ul>
<li>From the Menu Bar select the “File” menu and then choose “Shut Down”
at the bottom of the dropdown menu. You will be prompted to confirm that
you wish to shutdown the JupyterLab server (don’t forget to save your
work!). Click “Shut Down” to shutdown the JupyterLab server.</li>
<li>To restart the JupyterLab server you will need to re-run the
following command from a shell.</li>
</ul>
<pre><code>$ jupyter lab</code></pre>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="closing-jupyterlab-1" class="callout-inner">
<h3 class="callout-title">Closing JupyterLab<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Practice closing and restarting the JupyterLab server.</p>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-02-variables"><p>Content from <a href="02-variables.html">Variables in Python</a></p>
<hr>
<p> Last updated on 2023-04-18 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/02-variables.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do I run Python code?</li>
<li>What are variables?</li>
<li>How do I set variables in Python?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use the Python console to perform calculations.</li>
<li>Assign values to variables in Python.</li>
<li>Reuse variables in Python.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Python is an interpreted programming language, and can be used
interactively.</li>
<li>
<strong>Values</strong> are assigned to <strong>variables</strong>
in Python using <code>=</code>.</li>
<li>You can use <code>print</code> to output variable values.</li>
<li>Use meaningful variable names.</li>
</ul>
</div>
</div>
</div>
<section id="variables-store-values."><h2 class="section-heading">Variables store values.<a class="anchor" aria-label="anchor" href="#variables-store-values."></a>
</h2>
<hr class="half-width">
<ul>
<li>
<strong>Variables</strong> are names for values.</li>
<li>In Python the <code>=</code> symbol assigns the value on the right
to the name on the left.</li>
<li>The variable is created when a value is assigned to it.</li>
<li>Here, Python assigns an age to a variable <code>age</code> and a
name in quotes to a variable <code>first_name</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>first_name <span class="op">=</span> <span class="st">'Ahmed'</span></span></code></pre>
</div>
<ul>
<li>Variable names
<ul>
<li>can <strong>only</strong> contain letters, digits, and underscore
<code>_</code> (typically used to separate words in long variable
names)</li>
<li>cannot start with a digit</li>
<li>are <strong>case sensitive</strong> (age, Age and AGE are three
different variables)</li>
</ul>
</li>
<li>Variable names that start with underscores like
<code>__alistairs_real_age</code> have a special meaning so we won’t do
that until we understand the convention.</li>
</ul></section><section id="use-print-to-display-values."><h2 class="section-heading">Use <code>print</code> to display values.<a class="anchor" aria-label="anchor" href="#use-print-to-display-values."></a>
</h2>
<hr class="half-width">
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Callout<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>A <strong>string</strong> is the <strong>type</strong> which stores
text in Python. Strings can be thought of as sequences or
<em>string</em>s of individual characters (and using the words string
this way actually goes back to a printing term in the pre-computer era).
We will be learning more about types and strings in other lessons.</p>
</div>
</div>
</div>
<ul>
<li>Python has a built-in function called <code>print</code> that prints
things as text.</li>
<li>Call the function (i.e., tell Python to run it) by using its
name.</li>
<li>Provide values to the function (i.e., the things to print) in
parentheses.</li>
<li>To add a string to the printout, wrap the string in single or double
quotes.</li>
<li>The values passed to the function are called
<strong>arguments</strong>
</li>
</ul>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="single-vs.-double-quotes" class="callout-inner">
<h3 class="callout-title">Single vs. double quotes<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>In Python, you can use single quotes or double quotes to denote a
string, but you need to use the same one for both the beginning and the
end.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="st">"mouse"</span> <span class="co"># is a string</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="st">'mouse'</span> <span class="co"># is a string</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="st">"mouse'nt"</span> <span class="co"># we can use a single quote inside double quotes without ending the string</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="st">'mouse" #This doesn'</span>t work</span></code></pre>
</div>
</div>
</div>
</div>
<p>In Python,</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(first_name, <span class="st">'is'</span>, age, <span class="st">'years old'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ahmed is 42 years old</code></pre>
</div>
<ul>
<li>
<code>print</code> automatically puts a single space between items
to separate them.</li>
</ul>
<p>In when using Jupyter notebooks, we can also simply write a variable
name and its value will be displayed:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>age</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">42</span></span></code></pre>
</div>
<p>However, this will not work in other programming environments or when
running scripts. We will be displaying variables using both methods
throughout this workshop.</p>
</section><section id="variables-must-be-created-before-they-are-used."><h2 class="section-heading">Variables must be created before they are used.<a class="anchor" aria-label="anchor" href="#variables-must-be-created-before-they-are-used."></a>
</h2>
<hr class="half-width">
<ul>
<li>If a variable doesn’t exist yet, or if the name has been
mis-spelled, Python reports an error. (Unlike some languages, which
“guess” a default value.)</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(last_name)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-1-c1fbb4e96102&gt; in &lt;module&gt;()
----&gt; 1 print(last_name)

NameError: name 'last_name' is not defined</code></pre>
</div>
<ul>
<li>The last line of an error message is usually the most
informative.</li>
<li>We will look at error messages in detail later.</li>
</ul>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="variables-persist-between-cells" class="callout-inner">
<h3 class="callout-title">Variables Persist Between Cells<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>Be aware that it is the <em>order</em> of execution of cells that is
important in a Jupyter notebook, not the order in which they appear.
Python will remember <em>all</em> the code that was run previously,
including any variables you have defined, irrespective of the order in
the notebook. Therefore if you define variables lower down the notebook
and then (re)run cells further up, those defined further down will still
be present. As an example, create two cells with the following content,
in this order:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(myval)</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>myval <span class="op">=</span> <span class="dv">1</span></span></code></pre>
</div>
<p>If you execute this in order, the first cell will give an error.
However, if you run the first cell <em>after</em> the second cell it
will print out <code>1</code>. To prevent confusion, it can be helpful
to use the <code>Kernel</code> -&gt; <code>Restart &amp; Run All</code>
option which clears the interpreter and runs everything from a clean
slate going top to bottom.</p>
</div>
</div>
</div>
</section><section id="variables-can-be-used-in-calculations."><h2 class="section-heading">Variables can be used in calculations.<a class="anchor" aria-label="anchor" href="#variables-can-be-used-in-calculations."></a>
</h2>
<hr class="half-width">
<ul>
<li>We can use variables in calculations just as if they were values.
<ul>
<li>Remember, we assigned the value <code>42</code> to <code>age</code>
a few lines ago.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> age <span class="op">+</span> <span class="dv">3</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Age in three years:'</span>, age)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Age in three years: 45</code></pre>
</div>
</section><section id="python-is-case-sensitive."><h2 class="section-heading">Python is case-sensitive.<a class="anchor" aria-label="anchor" href="#python-is-case-sensitive."></a>
</h2>
<hr class="half-width">
<ul>
<li>Python thinks that upper- and lower-case letters are different, so
<code>Name</code> and <code>name</code> are different variables.</li>
<li>There are conventions for using upper-case letters at the start of
variable names so we will use lower-case letters for now.</li>
</ul></section><section id="use-meaningful-variable-names."><h2 class="section-heading">Use meaningful variable names.<a class="anchor" aria-label="anchor" href="#use-meaningful-variable-names."></a>
</h2>
<hr class="half-width">
<ul>
<li>Python doesn’t care what you call variables as long as they obey the
rules (alphanumeric characters and the underscore).</li>
</ul>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>flabadab <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>ewr_422_yY <span class="op">=</span> <span class="st">'Ahmed'</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ewr_422_yY, <span class="st">'is'</span>, flabadab, <span class="st">'years old'</span>)</span></code></pre>
</div>
<ul>
<li>Use meaningful variable names to help other people understand what
the program does.</li>
<li>The most important “other person” is your future self.</li>
</ul>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="swapping-values" class="callout-inner">
<h3 class="callout-title">Swapping Values<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Fill the table showing the values of the variables in this program
<em>after</em> each statement is executed.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Command  # Value of x   # Value of y   # Value of swap #</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="fl">1.0</span>    <span class="co">#              #              #               #</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="fl">3.0</span>    <span class="co">#              #              #               #</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>swap <span class="op">=</span> x   <span class="co">#              #              #               #</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> y      <span class="co">#              #              #               #</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> swap   <span class="co">#              #              #               #</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1">
  Give me a hint
  </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Try using this <a href="https://pythontutor.com/visualize.html#code=x%20%3D%201.0%20%20%20%0Ay%20%3D%203.0%20%0Aswap%20%3D%20x%20%0Ax%20%3D%20y%20%20%20%20%20%20%0Ay%20%3D%20swap%20&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" class="external-link">python
visualization tool</a> to visualize what happens in the code.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="co"># Command  # Value of x   # Value of y   # Value of swap #</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="fl">1.0</span>    <span class="co"># 1.0          # not defined  # not defined   #</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="fl">3.0</span>    <span class="co"># 1.0          # 3.0          # not defined   #</span></span>
<span><span class="va">swap</span> <span class="op">=</span> <span class="va">x</span>   <span class="co"># 1.0          # 3.0          # 1.0           #</span></span>
<span><span class="va">x</span> <span class="op">=</span> <span class="va">y</span>      <span class="co"># 3.0          # 3.0          # 1.0           #</span></span>
<span><span class="va">y</span> <span class="op">=</span> <span class="va">swap</span>   <span class="co"># 3.0          # 1.0          # 1.0           #</span></span></code></pre>
</div>
<p>These three lines exchange the values in <code>x</code> and
<code>y</code> using the <code>swap</code> variable for temporary
storage. This is a fairly common programming idiom.</p>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="predicting-values" class="callout-inner">
<h3 class="callout-title">Predicting Values<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>What is the final value of <code>position</code> in the program
below? (Try to predict the value without running the program, then check
your prediction.)</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>initial <span class="op">=</span> <span class="st">'left'</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>position <span class="op">=</span> initial</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>initial <span class="op">=</span> <span class="st">'right'</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(position)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">left</span></span></code></pre>
</div>
<p>The <code>initial</code> variable is assigned the value
<code>'left'</code>. In the second line, the <code>position</code>
variable also receives the string value <code>'left'</code>. In third
line, the <code>initial</code> variable is given the value
<code>'right'</code>, but the <code>position</code> variable retains its
string value of <code>'left'</code>.</p>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="choosing-a-name" class="callout-inner">
<h3 class="callout-title">Choosing a Name<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Which is a better variable name, <code>m</code>, <code>min</code>, or
<code>minutes</code>? Why?</p>
</div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2">
  Give me a hint
  </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" aria-labelledby="headingHint2" data-bs-parent="#accordionHint2">
<div class="accordion-body">
<p>Hint: think about which code you would rather inherit from someone
who is leaving the lab:</p>
<ol style="list-style-type: decimal">
<li><code>ts = m * 60 + s</code></li>
<li><code>tot_sec = min * 60 + sec</code></li>
<li><code>total_seconds = minutes * 60 + seconds</code></li>
</ol>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p><code>minutes</code> is better because <code>min</code> might mean
something like “minimum” (and actually is an existing built-in function
in Python that we will cover later).</p>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-03-types"><p>Content from <a href="03-types.html">Basic Types</a></p>
<hr>
<p> Last updated on 2023-04-18 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/03-types.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What kinds of data are there in Python?</li>
<li>How are different data types treated differently?</li>
<li>How can I identify a variable’s type?</li>
<li>How can I convert between types?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain key differences between integers and floating point
numbers.</li>
<li>Explain key differences between numbers and character strings.</li>
<li>Use built-in functions to convert between integers, floating point
numbers, and strings.</li>
<li>Subset a string using slicing.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Every value has a type.</li>
<li>Use the built-in function <code>type</code> to find the type of a
value.</li>
<li>Types control what operations can be done on values.</li>
<li>Strings can be added and multiplied.</li>
<li>Strings have a length (but numbers don’t).</li>
</ul>
</div>
</div>
</div>
<section id="every-value-has-a-type."><h2 class="section-heading">Every value has a type.<a class="anchor" aria-label="anchor" href="#every-value-has-a-type."></a>
</h2>
<hr class="half-width">
<ul>
<li>Every value in a program has a specific type.</li>
<li>Integer (<code>int</code>): represents positive or negative whole
numbers like 3 or -512.</li>
<li>Floating point number (<code>float</code>): represents real numbers
like 3.14159 or -2.5.</li>
<li>Character string (usually called “string”, <code>str</code>): text.
<ul>
<li>Written in either single quotes or double quotes (as long as they
match).</li>
<li>The quote marks aren’t printed when the string is displayed.</li>
</ul>
</li>
</ul></section><section id="use-the-built-in-function-type-to-find-the-type-of-a-value."><h2 class="section-heading">Use the built-in function <code>type</code> to find the type of a
value.<a class="anchor" aria-label="anchor" href="#use-the-built-in-function-type-to-find-the-type-of-a-value."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use the built-in function <code>type</code> to find out what type a
value has.</li>
<li>Works on variables as well.
<ul>
<li>But remember: the <em>value</em> has the type — the
<em>variable</em> is just a label.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(<span class="dv">52</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'int'&gt;</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fitness <span class="op">=</span> <span class="st">'average'</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(fitness))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'str'&gt;</code></pre>
</div>
</section><section id="types-control-what-operations-or-methods-can-be-performed-on-a-given-value."><h2 class="section-heading">Types control what operations (or methods) can be performed on a
given value.<a class="anchor" aria-label="anchor" href="#types-control-what-operations-or-methods-can-be-performed-on-a-given-value."></a>
</h2>
<hr class="half-width">
<ul>
<li>A value’s type determines what the program can do to it.</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span> <span class="op">-</span> <span class="dv">3</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'hello'</span> <span class="op">-</span> <span class="st">'h'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-2-67f5626a1e07&gt; in &lt;module&gt;()
----&gt; 1 print('hello' - 'h')

TypeError: unsupported operand type(s) for -: 'str' and 'str'</code></pre>
</div>
</section><section id="simple-and-compound-types."><h2 class="section-heading">Simple and compound types.<a class="anchor" aria-label="anchor" href="#simple-and-compound-types."></a>
</h2>
<hr class="half-width">
<p>We can broadly split different types into two categories in Python:
<em>simple</em> types and <em>compound</em> types.</p>
<p>Simple types consist of a single value. In Python, these simple types
include:</p>
<ul>
<li><code>int</code></li>
<li><code>float</code></li>
<li><code>bool</code></li>
<li><code>NoneType</code></li>
</ul>
<p>Compound types contain <strong>multiple</strong> values. Compound
types include:</p>
<ul>
<li><code>str</code></li>
<li><code>list</code></li>
<li><code>dictionary</code></li>
<li><code>tuple</code></li>
<li><code>set</code></li>
</ul>
<p>In this lesson we will be learning about simple types and strings
(<code>str</code>), which are made up of multiple characters. We will go
into more detail on other compound types in future lessons.</p>
</section><section id="you-can-use-the-and-operators-on-strings."><h2 class="section-heading">You can use the “+” and “*” operators on strings.<a class="anchor" aria-label="anchor" href="#you-can-use-the-and-operators-on-strings."></a>
</h2>
<hr class="half-width">
<ul>
<li>“Adding” character strings concatenates them.</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>full_name <span class="op">=</span> <span class="st">'Ahmed'</span> <span class="op">+</span> <span class="st">' '</span> <span class="op">+</span> <span class="st">'Walsh'</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(full_name)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ahmed Walsh</code></pre>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="the-empty-string" class="callout-inner">
<h3 class="callout-title">The empty string<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>We can initialize a string to contain no letter,
<code>empty = ""</code>. This is called the <strong>empty
string</strong>, and is often used when we want to build up a string
character by character</p>
</div>
</div>
</div>
<ul>
<li>Multiplying a character string by an integer <em>N</em> creates a
new string that consists of that character string repeated <em>N</em>
times.
<ul>
<li>Since multiplication is repeated addition.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>separator <span class="op">=</span> <span class="st">'='</span> <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(separator)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>==========</code></pre>
</div>
</section><section id="strings-have-a-length-but-numbers-dont."><h2 class="section-heading">Strings have a length (but numbers don’t).<a class="anchor" aria-label="anchor" href="#strings-have-a-length-but-numbers-dont."></a>
</h2>
<hr class="half-width">
<ul>
<li>The built-in function <code>len</code> counts the number of
characters in a string.</li>
</ul>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(full_name))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">11</span></span></code></pre>
</div>
<ul>
<li>But numbers don’t have a length (not even zero).</li>
</ul>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(<span class="dv">52</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-3-f769e8e8097d&gt; in &lt;module&gt;()
----&gt; 1 print(len(52))

TypeError: object of type 'int' has no len()</code></pre>
</div>
</section><section id="you-must-convert-numbers-to-strings-or-vice-versa-when-operating-on-them."><h2 class="section-heading">You must convert numbers to strings or vice versa when operating on
them.<a class="anchor" aria-label="anchor" href="#you-must-convert-numbers-to-strings-or-vice-versa-when-operating-on-them."></a>
</h2>
<hr class="half-width">
<ul>
<li>Cannot add numbers and strings.</li>
</ul>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">1</span> <span class="op">+</span> <span class="st">'2'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-4-fe4f54a023c6&gt; in &lt;module&gt;()
----&gt; 1 print(1 + '2')

TypeError: unsupported operand type(s) for +: 'int' and 'str'</code></pre>
</div>
<ul>
<li>The result here would be <code>3</code> if both values were
considered <code>int</code>s, and <code>'12'</code> if both values were
considered strings. Due to this ambiguity addition is not allowed
between strings and integers.</li>
<li>Some types can be converted to other types by using the type name as
a function.</li>
</ul>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">1</span> <span class="op">+</span> <span class="bu">int</span>(<span class="st">'2'</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">str</span>(<span class="dv">1</span>) <span class="op">+</span> <span class="st">'2'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span>
<span><span class="fl">12</span></span></code></pre>
</div>
</section><section id="you-can-mix-integers-and-floats-freely-in-operations."><h2 class="section-heading">You can mix integers and floats freely in operations.<a class="anchor" aria-label="anchor" href="#you-can-mix-integers-and-floats-freely-in-operations."></a>
</h2>
<hr class="half-width">
<ul>
<li>Integers and floating-point numbers can be mixed in arithmetic.
<ul>
<li>Python 3 automatically converts integers to floats as needed.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'half is'</span>, <span class="dv">1</span> <span class="op">/</span> <span class="fl">2.0</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'three squared is'</span>, <span class="fl">3.0</span> <span class="op">**</span> <span class="dv">2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>half is 0.5
three squared is 9.0</code></pre>
</div>
</section><section id="variables-only-change-value-when-something-is-assigned-to-them."><h2 class="section-heading">Variables only change value when something is assigned to them.<a class="anchor" aria-label="anchor" href="#variables-only-change-value-when-something-is-assigned-to-them."></a>
</h2>
<hr class="half-width">
<ul>
<li>If we make one cell in a spreadsheet depend on another, and update
the latter, the former updates automatically.</li>
<li>This does <strong>not</strong> happen in programming languages.</li>
</ul>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>variable_one <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>variable_two <span class="op">=</span> <span class="dv">5</span> <span class="op">*</span> variable_one</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>variable_one <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first is'</span>, variable_one, <span class="st">'and second is'</span>, variable_two)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first is 2 and second is 5</code></pre>
</div>
<ul>
<li>The computer reads the value of <code>variable_one</code> when doing
the multiplication, creates a new value, and assigns it to
<code>variable_two</code>.</li>
<li>Afterwards, the value of <code>variable_two</code> is set to the new
value and <em>not dependent on <code>variable_one</code></em> so its
value does not automatically change when <code>variable_one</code>
changes.</li>
</ul>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="fractions" class="callout-inner">
<h3 class="callout-title">Fractions<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>What type of value is 3.4? How can you find out?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>It is a floating-point number (often abbreviated “float”). It is
possible to find out by using the built-in function
<code>type()</code>.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(<span class="fl">3.4</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'float'&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="automatic-type-conversion" class="callout-inner">
<h3 class="callout-title">Automatic Type Conversion<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>What type of value is 3.25 + 4?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>It is a float: integers are automatically converted to floats as
necessary.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="fl">3.25</span> <span class="op">+</span> <span class="dv">4</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result, <span class="st">'is'</span>, <span class="bu">type</span>(result))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>7.25 is &lt;class 'float'&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="choose-a-type" class="callout-inner">
<h3 class="callout-title">Choose a Type<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>What type of value (integer, floating point number, or character
string) would you use to represent each of the following? Try to come up
with more than one good answer for each problem. For example, in # 1,
when would counting days with a floating point variable make more sense
than using an integer?</p>
<ol style="list-style-type: decimal">
<li>Number of days since the start of the year.</li>
<li>Time elapsed from the start of the year until now in days.</li>
<li>Serial number of a piece of lab equipment.</li>
<li>A lab specimen’s age</li>
<li>Current population of a city.</li>
<li>Average population of a city over time.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>The answers to the questions are: 1. Integer, since the number of
days would lie between 1 and 365. 2. Floating point, since fractional
days are required 3. Character string if serial number contains letters
and numbers, otherwise integer if the serial number consists only of
numerals 4. This will vary! How do you define a specimen’s age? whole
days since collection (integer)? date and time (string)? 5. Choose
floating point to represent population as large aggregates (eg
millions), or integer to represent population in units of individuals.
6. Floating point number, since an average is likely to have a
fractional part.</p>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="division-types" class="callout-inner">
<h3 class="callout-title">Division Types<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>In Python 3, the <code>//</code> operator performs integer
(whole-number) floor division, the <code>/</code> operator performs
floating-point division, and the <code>%</code> (or <em>modulo</em>)
operator calculates and returns the remainder from integer division:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'5 // 3:'</span>, <span class="dv">5</span> <span class="op">//</span> <span class="dv">3</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'5 / 3:'</span>, <span class="dv">5</span> <span class="op">/</span> <span class="dv">3</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'5 % 3:'</span>, <span class="dv">5</span> <span class="op">%</span> <span class="dv">3</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>5 // 3: 1
5 / 3: 1.6666666666666667
5 % 3: 2</code></pre>
</div>
<p>Imagine that you are buying cages for mice. <code>num_mice</code> is
the number of mice you need cages for, and <code>num_per_cage</code> is
the maximum number of mice which can live in a single cage. Write an
expression that calculates the exact number of cages you need to
purchase.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>num_mice <span class="op">=</span> <span class="dv">56</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>num_per_cage <span class="op">=</span> <span class="dv">3</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>We want the number of cages to house all of our mice, which is the
rounded up result of <code>num_mice / num_per_cage</code>. This is
equivalent to performing a floor division with <code>//</code> and
adding 1. Before the division we need to subtract 1 from the number of
mice to deal with the case where <code>num_mice</code> is evenly
divisible by <code>num_per_cage</code>.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>num_cages <span class="op">=</span> ((num_mice <span class="op">-</span> <span class="dv">1</span>) <span class="op">//</span> num_per_cage) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(num_mice, <span class="st">'mice,'</span>, num_per_cage, <span class="st">'per cage:'</span>, num_cages, <span class="st">'cages'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>56 mice, 3 per cage: 19 cages</code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="strings-to-numbers"><h2 class="section-heading">Strings to Numbers<a class="anchor" aria-label="anchor" href="#strings-to-numbers"></a>
</h2>
<hr class="half-width">
<p>Where reasonable, <code>float()</code> will convert a string to a
floating point number, and <code>int()</code> will convert a floating
point number to an integer:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"string to float:"</span>, <span class="bu">float</span>(<span class="st">"3.6"</span>))</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"float to int:"</span>, <span class="bu">int</span>(<span class="fl">3.6</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>string to float: 3.4
float to int: 3</code></pre>
</div>
<p>Note that converting a <code>float</code> to an <code>int</code> does
not round the result, but instead truncates it by removing everything
past the decimal point.</p>
<p>If the conversion doesn’t make sense, however, an error message will
occur.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"string to float:"</span>, <span class="bu">float</span>(<span class="st">"Hello world!"</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-5-df3b790bf0a2&gt; in &lt;module&gt;
----&gt; 1 print("string to float:", float("Hello world!"))
 ValueError: could not convert string to float: 'Hello world!'</code></pre>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>What do you expect the following program to do?</p>
<p>What does it actually do?</p>
<p>Why do you think it does that?</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"fractional string to int:"</span>, <span class="bu">int</span>(<span class="st">"3.6"</span>))</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>What do you expect this program to do? It would not be so
unreasonable to expect the Python 3 <code>int</code> command to convert
the string “3.4” to 3.4 and an additional type conversion to 3. After
all, Python 3 performs a lot of other magic - isn’t that part of its
charm?</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="bu">int</span>(<span class="st">"3.6"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-2-ec6729dfccdc&gt; in &lt;module&gt;
----&gt; 1 int("3.4")
ValueError: invalid literal for int() with base 10: '3.4'</code></pre>
</div>
<p>However, Python 3 throws an error. Why? To be consistent, possibly.
If you ask Python to perform two consecutive typecasts, you must convert
it explicitly in code.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">int</span>(<span class="bu">float</span>(<span class="st">"3.6"</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Arithmetic with Different Types</p>
<p>Which of the following will return the floating point number
<code>2.0</code>? Note: there may be more than one right answer.</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> <span class="st">"1"</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>third <span class="op">=</span> <span class="st">"1.1"</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>first + float(second)</code></li>
<li><code>float(second) + float(third)</code></li>
<li><code>first + int(third)</code></li>
<li><code>first + int(float(third))</code></li>
<li><code>int(first) + int(float(third))</code></li>
<li><code>2.0 * second</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<p>Answer: 1 and 4</p>
</div>
</div>
</div>
</div>
</section><section id="use-an-index-to-get-a-single-character-from-a-string."><h2 class="section-heading">Use an index to get a single character from a string.<a class="anchor" aria-label="anchor" href="#use-an-index-to-get-a-single-character-from-a-string."></a>
</h2>
<hr class="half-width">
<figure><img src="fig/03_0-based_indexing.png" alt="" class="figure mx-auto d-block"><figcaption>Python uses 0-based indexing.</figcaption></figure><ul>
<li>The characters (individual letters, numbers, and so on) in a string
are ordered. For example, the string <code>'AB'</code> is not the same
as <code>'BA'</code>. Because of this ordering, we can treat the string
as a list of characters.</li>
<li>Each position in the string (first, second, etc.) is given a number.
This number is called an <strong>index</strong> or sometimes a
subscript.</li>
<li>Indices are numbered from 0.</li>
<li>Use the position’s index in square brackets to get the character at
that position.</li>
</ul>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>atom_name <span class="op">=</span> <span class="st">'sodium'</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(atom_name[<span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">s</span></span></code></pre>
</div>
</section><section id="use-a-slice-to-get-a-substring."><h2 class="section-heading">Use a slice to get a substring.<a class="anchor" aria-label="anchor" href="#use-a-slice-to-get-a-substring."></a>
</h2>
<hr class="half-width">
<ul>
<li>A part of a string is called a <strong>substring</strong>. A
substring can be as short as a single character.</li>
<li>An item in a list is called an element. Whenever we treat a string
as if it were a list, the string’s elements are its individual
characters.</li>
<li>Slicing gets a part of a string (or, more generally, a part of any
list-like thing).</li>
<li>Slicing uses the notation <code>[start:stop]</code>, where
<code>start</code> is the integer index of the first element we want and
<code>stop</code> is the integer index of the element <em>just
after</em> the last element we want.</li>
<li>The difference between <code>stop</code> and <code>start</code> is
the slice’s length.</li>
<li>Taking a slice does not change the contents of the original string.
Instead, taking a slice returns a copy of part of the original
string.</li>
</ul>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>atom_name <span class="op">=</span> <span class="st">'sodium'</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(atom_name[<span class="dv">0</span>:<span class="dv">3</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">sod</span></span></code></pre>
</div>
</section><section id="use-the-built-in-function-len-to-find-the-length-of-a-string."><h2 class="section-heading">Use the built-in function <code>len</code> to find the length of a
string.<a class="anchor" aria-label="anchor" href="#use-the-built-in-function-len-to-find-the-length-of-a-string."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(<span class="st">'sodium'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6</span></span></code></pre>
</div>
<ul>
<li>Nested functions are evaluated from the inside out, like in
mathematics.</li>
</ul>
<div id="challenge7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="indexing" class="callout-inner">
<h3 class="callout-title">Indexing<a class="anchor" aria-label="anchor" href="#challenge7"></a>
</h3>
<div class="callout-content">
<p>If you assign <code>a = 123</code>, what happens if you try to get
the second digit of <code>a</code> via <code>a[1]</code>?</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<p>Numbers are not strings or sequences and Python will raise an error
if you try to perform an index operation on a number. In the <a href="%7B%7B%20page.root%20%7D%7D/03-types-conversion/#convert-numbers-and-strings">next
lesson on types and type conversion</a> we will learn more about types
and how to convert between different types. If you want the Nth digit of
a number you can convert it into a string using the <code>str</code>
built-in function and then perform an index operation on that
string.</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">123</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a[<span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>TypeError: 'int' object is not subscriptable</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="bu">str</span>(<span class="dv">123</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a[<span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge8" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="slicing-practice" class="callout-inner">
<h3 class="callout-title">Slicing practice<a class="anchor" aria-label="anchor" href="#challenge8"></a>
</h3>
<div class="callout-content">
<p>What does the following program print?</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>atom_name <span class="op">=</span> <span class="st">'carbon'</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'atom_name[1:3] is:'</span>, atom_name[<span class="dv">1</span>:<span class="dv">3</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>atom_name[1:3] is: ar</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge9" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="slicing-concepts" class="callout-inner">
<h3 class="callout-title">Slicing concepts<a class="anchor" aria-label="anchor" href="#challenge9"></a>
</h3>
<div class="callout-content">
<p>Given the following string:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>species_name <span class="op">=</span> <span class="st">"Acacia buxifolia"</span></span></code></pre>
</div>
<p>What would these expressions return?</p>
<ol style="list-style-type: decimal">
<li><code>species_name[2:8]</code></li>
<li>
<code>species_name[11:]</code> (without a value after the
colon)</li>
<li>
<code>species_name[:4]</code> (without a value before the
colon)</li>
<li>
<code>species_name[:]</code> (just a colon)</li>
<li><code>species_name[11:-3]</code></li>
<li><code>species_name[-5:-3]</code></li>
<li>What happens when you choose a <code>stop</code> value which is out
of range? (i.e., try <code>species_name[0:20]</code> or
<code>species_name[:103]</code>)</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" data-bs-parent="#accordionSolution9" aria-labelledby="headingSolution9">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>
<code>species_name[2:8]</code> returns the substring
<code>'acia b'</code>
</li>
<li>
<code>species_name[11:]</code> returns the substring
<code>'folia'</code>, from position 11 until the end</li>
<li>
<code>species_name[:4]</code> returns the substring
<code>'Acac'</code>, from the start up to but not including position
4</li>
<li>
<code>species_name[:]</code> returns the entire string
<code>'Acacia buxifolia'</code>
</li>
<li>
<code>species_name[11:-3]</code> returns the substring
<code>'fo'</code>, from the 11th position to the third last
position</li>
<li>
<code>species_name[-5:-3]</code> also returns the substring
<code>'fo'</code>, from the fifth last position to the third last</li>
<li>If a part of the slice is out of range, the operation does not fail.
<code>species_name[0:20]</code> gives the same result as
<code>species_name[0:]</code>, and <code>species_name[:103]</code> gives
the same result as <code>species_name[:]</code>
</li>
</ol>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-04-using-functions"><p>Content from <a href="04-using-functions.html">Built-in Functions and Help</a></p>
<hr>
<p> Last updated on 2023-04-14 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/04-using-functions.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I use built-in functions?</li>
<li>How can I find out what they do?</li>
<li>What kind of errors can occur in programs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain the purpose of functions.</li>
<li>Correctly call built-in Python functions.</li>
<li>Correctly nest calls to built-in functions.</li>
<li>Use help to display documentation for built-in functions.</li>
<li>Correctly describe situations in which SyntaxError and NameError
occur.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use comments to add documentation to programs.</li>
<li>A function may take zero or more arguments.</li>
<li>Commonly-used built-in functions include <code>max</code>,
<code>min</code>, and <code>round</code>.</li>
<li>Functions may only work for certain (combinations of)
arguments.</li>
<li>Functions may have default values for some arguments.</li>
<li>Use the built-in function <code>help</code> to get help for a
function.</li>
<li>Python reports a syntax error when it can’t understand the source of
a program.</li>
<li>Python reports a runtime error when something goes wrong while a
program is executing.</li>
</ul>
</div>
</div>
</div>
<section id="use-comments-to-add-documentation-to-programs."><h2 class="section-heading">Use comments to add documentation to programs.<a class="anchor" aria-label="anchor" href="#use-comments-to-add-documentation-to-programs."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This sentence isn't executed by Python.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>adjustment <span class="op">=</span> <span class="fl">0.5</span>   <span class="co"># Neither is this - anything after '#' is ignored.</span></span></code></pre>
</div>
<p>Comments are important for the <strong>readability</strong> of your
code. They are where you can explain what your code is doing, decisions
you made, and things to watch out for when using the code.</p>
<p>Well-commented code will be easier to use by others, and by you if
you are returning to code you wrote months or years ago.</p>
</section><section id="a-function-may-take-zero-or-more-arguments."><h2 class="section-heading">A function may take zero or more arguments.<a class="anchor" aria-label="anchor" href="#a-function-may-take-zero-or-more-arguments."></a>
</h2>
<hr class="half-width">
<ul>
<li>We have seen some functions already — now let’s take a closer
look.</li>
<li>An <em>argument</em> is a value passed into a function.</li>
<li>
<code>len</code> takes exactly one.</li>
<li>
<code>int</code>, <code>str</code>, and <code>float</code> create a
new value from an existing one.</li>
<li>
<code>print</code> takes zero or more.</li>
<li>
<code>print</code> with no arguments prints a blank line.
<ul>
<li>Must always use parentheses, even if they’re empty, so that Python
knows a function is being called.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'before'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'after'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">before</span></span>
<span></span>
<span><span class="va">after</span></span></code></pre>
</div>
</section><section id="every-function-returns-something."><h2 class="section-heading">Every function returns something.<a class="anchor" aria-label="anchor" href="#every-function-returns-something."></a>
</h2>
<hr class="half-width">
<ul>
<li>Every function call produces some result.</li>
<li>If the function doesn’t have a useful result to return, it usually
returns the special value <code>None</code>. <code>None</code> is a
Python object that stands in anytime there is no value.</li>
</ul>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="bu">print</span>(<span class="st">'example'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'result of print is'</span>, result)</span></code></pre>
</div>
<p>Note that even though we set the result of print equal to a variable,
printing still occurs.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>example
result of print is None</code></pre>
</div>
</section><section id="commonly-used-built-in-functions-include-max-min-and-round."><h2 class="section-heading">Commonly-used built-in functions include <code>max</code>,
<code>min</code>, and <code>round</code>.<a class="anchor" aria-label="anchor" href="#commonly-used-built-in-functions-include-max-min-and-round."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use <code>max</code> to find the largest value of one or more
values.</li>
<li>Use <code>min</code> to find the smallest.</li>
<li>Both work on character strings as well as numbers.
<ul>
<li>“Larger” and “smaller” use (0-9, A-Z, a-z) to compare letters.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">min</span>(<span class="st">'a'</span>, <span class="st">'A'</span>, <span class="st">'0'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3</span></span>
<span><span class="fl">0</span></span></code></pre>
</div>
</section><section id="functions-may-only-work-for-certain-combinations-of-arguments."><h2 class="section-heading">Functions may only work for certain (combinations of)
arguments.<a class="anchor" aria-label="anchor" href="#functions-may-only-work-for-certain-combinations-of-arguments."></a>
</h2>
<hr class="half-width">
<ul>
<li>
<code>max</code> and <code>min</code> must be given at least one
argument.
<ul>
<li>“Largest of the empty set” is a meaningless question.</li>
</ul>
</li>
<li>And they must be given things that can meaningfully be
compared.</li>
</ul>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(<span class="dv">1</span>, <span class="st">'a'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>TypeError                                 Traceback (most recent call last)
&lt;ipython-input-52-3f049acf3762&gt; in &lt;module&gt;
----&gt; 1 print(max(1, 'a'))

TypeError: '&gt;' not supported between instances of 'str' and 'int'</code></pre>
</div>
</section><section id="functions-may-have-default-values-for-some-arguments."><h2 class="section-heading">Functions may have default values for some arguments.<a class="anchor" aria-label="anchor" href="#functions-may-have-default-values-for-some-arguments."></a>
</h2>
<hr class="half-width">
<ul>
<li>
<code>round</code> will round off a floating-point number.</li>
<li>By default, rounds to zero decimal places.</li>
</ul>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">round</span>(<span class="fl">3.712</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">4</span></span></code></pre>
</div>
<ul>
<li>We can specify the number of decimal places we want.</li>
</ul>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">round</span>(<span class="fl">3.712</span>, <span class="dv">1</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3.7</span></span></code></pre>
</div>
</section><section id="functions-attached-to-objects-are-called-methods"><h2 class="section-heading">Functions attached to objects are called methods<a class="anchor" aria-label="anchor" href="#functions-attached-to-objects-are-called-methods"></a>
</h2>
<hr class="half-width">
<ul>
<li>Functions take another form that will be common in the pandas
episodes.</li>
<li>Methods have parentheses like functions, but come after the
variable.</li>
<li>Some methods are used for internal Python operations, and are marked
with double underlines.</li>
</ul>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="op">=</span> <span class="st">'Hello world!'</span>  <span class="co"># creation of a string object </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(my_string))       <span class="co"># the len function takes a string as an argument and returns the length of the string</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.swapcase()) <span class="co"># calling the swapcase method on the my_string object</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.<span class="fu">__len__</span>())  <span class="co"># calling the internal __len__ method on the my_string object, used by len(my_string)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>12
hELLO WORLD!
12</code></pre>
</div>
<ul>
<li>You might even see them chained together. They operate left to
right.</li>
</ul>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.isupper())          <span class="co"># Not all the letters are uppercase</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.upper())            <span class="co"># This capitalizes all the letters</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.upper().isupper())  <span class="co"># Now all the letters are uppercase</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>False
HELLO WORLD
True</code></pre>
</div>
</section><section id="use-the-built-in-function-help-to-get-help-for-a-function."><h2 class="section-heading">Use the built-in function <code>help</code> to get help for a
function.<a class="anchor" aria-label="anchor" href="#use-the-built-in-function-help-to-get-help-for-a-function."></a>
</h2>
<hr class="half-width">
<ul>
<li>Every built-in function has online documentation.</li>
</ul>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">round</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on built-in function round in module builtins:

round(number, ndigits=None)
    Round a number to a given precision in decimal digits.
    
    The return value is an integer if ndigits is omitted or None.  Otherwise
    the return value has the same type as the number.  ndigits may be negative.</code></pre>
</div>
</section><section id="the-jupyter-notebook-has-two-ways-to-get-help."><h2 class="section-heading">The Jupyter Notebook has two ways to get help.<a class="anchor" aria-label="anchor" href="#the-jupyter-notebook-has-two-ways-to-get-help."></a>
</h2>
<hr class="half-width">
<ul>
<li>Option 1: Place the cursor near where the function is invoked in a
cell (i.e., the function name or its parameters),
<ul>
<li>Hold down <kbd>Shift</kbd>, and press <kbd>Tab</kbd>.</li>
<li>Do this several times to expand the information returned.</li>
</ul>
</li>
<li>Option 2: Type the function name in a cell with a question mark
after it. Then run the cell.</li>
</ul></section><section id="python-reports-a-syntax-error-when-it-cant-understand-the-source-of-a-program."><h2 class="section-heading">Python reports a syntax error when it can’t understand the source of
a program.<a class="anchor" aria-label="anchor" href="#python-reports-a-syntax-error-when-it-cant-understand-the-source-of-a-program."></a>
</h2>
<hr class="half-width">
<ul>
<li>Won’t even try to run the program if it can’t be parsed.</li>
</ul>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Forgot to close the quote marks around the string.</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Feng</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-56-f42768451d55&gt;", line 2
    name = 'Feng
                ^
SyntaxError: EOL while scanning string literal</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># An extra '=' in the assignment.</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="op">=</span> <span class="dv">52</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-57-ccc3df3cf902&gt;", line 2
    age = = 52
          ^
SyntaxError: invalid syntax</code></pre>
</div>
<ul>
<li>Look more closely at the error message:</li>
</ul>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"hello world"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-6-d1cc229bf815&gt;", line 1
    print ("hello world"
                        ^
SyntaxError: unexpected EOF while parsing</code></pre>
</div>
<ul>
<li>The message indicates a problem on first line of the input (“line
1”).
<ul>
<li>In this case the “ipython-input” section of the file name tells us
that we are working with input into IPython, the Python interpreter used
by the Jupyter Notebook.</li>
</ul>
</li>
<li>The <code>-6-</code> part of the filename indicates that the error
occurred in cell 6 of our Notebook.</li>
<li>Next is the problematic line of code, indicating the problem with a
<code>^</code> pointer.</li>
</ul></section><section id="python-reports-a-runtime-error-when-something-goes-wrong-while-a-program-is-executing."><h2 class="section-heading">
<a name="runtime-error"></a> Python reports a runtime error when
something goes wrong while a program is executing.<a class="anchor" aria-label="anchor" href="#python-reports-a-runtime-error-when-something-goes-wrong-while-a-program-is-executing."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">53</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>remaining <span class="op">=</span> <span class="dv">100</span> <span class="op">-</span> aege <span class="co"># mis-spelled 'age'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>NameError                                 Traceback (most recent call last)
&lt;ipython-input-59-1214fb6c55fc&gt; in &lt;module&gt;
      1 age = 53
----&gt; 2 remaining = 100 - aege # mis-spelled 'age'

NameError: name 'aege' is not defined</code></pre>
</div>
<ul>
<li>Fix syntax errors by reading the source and runtime errors by
tracing execution.</li>
</ul>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="what-happens-when" class="callout-inner">
<h3 class="callout-title">What Happens When<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Explain in simple terms the order of operations in the following
program: when does the addition happen, when does the subtraction
happen, when is each function called, etc.</li>
<li>What is the final value of <code>radiance</code>?</li>
</ol>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>radiance <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>radiance <span class="op">=</span> <span class="bu">max</span>(<span class="fl">2.1</span>, <span class="fl">2.0</span> <span class="op">+</span> <span class="bu">min</span>(radiance, <span class="fl">1.1</span> <span class="op">*</span> radiance <span class="op">-</span> <span class="fl">0.5</span>))</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Order of operations:
<ol style="list-style-type: decimal">
<li><code>1.1 * radiance = 1.1</code></li>
<li><code>1.1 - 0.5 = 0.6</code></li>
<li><code>min(radiance, 0.6) = 0.6</code></li>
<li><code>2.0 + 0.6 = 2.6</code></li>
<li><code>max(2.1, 2.6) = 2.6</code></li>
</ol>
</li>
<li>At the end, <code>radiance = 2.6</code>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="spot-the-difference" class="callout-inner">
<h3 class="callout-title">Spot the Difference<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Predict what each of the <code>print</code> statements in the
program below will print.</li>
<li>Does <code>max(len(rich), poor)</code> run or produce an error
message? If it runs, does its result make any sense?</li>
</ol>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>easy_string <span class="op">=</span> <span class="st">"abc"</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(easy_string))</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>rich <span class="op">=</span> <span class="st">"gold"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>poor <span class="op">=</span> <span class="st">"tin"</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(rich, poor))</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(<span class="bu">len</span>(rich), <span class="bu">len</span>(poor)))</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(easy_string))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">c</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(rich, poor))</span></code></pre>
</div>
<p><code>max</code> for strings ranks them alphabetically.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">tin</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(<span class="bu">len</span>(rich), <span class="bu">len</span>(poor)))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">4</span></span></code></pre>
</div>
<p><code>max(len(rich), poor)</code> throws a TypeError. This turns into
<code>max(4, 'tin')</code> and as we discussed earlier a string and
integer cannot meaningfully be compared.</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>TypeError                                 Traceback (most recent call last)
&lt;ipython-input-65-bc82ad05177a&gt; in &lt;module&gt;
----&gt; 1 max(len(rich), poor)

TypeError: '&gt;' not supported between instances of 'str' and 'int'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="why-not" class="callout-inner">
<h3 class="callout-title">Why Not?<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Why is it that <code>max</code> and <code>min</code> do not return
<code>None</code> when they are called with no arguments?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p><code>max</code> and <code>min</code> return TypeErrors in this case
because the correct number of parameters was not supplied. If it just
returned <code>None</code>, the error would be much harder to trace as
it would likely be stored into a variable and used later in the program,
only to likely throw a runtime error.</p>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="last-character-of-a-string" class="callout-inner">
<h3 class="callout-title">Last Character of a String<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>If Python starts counting from zero, and <code>len</code> returns the
number of characters in a string, what index expression will get the
last character in the string <code>name</code>? (Note: we will see a
simpler way to do this in a later episode.)</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>name[<span class="bu">len</span>(name) <span class="op">-</span> <span class="dv">1</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="explore-the-python-docs" class="callout-inner">
<h3 class="callout-title">Explore the Python docs!<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>The <a href="https://docs.python.org/3/" class="external-link">official Python
documentation</a> is arguably the most complete source of information
about the language. It is available in different languages and contains
a lot of useful resources. The <a href="https://docs.python.org/3/library/functions.html" class="external-link">Built-in
Functions page</a> contains a catalogue of all of these functions,
including the ones that we’ve covered in this lesson. Some of these are
more advanced and unnecessary at the moment, but others are very simple
and useful.</p>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-home-01-strings"><p>Content from <a href="home-01-strings.html">String Manipulation</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-01-strings.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I manipulate text?</li>
<li>How can I create neat and dynamic text output?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Extract substrings of interest.</li>
<li>Format dynamic strings using f-strings.</li>
<li>Explore Python’s built-in string functions</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Strings can be indexed and sliced.</li>
<li>Strings cannot be directly altered.</li>
<li>You can build complex strings based on other variables using
f-strings and format.</li>
<li>Python has a variety of useful built-in string functions.</li>
</ul>
</div>
</div>
</div>
<section id="strings-can-be-indexed-and-sliced."><h2 class="section-heading">Strings can be indexed and sliced.<a class="anchor" aria-label="anchor" href="#strings-can-be-indexed-and-sliced."></a>
</h2>
<hr class="half-width">
<p>As we saw in class during the <a href="03-types.html">types</a>
lesson, strings in Python can be <strong>indexed</strong> and
<strong>sliced</strong></p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="op">=</span> <span class="st">"What a lovely day."</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Indexing</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>my_string[<span class="dv">2</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'a'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>my_string[<span class="dv">1</span>:<span class="dv">3</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'ha'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_string[:<span class="dv">3</span>] <span class="co"># Same as my_string[0:3]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'Wha'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>my_string[<span class="dv">1</span>:] <span class="co"># Same as my_string[1:len(my_string)]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'hat a lovely day.'</span></span></code></pre>
</div>
</section><section id="strings-are-immutable."><h2 class="section-heading">Strings are immutable.<a class="anchor" aria-label="anchor" href="#strings-are-immutable."></a>
</h2>
<hr class="half-width">
<p>We will talk about this concept in more detail when we explore <a href="05-lists.html">lists</a>. However, for now it is important to note
that strings, like simple types, <em>cannot have their values be
altered</em> in Python. Instead, a new value is created.</p>
<p>For simple types, this behavior isn’t that noticable:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># While this line appears to be changing the value 10 to 11, in reality a new integer with the value 11 is created and assigned to x. </span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>x</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">11</span></span></code></pre>
</div>
<p>However, for strings we can easily cause errors if we attempt to
change them directly:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This attempts to change the last character to 'g' </span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>my_string[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"g"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------
TypeError                           Traceback (most recent call last)
Input In [6], in &lt;cell line: 1&gt;()
----&gt; 1 my_string[-1] = "g"

TypeError: 'str' object does not support item assignment</code></pre>
</div>
<p>Thus, we need to learn ways in Python to manipulate and build
strings. In this instance, we can build a new string using indexing:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_new_string <span class="op">=</span> my_string[:<span class="op">-</span><span class="dv">2</span>] <span class="op">+</span> <span class="st">"g"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>my_new_string</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'What a lovely dag'</span></span></code></pre>
</div>
<p>Or use the built-in function <code>str.replace()</code> if we wanted
to replace a larger portion of the string.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>my_new_string <span class="op">=</span> my_string.replace(<span class="st">"day"</span>, <span class="st">'dog'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_new_string)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>What a lovely dog.</code></pre>
</div>
</section><section id="build-complex-strings-based-on-other-variables-using-format."><h2 class="section-heading">Build complex strings based on other variables using format.<a class="anchor" aria-label="anchor" href="#build-complex-strings-based-on-other-variables-using-format."></a>
</h2>
<hr class="half-width">
<p>What if we want to use values inside of a string? For instance, say
we want to print a sentence denoting how many and the percent of samples
we dropped and kept as a part of a quality control analysis.</p>
<p>Suppose we have variables denoting how many samples and dropped
samples we have:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>good_samples <span class="op">=</span> <span class="dv">964</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>bad_samples <span class="op">=</span> <span class="dv">117</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>percent_dropped <span class="op">=</span> bad_samples<span class="op">/</span>(good_samples <span class="op">+</span> bad_samples)</span></code></pre>
</div>
<p>One option would be to simply put everything in
<code>print</code>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Dropped"</span>, percent_dropped, <span class="st">"percent samples"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Dropped 0.10823311748381129 percent samples</code></pre>
</div>
<p>Or we could convert and use addition:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>out_str <span class="op">=</span> <span class="st">"Dropped "</span> <span class="op">+</span> <span class="bu">str</span>(percent_dropped) <span class="op">+</span> <span class="st">"</span><span class="sc">% s</span><span class="st">amples"</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(out_str)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Dropped 0.10823311748381129% samples</code></pre>
</div>
<p>However, both of these options don’t give us as much control over how
the percent is displayed. Python uses systems called <strong>string
formatting</strong> and <strong>f-strings</strong> to give us greater
control.</p>
<p>We can use Python’s built-in <code>format</code> function to create
better-looking text:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Dropped </span><span class="sc">{0:.2%}</span><span class="st"> of samples, with </span><span class="sc">{1:n}</span><span class="st"> samples remaining.'</span>.<span class="bu">format</span>(percent_dropped, good_samples))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Dropped 10.82% of samples, with 964 samples remaining.</code></pre>
</div>
<p>Calls to format have a number of components:</p>
<ul>
<li>The use of brackets <code>{}</code> to create <em>replacement
fields</em>.</li>
<li>The index inside each bracket (0 and 1) to denote the index of the
variable to use.</li>
<li>Format instructions. <code>.2%</code> indicates that we want to
format the number as a percent with 2 decimal places. <code>n</code>
indicates that we want to format as a number.</li>
<li>
<code>format</code> we call format on the string, and as arguments
give it the variables we want to use. The order of variables here are
the indices referenced in replacement fields.</li>
</ul>
<p>For instance, we can switch or repeat indices:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Dropped </span><span class="sc">{1:.2%}</span><span class="st"> of samples, with </span><span class="sc">{0:n}</span><span class="st"> samples remaining.'</span>.<span class="bu">format</span>(percent_dropped, good_samples))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Dropped </span><span class="sc">{0:.2%}</span><span class="st"> of samples, with </span><span class="sc">{0:n}</span><span class="st"> samples remaining.'</span>.<span class="bu">format</span>(percent_dropped, good_samples))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Dropped 96400.00% of samples, with 964 samples remaining.
Dropped 10.82% of samples, with 0.108233 samples remaining.</code></pre>
</div>
<p>Python has a shorthand for using format called
<code>f-strings</code>. These strings let us directly use variables and
create expressions inside of strings. We denote an <code>f-string</code>
by putting <code>f</code> in front of the string definition:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Dropped </span><span class="sc">{</span>percent_dropped<span class="sc">:.2%}</span><span class="ss"> of samples, with </span><span class="sc">{</span>good_samples<span class="sc">:n}</span><span class="ss"> samples remaining.'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Dropped </span><span class="sc">{</span><span class="dv">100</span><span class="op">*</span>(bad_samples<span class="op">/</span>(good_samples <span class="op">+</span> bad_samples))<span class="sc">:.2f}</span><span class="ss">% of samples, with </span><span class="sc">{</span>good_samples<span class="sc">:n}</span><span class="ss"> samples remaining.'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Dropped 10.82% of samples, with 964 samples remaining.
Dropped 10.82% of samples, with 964 samples remaining.</code></pre>
</div>
<p>Here,
<code>{100*(bad_samples/(good_samples + bad_samples)):.2f}</code> is
treated as an expression, and then printed as a <strong>f</strong>loat
with 2 digits.</p>
<p>Full documenation on all of the string formatting mini-language can
be found <a href="https://docs.python.org/3/library/string.html#string-formatting" class="external-link">here</a>.</p>
</section><section id="python-has-many-useful-built-in-functions-for-string-manipulation."><h2 class="section-heading">Python has many useful built-in functions for string
manipulation.<a class="anchor" aria-label="anchor" href="#python-has-many-useful-built-in-functions-for-string-manipulation."></a>
</h2>
<hr class="half-width">
<p>Python has many built-in methods for manipulating strings; simple and
powerful text manipulation is considered one of Python’s strengths. We
will go over some of the more common and useful functions here, but be
aware that there are many more you can find in the <a href="https://docs.python.org/3/library/string.html" class="external-link">official
documentation</a>.</p>
<div class="section level3">
<h3 id="dealing-with-whitespace">Dealing with whitespace<a class="anchor" aria-label="anchor" href="#dealing-with-whitespace"></a>
</h3>
<p><code>str.strip()</code> strips the whitespace from the beginning and
ending of a string. This is especially useful when reading in files
which might have hidden spaces or tabs at the end of lines.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">"  a   </span><span class="ch">\t\t</span><span class="co">"</span>.strip()</span></code></pre>
</div>
<p>Note that <code>\t</code> denotes a tab character.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'a'</span></span></code></pre>
</div>
<p><code>str.split()</code> strips a string up into a list of strings by
some character. By default it uses whitespace, but we can give any set
character to split by. We will learn how to use lists in the next
session.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">"My favorite sentence I hope nothing bad happens to it"</span>.split()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['My',
 'favorite',
 'sentence',
 'I',
 'hope',
 'nothing',
 'bad',
 'happens',
 'to',
 'it']</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">"2023-:04-:12"</span>.split(<span class="st">'-:'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['2023', '04', '12']</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="pattern-matching">Pattern matching<a class="anchor" aria-label="anchor" href="#pattern-matching"></a>
</h3>
<p><code>str.find()</code> find the first occurrence of the specified
string inside the search string, and <code>str.rfind()</code> finds the
last.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">"(collected)ENSG00000010404(inprogress)ENSG000000108888"</span>.find(<span class="st">'ENSG'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">11</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">"(collected)ENSG00000010404(inprogress)ENSG000000108888"</span>.rfind(<span class="st">'ENSG'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">38</span></span></code></pre>
</div>
<p><code>str.startswith()</code> and <code>str.endswith()</code> perform
a simlar function but return a <code>bool</code> based on whether or not
the string starts or ends with a particular string.</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">"(collected)ENSG00000010404"</span>.startswith(<span class="st">'ENSG'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">False</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">"ENSG00000010404"</span>.startswith(<span class="st">'ENSG'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">True</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="case">Case<a class="anchor" aria-label="anchor" href="#case"></a>
</h3>
<p><code>str.upper()</code>, <code>str.lower()</code>,
<code>str.capitalize()</code>, and <code>str.title()</code> all change
the capitalization of strings.</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="op">=</span> <span class="st">"liters (coffee) per minute"</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.lower())</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.upper())</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.capitalize())</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_string.title())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>liters (coffee) per minute
LITERS (COFFEE) PER MINUTE
Liters (coffee) per minute
Liters (Coffee) Per Minute</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>A common problem when analyzing data is that multiple features of the
data will be stored as a column name or single string.</p>
<p>For instance, consider the following column headers:</p>
<pre><code>WT_0Min_1	WT_0Min_2	X.RAB7A_0Min_1	X.RAB7A_0Min_2	WT_5Min_1	WT_5Min_2	X.RAB7A_5Min_1	X.RAB7A_5Min_2	X.NPC1_5Min_1	X.NPC1_5Min_2</code></pre>
<p>There are two variables of interest, the time, 0, 5, or 60 minutes
post-infection, and the genotype, WT, NPC1 knockout and RAB7A knockout.
We also have replicate information at the end of each column header. For
now, let’s just try extracting the timepoint, genotype, and replicate
from a single column header.</p>
<p>Given the string:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>sample_info <span class="op">=</span> <span class="st">"X.RAB7A_0Min_1"</span></span></code></pre>
</div>
<p>Try to print the string:</p>
<pre><code>Sample is 0min RABA7A knockout, replicate 1. </code></pre>
<p>Using f-strings, slicing and indexing, and built-in string functions.
You can try to use lists as a challenge, but its fine to instead get
each piece of information separately from <code>sample_info</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>s_info <span class="op">=</span> sample_info.split(<span class="st">'_'</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>genotype <span class="op">=</span> s_info[<span class="dv">0</span>]</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> s_info[<span class="dv">1</span>]</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>rep <span class="op">=</span> s_info[<span class="dv">2</span>]</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaning the parts up</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>genotype <span class="op">=</span> genotype.split(<span class="st">'.'</span>)[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> time.lower()</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Sample is </span><span class="sc">{</span>genotype<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>time<span class="sc">}</span><span class="ss"> knockout, replicate </span><span class="sc">{</span>rep<span class="sc">}</span><span class="ss">"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Sample is RABA7A 0min knockout, replicate 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-home-02-objects"><p>Content from <a href="home-02-objects.html">Using Objects</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-02-objects.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is an object?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Define objects.</li>
<li>Use an object’s methods.</li>
<li>Call a constructor for an object.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Objects are entities with both <strong>data</strong> and
<strong>methods</strong>
</li>
<li>Methods are unique to objects, and so methods with the same name may
work differently on different objects.</li>
<li>You can create an object using a <strong>constructor</strong>.</li>
<li>Objects need to be explicitly copied.</li>
</ul>
</div>
</div>
</div>
<section id="objects-are-entities-with-both-data-and-methods"><h2 class="section-heading">Objects are entities with both <strong>data</strong> and
<strong>methods</strong><a class="anchor" aria-label="anchor" href="#objects-are-entities-with-both-data-and-methods"></a>
</h2>
<hr class="half-width">
<p>In addition to basic types, Python also has objects we refer to the
type of an object as its <em>class</em>. In other programming languages
there is a more definite distinction between base types and objects, but
in Python these terms essentially interchangable. However, thinking
about more complex data structures through an <em>object-oriented</em>
lense will allow us to better understand how to write effective
code.</p>
<p>We can think of an object as an entity which has two aspects: data
and methods. The data (sometimes called properties) is what we would
typically think of as the value of that object; what it is storing.
Methods define what we can do with an object, essentially they are
functions specific to an object (you will often hear function and method
used interchangebly).</p>
<p>Next session we will explore the <code>list</code> object in Python.
A list consists of its data, or what is stored in the list.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, we are storing 3, 67, 1, and 33 as the data inside the list object</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">=</span> [<span class="dv">3</span>,<span class="dv">67</span>,<span class="dv">1</span>,<span class="dv">33</span>]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse is a list method which reverses that list</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>sizes.reverse()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sizes)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[33, 1, 67, 3]</code></pre>
</div>
</section><section id="methods-are-unique-to-objects-and-so-methods-with-the-same-name-may-work-differently-on-different-objects."><h2 class="section-heading">Methods are unique to objects, and so methods with the same name may
work differently on different objects.<a class="anchor" aria-label="anchor" href="#methods-are-unique-to-objects-and-so-methods-with-the-same-name-may-work-differently-on-different-objects."></a>
</h2>
<hr class="half-width">
<p>In Python, many objects share method names. However, those methods
may do different things.</p>
<p>We have already seen this implicitly looking at how operations like
addition interact with different basic types. For instance, performing
multiplication on a list:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">*</span> <span class="dv">3</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[33, 1, 67, 3, 33, 1, 67, 3, 33, 1, 67, 3]</code></pre>
</div>
<p>May not have the behavior you expect. Whenever our code isn’t doing
what we want, one of the first things to check is that the
<code>type</code> of our variables is what we expect.</p>
</section><section id="you-can-create-an-object-using-a-constructor."><h2 class="section-heading">You can create an object using a <strong>constructor</strong>.<a class="anchor" aria-label="anchor" href="#you-can-create-an-object-using-a-constructor."></a>
</h2>
<hr class="half-width">
<p>All objects have constructors, which are special function that create
that object. Constructors are often called implicitly when we, for
instance, define a list using the <code>[]</code> notation or create a
Pandas <code>dataframe</code> object using <code>read_csv</code>.
However, objects also have explicit constructors which can be called
directly.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The basic list constructor</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>new_sizes <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>new_sizes.append(<span class="dv">33</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>new_sizes.append(<span class="dv">1</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>new_sizes.append(<span class="dv">67</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>new_sizes.append(<span class="dv">3</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_sizes)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[33, 1, 67, 3]</code></pre>
</div>
</section><section id="objects-need-to-be-explicitly-copied."><h2 class="section-heading">Objects need to be explicitly copied.<a class="anchor" aria-label="anchor" href="#objects-need-to-be-explicitly-copied."></a>
</h2>
<hr class="half-width">
<p>We will continue to circle back to this point, but one imporant note
about complex objects is that they need to be explicitly copied. This is
due to them being <strong>mutable</strong>, which we will discuss more
next session.</p>
<p>We can have multiple variables refer to the same object. This can
result in us unknowningly changing an object we didn’t expect to.</p>
<p>For instance, two variables can refer to the same list:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, we lose the original sizes list and now both variables are pointing to the same list</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">=</span> new_sizes</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sizes)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_sizes)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Thus, if we change sizes:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>sizes.append(<span class="dv">100</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># We see that new_sizes has also changed</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sizes)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_sizes)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[33, 1, 67, 3]
[33, 1, 67, 3]
[33, 1, 67, 3, 100]
[33, 1, 67, 3, 100]</code></pre>
</div>
<p>In order to make a variable refer to a different copy of a list, we
need to explicitly copy it. One way to do this is to use a <em>copy
constructor</em>. Most objects in Python have a copy constructor which
accepts another object of the same type and creates a copy of it.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling the copy constructor</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>sizes <span class="op">=</span> <span class="bu">list</span>(new_sizes)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sizes)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_sizes)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Now if we change sizes:</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>sizes.append(<span class="dv">100</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># We see that new_sizes does NOT change</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sizes)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_sizes)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[33, 1, 67, 3, 100]
[33, 1, 67, 3, 100]
[33, 1, 67, 3, 100, 100]
[33, 1, 67, 3, 100]</code></pre>
</div>
<p>However, even copying an object can sometimes not be enough. Some
objects are able to store other objects. If this is the case, the
internal object might not change.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Multiplying lists gets weird</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>list_of_lists <span class="op">=</span> [sizes] <span class="op">*</span> <span class="dv">4</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list_of_lists)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100]]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># While the external list here is different, the internal lists are still the same</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>new_lol <span class="op">=</span> <span class="bu">list</span>(list_of_lists)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_lol)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100], [33, 1, 67, 3, 100, 100]]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>new_lol[<span class="dv">0</span>].reverse()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list_of_lists)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[[100, 3, 67, 1, 33], [100, 3, 67, 1, 33], [100, 3, 67, 1, 33], [100, 3, 67, 1, 33]]</code></pre>
</div>
<p>Overall, we need to be careful in Python when copying objects. This
is one of the reasons why most libaries’ methods return new objects as
opposed to altering existing objects, so as to avoid any confusion over
different object versions. Additionally, we can perform a <em>deep
copy</em> of an object, which is an object copy which copys and stored
objects.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Pandas is one of the most popular python libraries for manipulating
data which we will be diving into next week. Take a look at the official
documentation for Pandas and try to find how to create a deep copy of a
dataframe. Is what you found a function or a method? You can find the
documentation <a href="https://pandas.pydata.org/docs/index.html" class="external-link">here</a></p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Dataframes in Pandas have a <code>copy</code> <em>method</em> found
<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.copy.html" class="external-link">here</a>.
This method by default performs a deep copy as the <code>deep</code>
argument’s default value is <code>True</code>.</p>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-05-lists"><p>Content from <a href="05-lists.html">Lists</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/05-lists.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I store many values together?</li>
<li>How do I access items stored in a list?</li>
<li>How are variables assigned to lists different than variables
assigned to values?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what a list is.</li>
<li>Create and index lists of simple values.</li>
<li>Change the values of individual elements</li>
<li>Append values to an existing list</li>
<li>Reorder and slice list elements</li>
<li>Create and manipulate nested lists</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>
<code>[value1, value2, value3, ...]</code> creates a list.</li>
<li>Lists can contain any Python object, including lists (i.e., list of
lists).</li>
<li>Lists are indexed and sliced with square brackets (e.g., list[0] and
list[2:9]), in the same way as strings and arrays.</li>
<li>Lists are mutable (i.e., their values can be changed in place).</li>
<li>Strings are immutable (i.e., the characters in them cannot be
changed).</li>
</ul>
</div>
</div>
</div>
<section id="python-lists"><h2 class="section-heading">Python lists<a class="anchor" aria-label="anchor" href="#python-lists"></a>
</h2>
<hr class="half-width">
<p>We create a list by putting values inside square brackets and
separating the values with commas:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds are:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds are: [1, 3, 5, 7]</code></pre>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="the-empty-list" class="callout-inner">
<h3 class="callout-title">The empty list<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Similar to an empty string, we can create an empty list with a
<code>len</code> of 0 and no elements. We create an empty list as
<code>empty_list = []</code> or <code>empty_list = list()</code>, and it
is useful when we want to build up a list element by element.</p>
</div>
</div>
</div>
<p>We can access elements of a list using indices – numbered positions
of elements in the list. These positions are numbered starting at 0, so
the first element has an index of 0.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'first element:'</span>, odds[<span class="dv">0</span>])</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last element:'</span>, odds[<span class="dv">3</span>])</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'"-1" element:'</span>, odds[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>first element: 1
last element: 7
"-1" element: 7</code></pre>
</div>
<p>Yes, we can use negative numbers as indices in Python. When we do so,
the index <code>-1</code> gives us the last element in the list,
<code>-2</code> the second to last, and so on. Because of this,
<code>odds[3]</code> and <code>odds[-1]</code> point to the same element
here.</p>
<p>There is one important difference between lists and strings: we can
change the values in a list, but we cannot change individual characters
in a string. For example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">'Curie'</span>, <span class="st">'Darwing'</span>, <span class="st">'Turing'</span>]  <span class="co"># typo in Darwin's name</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'names is originally:'</span>, names)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>names[<span class="dv">1</span>] <span class="op">=</span> <span class="st">'Darwin'</span>  <span class="co"># correct the name</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'final value of names:'</span>, names)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>names is originally: ['Curie', 'Darwing', 'Turing']
final value of names: ['Curie', 'Darwin', 'Turing']</code></pre>
</div>
<p>works, but:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="st">'Darwin'</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>name[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'d'</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
&lt;ipython-input-8-220df48aeb2e&gt; in &lt;module&gt;()
     1 name = 'Darwin'
----&gt; 2 name[0] = 'd'

TypeError: 'str' object does not support item assignment</code></pre>
</div>
<p>does not. This is because a list is <strong>mutable</strong> while a
string is <strong>immutable</strong>.</p>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="mutable-and-immutable" class="callout-inner">
<h3 class="callout-title">Mutable and immutable<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>Data which can be modified in place is called <a href="%7B%7B%20page.root%20%7D%7D/reference.html#mutable">mutable</a>,
while data which cannot be modified is called <a href="%7B%7B%20page.root%20%7D%7D/reference.html#immutable">immutable</a>.
Strings and numbers are immutable. This does not mean that variables
with string or number values are constants, but when we want to change
the value of a string or number variable, we can only replace the old
value with a completely new value.</p>
<p>Lists and arrays, on the other hand, are mutable: we can modify them
after they have been created. We can change individual elements, append
new elements, or reorder the whole list. For some operations, like
sorting, we can choose whether to use a function that modifies the data
in-place or a function that returns a modified copy and leaves the
original unchanged.</p>
<p>Be careful when modifying data in-place. If two variables refer to
the same list, and you modify the list value, it will change for both
variables!</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>mild_salsa <span class="op">=</span> [<span class="st">'peppers'</span>, <span class="st">'onions'</span>, <span class="st">'cilantro'</span>, <span class="st">'tomatoes'</span>]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>hot_salsa <span class="op">=</span> mild_salsa        <span class="co"># &lt;-- mild_salsa and hot_salsa point to the *same* list data in memory</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>hot_salsa[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'hot peppers'</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in mild salsa:'</span>, mild_salsa)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in hot salsa:'</span>, hot_salsa)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ingredients in mild salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']
Ingredients in hot salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']</code></pre>
</div>
<p>Let’s go to <a href="https://pythontutor.com/visualize.html#code=mild_salsa%20%3D%20%5B'peppers',%20'onions',%20'cilantro',%20'tomatoes'%5D%0Ahot_salsa%20%3D%20mild_salsa%20%20%20%20%20%20%20%20%23%20%3C--%20mild_salsa%20and%20hot_salsa%20point%20to%20the%20*same*%20list%20data%20in%20memory%0Ahot_salsa%5B0%5D%20%3D%20'hot%20peppers'%0Aprint%28'Ingredients%20in%20mild%20salsa%3A',%20mild_salsa%29%0Aprint%28'Ingredients%20in%20hot%20salsa%3A',%20hot_salsa%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" class="external-link">this
link to visualize this code</a>.</p>
<p>If you want variables with mutable values to be independent, you must
make a copy of the value when you assign it.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>mild_salsa <span class="op">=</span> [<span class="st">'peppers'</span>, <span class="st">'onions'</span>, <span class="st">'cilantro'</span>, <span class="st">'tomatoes'</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>hot_salsa <span class="op">=</span> <span class="bu">list</span>(mild_salsa)        <span class="co"># &lt;-- makes a *copy* of the list</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>hot_salsa[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'hot peppers'</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in mild salsa:'</span>, mild_salsa)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Ingredients in hot salsa:'</span>, hot_salsa)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Ingredients in mild salsa: ['peppers', 'onions', 'cilantro', 'tomatoes']
Ingredients in hot salsa: ['hot peppers', 'onions', 'cilantro', 'tomatoes']</code></pre>
</div>
<p>Because of pitfalls like this, code which modifies data in place can
be more difficult to understand. However, it is often far more efficient
to modify a large data structure in place than to create a modified copy
for every small change. You should consider both of these aspects when
writing your code.</p>
</div>
</div>
</div>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="nested-lists" class="callout-inner">
<h3 class="callout-title">Nested Lists<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>Since a list can contain any Python variables, it can even contain
other lists.</p>
<p>For example, you could represent the products on the shelves of a
small grocery shop as a nested list called <code>veg</code>:</p>
<figure><img src="fig/05_groceries_veg.png" alt="" class="figure mx-auto d-block"><figcaption><code>veg</code> is represented as a shelf full of
produce. There are three rows of vegetables on the shelf, and each row
contains three baskets of vegetables. We can label each basket according
to the type of vegetable it contains, so the top row contains (from left
to right) lettuce, lettuce, and peppers.</figcaption></figure><p>To store the contents of the shelf in a nested list, you write it
this way:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>veg <span class="op">=</span> [[<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'lettuce'</span>, <span class="st">'lettuce'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>],</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'lettuce'</span>, <span class="st">'cilantro'</span>, <span class="st">'peppers'</span>, <span class="st">'zucchini'</span>]]</span></code></pre>
</div>
<p>Here are some visual examples of how indexing a list of lists
<code>veg</code> works. First, you can reference each row on the shelf
as a separate list. For example, <code>veg[2]</code> represents the
bottom row, which is a list of the baskets in that row.</p>
<figure><img src="fig/05_groceries_veg0.png" alt="" class="figure mx-auto d-block"><figcaption><code>veg</code> is now shown as a list of three
rows, with <code>veg[0]</code> representing the top row of three
baskets, <code>veg[1]</code> representing the second row, and
<code>veg[2]</code> representing the bottom row.</figcaption></figure><p>Index operations using the image would work like this:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['lettuce', 'cilantro', 'peppers', 'zucchini']</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['lettuce', 'lettuce', 'peppers', 'zucchini']</code></pre>
</div>
<figure>To reference a specific basket on a specific shelf, you use two
indexes. The first index represents the row (from top to bottom) and the
second index represents the specific basket (from left to right). <img src="fig/05_groceries_veg00.png" alt="veg is now shown as a two-dimensional grid, with each basket labeled according to its index in the nested list. The first index is the row number and the second index is the basket number, so veg[1][3] represents the basket on the far right side of the second row (basket 4 on row 2): zucchini" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">0</span>][<span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'lettuce'</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(veg[<span class="dv">1</span>][<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'peppers'</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="heterogeneous-lists" class="callout-inner">
<h3 class="callout-title">Heterogeneous Lists<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<p>Lists in Python can contain elements of different types. Example:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sample_ages <span class="op">=</span> [<span class="dv">10</span>, <span class="fl">12.5</span>, <span class="st">'Unknown'</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</section><section id="manipulating-lists"><h2 class="section-heading">Manipulating Lists<a class="anchor" aria-label="anchor" href="#manipulating-lists"></a>
</h2>
<hr class="half-width">
<p>There are many ways to change the contents of lists besides assigning
new values to individual elements:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>odds.append(<span class="dv">11</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after adding a value:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after adding a value: [1, 3, 5, 7, 11]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>removed_element <span class="op">=</span> odds.pop(<span class="dv">0</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after removing the first element:'</span>, odds)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'removed_element:'</span>, removed_element)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after removing the first element: [3, 5, 7, 11]
removed_element: 1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>odds.reverse()</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds after reversing:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>odds after reversing: [11, 7, 5, 3]</code></pre>
</div>
<p>While modifying in place, it is useful to remember that Python treats
lists in a slightly counter-intuitive way.</p>
<p>As we saw earlier, when we modified the <code>mild_salsa</code> list
item in-place, if we make a list, (attempt to) copy it and then modify
this list, we can cause all sorts of trouble. This also applies to
modifying the list using the above functions:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>primes <span class="op">=</span> odds</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>primes.append(<span class="dv">2</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'primes:'</span>, primes)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>primes: [3, 5, 7, 2]
odds: [3, 5, 7, 2]</code></pre>
</div>
<p>This is because Python stores a list in memory, and then can use
multiple names to refer to the same list. If all we want to do is copy a
(simple) list, we can again use the <code>list</code> function, so we do
not modify a list we did not mean to:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>odds <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>]</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>primes <span class="op">=</span> <span class="bu">list</span>(odds)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>primes.append(<span class="dv">2</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'primes:'</span>, primes)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'odds:'</span>, odds)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>primes: [3, 5, 7, 2]
odds: [3, 5, 7]</code></pre>
</div>
<p>Subsets of lists can be accessed by slicing, similar to how we
accessed ranges of positions in a strings.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>binomial_name <span class="op">=</span> <span class="st">'Drosophila melanogaster'</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>genus <span class="op">=</span> binomial_name[<span class="dv">0</span>:<span class="dv">10</span>]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'genus:'</span>, genus)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>species <span class="op">=</span> binomial_name[<span class="dv">11</span>:<span class="dv">23</span>]</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'species:'</span>, species)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>chromosomes <span class="op">=</span> [<span class="st">'X'</span>, <span class="st">'Y'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>]</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>autosomes <span class="op">=</span> chromosomes[<span class="dv">2</span>:<span class="dv">5</span>]</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'autosomes:'</span>, autosomes)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>last <span class="op">=</span> chromosomes[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'last:'</span>, last)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>genus: Drosophila
species: melanogaster
autosomes: ['2', '3', '4']
last: 4</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="slicing-from-the-end" class="callout-inner">
<h3 class="callout-title">Slicing From the End<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Use slicing to access only the last four characters of a string or
entries of a list.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>string_for_slicing <span class="op">=</span> <span class="st">'Observation date: 02-Feb-2013'</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>list_for_slicing <span class="op">=</span> [[<span class="st">'fluorine'</span>, <span class="st">'F'</span>],</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                   [<span class="st">'chlorine'</span>, <span class="st">'Cl'</span>],</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                   [<span class="st">'bromine'</span>, <span class="st">'Br'</span>],</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                   [<span class="st">'iodine'</span>, <span class="st">'I'</span>],</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                   [<span class="st">'astatine'</span>, <span class="st">'At'</span>]]</span></code></pre>
</div>
<p>Desired output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>'2013'
[['chlorine', 'Cl'], ['bromine', 'Br'], ['iodine', 'I'], ['astatine', 'At']]</code></pre>
</div>
<p>Would your solution work regardless of whether you knew beforehand
the length of the string or list (e.g. if you wanted to apply the
solution to a set of lists of different lengths)? If not, try to change
your approach to make it more robust.</p>
<p>Hint: Remember that indices can be negative as well as positive</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Use negative indices to count elements from the end of a container
(such as list or string):</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>string_for_slicing[<span class="op">-</span><span class="dv">4</span>:]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>list_for_slicing[<span class="op">-</span><span class="dv">4</span>:]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="non-continuous-slices" class="callout-inner">
<h3 class="callout-title">Non-Continuous Slices<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>So far we’ve seen how to use slicing to take single blocks of
successive entries from a sequence. But what if we want to take a subset
of entries that aren’t next to each other in the sequence?</p>
<p>You can achieve this by providing a third argument to the range
within the brackets, called the <em>step size</em>. The example below
shows how you can take every third entry in a list:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>primes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">37</span>]</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> primes[<span class="dv">0</span>:<span class="dv">12</span>:<span class="dv">3</span>]</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'subset'</span>, subset)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">subset</span> <span class="op">[</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">17</span>, <span class="fl">29</span><span class="op">]</span></span></code></pre>
</div>
<p>Notice that the slice taken begins with the first entry in the range,
followed by entries taken at equally-spaced intervals (the steps)
thereafter. If you wanted to begin the subset with the third entry, you
would need to specify that as the starting point of the sliced
range:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>primes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>, <span class="dv">19</span>, <span class="dv">23</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">37</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> primes[<span class="dv">2</span>:<span class="dv">12</span>:<span class="dv">3</span>]</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'subset'</span>, subset)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">subset</span> <span class="op">[</span><span class="fl">5</span>, <span class="fl">13</span>, <span class="fl">23</span>, <span class="fl">37</span><span class="op">]</span></span></code></pre>
</div>
<p>Use the step size argument to create a new string that contains only
every other character in the string “In an octopus’s garden in the
shade”. Start with creating a variable to hold the string:</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>beatles <span class="op">=</span> <span class="st">"In an octopus's garden in the shade"</span></span></code></pre>
</div>
<p>What slice of <code>beatles</code> will produce the following output
(i.e., the first character, third character, and every other character
through the end of the string)?</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>I notpssgre ntesae</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>To obtain every other character you need to provide a slice with the
step size of 2:</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>beatles[<span class="dv">0</span>:<span class="dv">35</span>:<span class="dv">2</span>]</span></code></pre>
</div>
<p>You can also leave out the beginning and end of the slice to take the
whole string and provide only the step argument to go every second
element:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>beatles[::<span class="dv">2</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>If you want to take a slice from the beginning of a sequence, you can
omit the first index in the range:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>date <span class="op">=</span> <span class="st">'Monday 4 January 2016'</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>day <span class="op">=</span> date[<span class="dv">0</span>:<span class="dv">6</span>]</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Using 0 to begin range:'</span>, day)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>day <span class="op">=</span> date[:<span class="dv">6</span>]</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Or omit the beginning index to slice from 0:'</span>, day)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Using 0 to begin range: Monday
Or omit the beginning index to slice from 0: Monday</code></pre>
</div>
<p>And similarly, you can omit the ending index in the range to take a
slice to the very end of the sequence:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>months <span class="op">=</span> [<span class="st">'jan'</span>, <span class="st">'feb'</span>, <span class="st">'mar'</span>, <span class="st">'apr'</span>, <span class="st">'may'</span>, <span class="st">'jun'</span>, <span class="st">'jul'</span>, <span class="st">'aug'</span>, <span class="st">'sep'</span>, <span class="st">'oct'</span>, <span class="st">'nov'</span>, <span class="st">'dec'</span>]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:<span class="dv">12</span>]</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'With known last position:'</span>, sond)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:<span class="bu">len</span>(months)]</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Using len() to get last entry:'</span>, sond)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>sond <span class="op">=</span> months[<span class="dv">8</span>:]</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Or omit the final index to go to the end of the list:'</span>, sond)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>With known last position: ['sep', 'oct', 'nov', 'dec']
Using len() to get last entry: ['sep', 'oct', 'nov', 'dec']
Or omit the final index to go to the end of the list: ['sep', 'oct', 'nov', 'dec']</code></pre>
</div>
<div id="callout5" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="going-past-len" class="callout-inner">
<h3 class="callout-title">Going past <code>len</code><a class="anchor" aria-label="anchor" href="#callout5"></a>
</h3>
<div class="callout-content">
<p>Python does not consider it an error to go past the end of a list
when slicing. Python will juse slice until the end of the list:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>months[:<span class="dv">30</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec']</code></pre>
</div>
<p>However, trying to get a single item from a list at an index greater
than its length will result in an error:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>months[<span class="dv">30</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
Input In [5], in &lt;cell line: 1&gt;()
----&gt; 1 months[30]

IndexError: list index out of range</code></pre>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="overloading" class="callout-inner">
<h3 class="callout-title">Overloading<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p><code>+</code> usually means addition, but when used on strings or
lists, it means “concatenate”. Given that, what do you think the
multiplication operator <code>*</code> does on lists? In particular,
what will be the output of the following code?</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>counts <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>]</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>repeats <span class="op">=</span> counts <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(repeats)</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li><code>[2, 4, 6, 8, 10, 2, 4, 6, 8, 10]</code></li>
<li><code>[4, 8, 12, 16, 20]</code></li>
<li><code>[[2, 4, 6, 8, 10],[2, 4, 6, 8, 10]]</code></li>
<li><code>[2, 4, 6, 8, 10, 4, 8, 12, 16, 20]</code></li>
</ol>
<p>The technical term for this is <em>operator overloading</em>: a
single operator, like <code>+</code> or <code>*</code>, can do different
things depending on what it’s applied to.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>The multiplication operator <code>*</code> used on a list replicates
elements of the list and concatenates them together:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[2, 4, 6, 8, 10, 2, 4, 6, 8, 10]</code></pre>
</div>
<p>{: .output}</p>
<p>It’s equivalent to:</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>counts <span class="op">+</span> counts</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-06-loops"><p>Content from <a href="06-loops.html">For Loops</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/06-loops.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I make a program do many things?</li>
<li>How can I do something for each thing in a list?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what for loops are normally used for.</li>
<li>Trace the execution of a simple (unnested) loop and correctly state
the values of variables in each iteration.</li>
<li>Write for loops that use the Accumulator pattern to aggregate
values.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>A <em>for loop</em> executes commands once for each value in a
collection.</li>
<li>A <code>for</code> loop is made up of a collection, a loop variable,
and a body.</li>
<li>The first line of the <code>for</code> loop must end with a colon,
and the body must be indented.</li>
<li>Indentation is always meaningful in Python.</li>
<li>Loop variables can be called anything (but it is strongly advised to
have a meaningful name to the looping variable).</li>
<li>The body of a loop can contain many statements.</li>
<li>Use <code>range</code> to iterate over a sequence of numbers.</li>
</ul>
</div>
</div>
</div>
<section id="a-for-loop-executes-commands-once-for-each-value-in-a-collection."><h2 class="section-heading">A <em>for loop</em> executes commands once for each value in a
collection.<a class="anchor" aria-label="anchor" href="#a-for-loop-executes-commands-once-for-each-value-in-a-collection."></a>
</h2>
<hr class="half-width">
<ul>
<li>Doing calculations on the values in a list one by one is as painful
as working with <code>pressure_001</code>, <code>pressure_002</code>,
etc.</li>
<li>A <em>for loop</em> tells Python to execute some statements once for
each value in a list, a character string, or some other collection.</li>
<li>“for each thing in this group, do these operations”</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>]:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(number)</span></code></pre>
</div>
<ul>
<li>This <code>for</code> loop is equivalent to:</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">3</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">5</span>)</span></code></pre>
</div>
<ul>
<li>And the <code>for</code> loop’s output is:</li>
</ul>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">5</span></span></code></pre>
</div>
</section><section id="a-for-loop-is-made-up-of-a-collection-a-loop-variable-and-a-body."><h2 class="section-heading">A <code>for</code> loop is made up of a collection, a loop variable,
and a body.<a class="anchor" aria-label="anchor" href="#a-for-loop-is-made-up-of-a-collection-a-loop-variable-and-a-body."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>]:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(number)</span></code></pre>
</div>
<ul>
<li>The collection, <code>[2, 3, 5]</code>, is what the loop is being
run on.</li>
<li>The body, <code>print(number)</code>, specifies what to do for each
value in the collection.</li>
<li>The loop variable, <code>number</code>, is what changes for each
<em>iteration</em> of the loop.
<ul>
<li>The “current thing”.</li>
</ul>
</li>
</ul></section><section id="the-first-line-of-the-for-loop-must-end-with-a-colon-and-the-body-must-be-indented."><h2 class="section-heading">The first line of the <code>for</code> loop must end with a colon,
and the body must be indented.<a class="anchor" aria-label="anchor" href="#the-first-line-of-the-for-loop-must-end-with-a-colon-and-the-body-must-be-indented."></a>
</h2>
<hr class="half-width">
<ul>
<li>The colon at the end of the first line signals the start of a
<em>block</em> of statements.</li>
<li>Python uses indentation rather than <code>{}</code> or
<code>begin</code>/<code>end</code> to show <em>nesting</em>.
<ul>
<li>Any consistent indentation is legal, but almost everyone uses four
spaces.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>]:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(number)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>IndentationError: expected an indented block</code></pre>
</div>
<ul>
<li>Indentation is always meaningful in Python.</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>firstName <span class="op">=</span> <span class="st">"Jon"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  lastName <span class="op">=</span> <span class="st">"Smith"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>  File "&lt;ipython-input-7-f65f2962bf9c&gt;", line 2
    lastName = "Smith"
    ^
IndentationError: unexpected indent</code></pre>
</div>
<ul>
<li>This error can be fixed by removing the extra spaces at the
beginning of the second line.</li>
</ul></section><section id="loop-variables-can-be-called-anything."><h2 class="section-heading">Loop variables can be called anything.<a class="anchor" aria-label="anchor" href="#loop-variables-can-be-called-anything."></a>
</h2>
<hr class="half-width">
<ul>
<li>As with all variables, loop variables are:
<ul>
<li>Created on demand.</li>
<li>Meaningless: their names can be anything at all.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> kitten <span class="kw">in</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>]:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(kitten)</span></code></pre>
</div>
</section><section id="the-body-of-a-loop-can-contain-many-statements."><h2 class="section-heading">The body of a loop can contain many statements.<a class="anchor" aria-label="anchor" href="#the-body-of-a-loop-can-contain-many-statements."></a>
</h2>
<hr class="half-width">
<ul>
<li>But no loop should be more than a few lines long.</li>
<li>Hard for human beings to keep larger chunks of code in mind.</li>
</ul>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>primes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> primes:</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    squared <span class="op">=</span> p <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    cubed <span class="op">=</span> p <span class="op">**</span> <span class="dv">3</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(p, squared, cubed)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2 4 8
3 9 27
5 25 125</code></pre>
</div>
</section><section id="use-range-to-iterate-over-a-sequence-of-numbers."><h2 class="section-heading">Use <code>range</code> to iterate over a sequence of numbers.<a class="anchor" aria-label="anchor" href="#use-range-to-iterate-over-a-sequence-of-numbers."></a>
</h2>
<hr class="half-width">
<ul>
<li>The built-in function <a href="https://docs.python.org/3/library/stdtypes.html#range" class="external-link"><code>range</code></a>
produces a sequence of numbers.
<ul>
<li>
<em>Not</em> a list: the numbers are produced on demand to make
looping over large ranges more efficient.</li>
</ul>
</li>
<li>
<code>range(N)</code> is the numbers 0..N-1
<ul>
<li>Exactly the legal indices of a list or character string of length
N</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'a range is not a list: range(0, 3)'</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">3</span>):</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(number)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>a range is not a list: range(0, 3)
0
1
2</code></pre>
</div>
</section><section id="the-accumulator-pattern-turns-many-values-into-one."><h2 class="section-heading">The Accumulator pattern turns many values into one.<a class="anchor" aria-label="anchor" href="#the-accumulator-pattern-turns-many-values-into-one."></a>
</h2>
<hr class="half-width">
<ul>
<li>A common pattern in programs is to:
<ol style="list-style-type: decimal">
<li>Initialize an <em>accumulator</em> variable to zero, the empty
string, or the empty list.</li>
<li>Update the variable with values from a collection.</li>
</ol>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum the first 5 integers.</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>my_sum <span class="op">=</span> <span class="dv">0</span> <span class="co"># Line 1</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>): <span class="co"># Line 2</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>   my_sum <span class="op">=</span> my_sum <span class="op">+</span> (number <span class="op">+</span> <span class="dv">1</span>) <span class="co"># Line 3</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_sum) <span class="co"># Line 4</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">15</span></span></code></pre>
</div>
<ul>
<li>Read <code>total = total + (number + 1)</code> as:
<ul>
<li>Add 1 to the current value of the loop variable
<code>number</code>.</li>
<li>Add that to the current value of the accumulator variable
<code>total</code>.</li>
<li>Assign that to <code>total</code>, replacing the current value.</li>
</ul>
</li>
<li>We have to add <code>number + 1</code> because <code>range</code>
produces 0..9, not 1..10.
<ul>
<li>You could also have used <code>number</code> and
<code>range(11)</code>.</li>
</ul>
</li>
</ul>
<p>We can <em>trace</em> the program output by looking at which line of
code is being executed and what each variable’s value is at each
line:</p>
<table class="table">
<thead><tr class="header">
<th>Line No</th>
<th>Variables</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>my_sum = 0</td>
</tr>
<tr class="even">
<td>2</td>
<td>my_sum = 0 number = 0</td>
</tr>
<tr class="odd">
<td>3</td>
<td>my_sum = 1 number = 0</td>
</tr>
<tr class="even">
<td>2</td>
<td>my_sum = 1 number = 1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>my_sum = 3 number = 1</td>
</tr>
<tr class="even">
<td>2</td>
<td>my_sum = 3 number = 2</td>
</tr>
<tr class="odd">
<td>3</td>
<td>my_sum = 6 number = 2</td>
</tr>
<tr class="even">
<td>2</td>
<td>my_sum = 6 number = 3</td>
</tr>
<tr class="odd">
<td>3</td>
<td>my_sum = 10 number = 3</td>
</tr>
<tr class="even">
<td>2</td>
<td>my_sum = 10 number = 4</td>
</tr>
<tr class="odd">
<td>3</td>
<td>my_sum = 15 number = 4</td>
</tr>
<tr class="even">
<td>4</td>
<td>my_sum = 15 number = 4</td>
</tr>
</tbody>
</table>
<p>Let’s double check our work by <a href="https://pythontutor.com/visualize.html#code=%23%20Sum%20the%20first%205%20integers.%0Amy_sum%20%3D%200%20%23%20Line%201%0Afor%20number%20in%20range%285%29%3A%20%23%20Line%202%0A%20%20%20my_sum%20%3D%20my_sum%20%2B%20%28number%20%2B%201%29%20%23%20Line%203%0Aprint%28my_sum%29%20%23%20Line%204&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false" class="external-link">visualizing
the code</a>.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="classifying-errors" class="callout-inner">
<h3 class="callout-title">Classifying Errors<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Is an indentation error a syntax error or a runtime error?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>An indentation error (<code>IndentationError</code>) is a syntax
error. Programs with syntax errors cannot be started. A program with a
runtime error will start but an error will be thrown under certain
conditions.</p>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="tracing-execution" class="callout-inner">
<h3 class="callout-title">Tracing Execution<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Trace through the following code and create a table showing the lines
that are executed when this program runs, and the values of the
variables after each line is executed.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span> <span class="co"># Line 1</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> char <span class="kw">in</span> <span class="st">"tin"</span>: <span class="co"># Line 2</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> total <span class="op">+</span> <span class="dv">1</span> <span class="co"># Line 3</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<table class="table">
<thead><tr class="header">
<th>Line no</th>
<th>Variables</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>total = 0</td>
</tr>
<tr class="even">
<td>2</td>
<td>total = 0 char = ‘t’</td>
</tr>
<tr class="odd">
<td>3</td>
<td>total = 1 char = ‘t’</td>
</tr>
<tr class="even">
<td>2</td>
<td>total = 1 char = ‘i’</td>
</tr>
<tr class="odd">
<td>3</td>
<td>total = 2 char = ‘i’</td>
</tr>
<tr class="even">
<td>2</td>
<td>total = 2 char = ‘n’</td>
</tr>
<tr class="odd">
<td>3</td>
<td>total = 3 char = ‘n’</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reversing-a-string" class="callout-inner">
<h3 class="callout-title">Reversing a String<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Fill in the blanks in the program below so that it prints “nit” (the
reverse of the original character string “tin”).</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> <span class="st">"tin"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> ____</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> char <span class="kw">in</span> original:</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> ____</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> <span class="st">"tin"</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="st">""</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> char <span class="kw">in</span> original:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> char <span class="op">+</span> result</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-accumulating" class="callout-inner">
<h3 class="callout-title">Practice Accumulating<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>Fill in the blanks in each of the programs below to produce the
indicated result.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Total length of the strings in the list: ["red", "green", "blue"] =&gt; 12</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]:</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    ____ <span class="op">=</span> ____ <span class="op">+</span> <span class="bu">len</span>(word)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># B</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate all words: ["red", "green", "blue"] =&gt; "redgreenblue"</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> ____</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ____ <span class="kw">in</span> ____:</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    ____</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="co"># C</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># List of word lengths: ["red", "green", "blue"] =&gt; [3, 5, 4]</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>lengths <span class="op">=</span> ____</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]:</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    lengths.____(____)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lengths)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Total length of the strings in the list: ["red", "green", "blue"] =&gt; 12</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]:</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> total <span class="op">+</span> <span class="bu">len</span>(word)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># B</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate all words: ["red", "green", "blue"] =&gt; "redgreenblue"</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> <span class="st">""</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> words:</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> result <span class="op">+</span> word</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># C</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># List of word lengths: ["red", "green", "blue"] =&gt; [3, 5, 4]</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>lengths <span class="op">=</span> []</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]:</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    lengths.append(<span class="bu">len</span>(word))</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lengths)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="string-accumulation" class="callout-inner">
<h3 class="callout-title">String accumulation<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>Starting from the list <code>["red", "green", "blue"]</code>, create
the acronym <code>"RGB"</code> using a for loop.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1">
  Give me a hint
  </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" data-bs-parent="#accordionHint1" aria-labelledby="headingHint1">
<div class="accordion-body">
<p>You may need to use a string method to properly format the
acronym.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>acronym <span class="op">=</span> <span class="st">""</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> word <span class="kw">in</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>]:</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    acronym <span class="op">=</span> acronym <span class="op">+</span> word[<span class="dv">0</span>].upper()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(acronym)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="cumulative-sum" class="callout-inner">
<h3 class="callout-title">Cumulative Sum<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Reorder and properly indent the lines of code below so that they
print a list with the cumulative sum of data. The result should be
<code>[1, 3, 5, 10]</code>.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>cumulative.append(total)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> data:</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>cumulative <span class="op">=</span> []</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> total <span class="op">+</span> number</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cumulative)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>]</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>cumulative <span class="op">=</span> []</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> data:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> total <span class="op">+</span> number</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    cumulative.append(total)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cumulative)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-variable-name-errors" class="callout-inner">
<h3 class="callout-title">Identifying Variable Name Errors<a class="anchor" aria-label="anchor" href="#challenge7"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below and try to identify what the errors are
<em>without</em> running it.</li>
<li>Run the code and read the error message. What type of
<code>NameError</code> do you think this is? Is it a string with no
quotes, a misspelled variable, or a variable that should have been
defined but was not?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3, until you have fixed all the errors.</li>
</ol>
<p>This is a first taste of <strong>if statements</strong>. We will be
going into more detail on if statements in future lessons. No errors in
this code have to do with how the if statement is being used.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (Number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> a</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">"b"</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<ul>
<li>Python variable names are case sensitive: <code>number</code> and
<code>Number</code> refer to different variables.</li>
<li>The variable <code>message</code> needs to be initialized as an
empty string.</li>
<li>We want to add the string <code>"a"</code> to <code>message</code>,
not the undefined variable <code>a</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>message <span class="op">=</span> <span class="st">""</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> number <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use a if the number is a multiple of 3, otherwise use b</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (number <span class="op">%</span> <span class="dv">3</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">"a"</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> message <span class="op">+</span> <span class="st">"b"</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(message)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge8" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-item-errors" class="callout-inner">
<h3 class="callout-title">Identifying Item Errors<a class="anchor" aria-label="anchor" href="#challenge8"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below and try to identify what the errors are
<em>without</em> running it.</li>
<li>Run the code, and read the error message. What type of error is
it?</li>
<li>Fix the error.</li>
</ol>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="dv">4</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<p>This list has 4 elements and the index to access the last element in
the list is <code>3</code>.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>seasons <span class="op">=</span> [<span class="st">'Spring'</span>, <span class="st">'Summer'</span>, <span class="st">'Fall'</span>, <span class="st">'Winter'</span>]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'My favorite season is '</span>, seasons[<span class="dv">3</span>])</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-07-packages"><p>Content from <a href="07-packages.html">Libraries</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/07-packages.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I use software that other people have written?</li>
<li>How can I find out what that software does?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain what software libraries are and why programmers create and
use them.</li>
<li>Write programs that import and use modules from Python’s standard
library.</li>
<li>Find and read documentation for the standard library interactively
(in the interpreter) and online.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Most of the power of a programming language is in its
libraries.</li>
<li>A program must import a library module in order to use it.</li>
<li>Use <code>help</code> to learn about the contents of a library
module.</li>
<li>Import specific items from a library to shorten programs.</li>
<li>Create an alias for a library when importing it to shorten
programs.</li>
</ul>
</div>
</div>
</div>
<section id="most-of-the-power-of-a-programming-language-is-in-its-libraries."><h2 class="section-heading">Most of the power of a programming language is in its
libraries.<a class="anchor" aria-label="anchor" href="#most-of-the-power-of-a-programming-language-is-in-its-libraries."></a>
</h2>
<hr class="half-width">
<ul>
<li>A <em>library</em> is a collection of files (called
<em>modules</em>) that contains functions for use by other programs.
<ul>
<li>May also contain data values (e.g., numerical constants) and other
things.</li>
<li>Library’s contents are supposed to be related, but there’s no way to
enforce that.</li>
</ul>
</li>
<li>The Python <a href="https://docs.python.org/3/library/" class="external-link">standard
library</a> is an extensive suite of modules that comes with Python
itself.</li>
<li>Many additional libraries are available from <a href="https://pypi.python.org/pypi/" class="external-link">PyPI</a> (the Python Package
Index).</li>
</ul>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="libraries-packages-and-modules" class="callout-inner">
<h3 class="callout-title">Libraries, packages, and modules<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>A module is a typically defined set of code located within a single
Python file which is intended to be imported into scripts or other
modules. A package is a set of related modules, often contained in a
single directory. A library is a more general term referring to a
collection of modules and packages. For instance, the <a href="https://docs.python.org/3/library/index.html" class="external-link">Python Standard
Library</a> contains functionality from compressing files to parallel
programming.</p>
<p>However, these definitions are not particularly formal or strict.
Module, package, and library are often used interchangeably, especially
since many libraries only consist of a single module.</p>
</div>
</div>
</div>
</section><section id="a-program-must-import-a-library-module-before-using-it."><h2 class="section-heading">A program must import a library module before using it.<a class="anchor" aria-label="anchor" href="#a-program-must-import-a-library-module-before-using-it."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use <code>import</code> to load a library module into a program’s
memory.</li>
<li>Then refer to things from the module as
<code>module_name.thing_name</code>.
<ul>
<li>Python uses <code>.</code> to mean “part of”.</li>
</ul>
</li>
<li>Using <code>math</code>, one of the modules in the standard
library:</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'pi is'</span>, math.pi)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'cos(pi) is'</span>, math.cos(math.pi))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pi is 3.141592653589793
cos(pi) is -1.0</code></pre>
</div>
<ul>
<li>Have to refer to each item with the module’s name.
<ul>
<li>
<code>math.cos(pi)</code> won’t work: the reference to
<code>pi</code> doesn’t somehow “inherit” the function’s reference to
<code>math</code>.</li>
</ul>
</li>
</ul></section><section id="use-help-to-learn-about-the-contents-of-a-library-module."><h2 class="section-heading">Use <code>help</code> to learn about the contents of a library
module.<a class="anchor" aria-label="anchor" href="#use-help-to-learn-about-the-contents-of-a-library-module."></a>
</h2>
<hr class="half-width">
<ul>
<li>Works just like help for a function.</li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(math)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Help on module math:

NAME
    math

MODULE REFERENCE
    http://docs.python.org/3/library/math

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

DESCRIPTION
    This module is always available.  It provides access to the
    mathematical functions defined by the C standard.

FUNCTIONS
    acos(x, /)
        Return the arc cosine (measured in radians) of x.</code></pre>
</div>
</section><section id="import-specific-items-from-a-library-module-to-shorten-programs."><h2 class="section-heading">Import specific items from a library module to shorten
programs.<a class="anchor" aria-label="anchor" href="#import-specific-items-from-a-library-module-to-shorten-programs."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use <code>from ... import ...</code> to load only specific items
from a library module.</li>
<li>Then refer to them directly without library name as prefix.</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> cos, pi</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'cos(pi) is'</span>, cos(pi))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cos(pi) is -1.0</code></pre>
</div>
</section><section id="create-an-alias-for-a-library-module-when-importing-it-to-shorten-programs."><h2 class="section-heading">Create an alias for a library module when importing it to shorten
programs.<a class="anchor" aria-label="anchor" href="#create-an-alias-for-a-library-module-when-importing-it-to-shorten-programs."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use <code>import ... as ...</code> to give a library a short
<em>alias</em> while importing it.</li>
<li>Then refer to items in the library using that shortened name.</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math <span class="im">as</span> m</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'cos(pi) is'</span>, m.cos(m.pi))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>cos(pi) is -1.0</code></pre>
</div>
<ul>
<li>Allows less typing for long and/or frequently used packages.
<ul>
<li>E.g., the <code>matplotlib.pyplot</code> plotting package is often
aliased as <code>plt</code>.</li>
</ul>
</li>
<li>But can make programs harder to understand, since readers must learn
your program’s aliases.</li>
</ul>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exploring-the-math-module" class="callout-inner">
<h3 class="callout-title">Exploring the Math Module<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>What function from the <code>math</code> module can you use to
calculate a square root <em>without</em> using <code>sqrt</code>?</li>
<li>Since the library contains this function, why does <code>sqrt</code>
exist?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><p>Using <code>help(math)</code> we see that we’ve got
<code>pow(x,y)</code> in addition to <code>sqrt(x)</code>, so we could
use <code>pow(x, 0.5)</code> to find a square root.</p></li>
<li>
<p>The <code>sqrt(x)</code> function is arguably more readable than
<code>pow(x, 0.5)</code> when implementing equations. Readability is a
cornerstone of good programming, so it makes sense to provide a special
function for this specific common case.</p>
<p>Also, the design of Python’s <code>math</code> library has its origin
in the C standard, which includes both <code>sqrt(x)</code> and
<code>pow(x,y)</code>, so a little bit of the history of programming is
showing in Python’s function names.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="locating-the-right-module" class="callout-inner">
<h3 class="callout-title">Locating the Right Module<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>You want to select a random character from a string:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bases <span class="op">=</span> <span class="st">'ACTTGCTTGAC'</span></span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Which <a href="https://docs.python.org/3/library/" class="external-link">standard
library</a> module could help you?</li>
<li>Which function would you select from that module? Are there
alternatives?</li>
<li>Try to write a program that uses the function.</li>
</ol>
<p>While you can use <code>help</code> from within Jupyter Lab, often
when working with Python searching on the internet can yield a faster
result.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>The <a href="https://docs.python.org/3/library/random.html" class="external-link">random
module</a> seems like it could help.</p>
<p>The string has 11 characters, each having a positional index from 0
to 10. You could use the <a href="https://docs.python.org/3/library/random.html#random.randrange" class="external-link"><code>random.randrange</code></a>
or <a href="https://docs.python.org/3/library/random.html#random.randint" class="external-link"><code>random.randint</code></a>
functions to get a random integer between 0 and 10, and then select the
<code>bases</code> character at that index:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> randrange</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>random_index <span class="op">=</span> randrange(<span class="bu">len</span>(bases))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bases[random_index])</span></code></pre>
</div>
<p>or more compactly:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> randrange</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bases[randrange(<span class="bu">len</span>(bases))])</span></code></pre>
</div>
<p>Perhaps you found the <a href="https://docs.python.org/3/library/random.html#random.sample" class="external-link"><code>random.sample</code></a>
function? It allows for slightly less typing but might be a bit harder
to understand just by reading:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> sample</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample(bases, <span class="dv">1</span>)[<span class="dv">0</span>])</span></code></pre>
</div>
<p>The simplest and shortest solution is the <a href="https://docs.python.org/3/library/random.html#random.choice" class="external-link"><code>random.choice</code></a>
function that does exactly what we want:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> random <span class="im">import</span> choice</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(choice(bases))</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="jigsaw-puzzle-parsons-problem-programming-example" class="callout-inner">
<h3 class="callout-title">Jigsaw Puzzle (Parson’s Problem) Programming
Example<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Rearrange the following statements so that a random DNA base is
printed and its index in the string. Not all statements may be needed.
Feel free to use/add intermediate variables.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>bases<span class="op">=</span><span class="st">"ACTTGCTTGAC"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>___ <span class="op">=</span> random.randrange(n_bases)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>___ <span class="op">=</span> <span class="bu">len</span>(bases)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"random base "</span>, bases[___], <span class="st">"base index"</span>, ___)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>bases <span class="op">=</span> <span class="st">"ACTTGCTTGAC"</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>n_bases <span class="op">=</span> <span class="bu">len</span>(bases)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>idx <span class="op">=</span> random.randrange(n_bases)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"random base"</span>, bases[idx], <span class="st">"base index"</span>, idx)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="when-is-help-available" class="callout-inner">
<h3 class="callout-title">When Is Help Available?<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>When a colleague of yours types <code>help(math)</code>, Python
reports an error:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>NameError: name 'math' is not defined</code></pre>
</div>
<p>What has your colleague forgotten to do?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>Importing the math module (<code>import math</code>)</p>
</div>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="importing-with-aliases" class="callout-inner">
<h3 class="callout-title">Importing With Aliases<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Fill in the blanks so that the program below prints
<code>90.0</code>.</li>
<li>Rewrite the program so that it uses <code>import</code>
<em>without</em> <code>as</code>.</li>
<li>Which form do you find easier to read?</li>
</ol>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math <span class="im">as</span> m</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>angle <span class="op">=</span> ____.degrees(____.pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(____)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math <span class="im">as</span> m</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>angle <span class="op">=</span> m.degrees(m.pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(angle)</span></code></pre>
</div>
<p>can be written as</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>angle <span class="op">=</span> math.degrees(math.pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(angle)</span></code></pre>
</div>
<p>Since you just wrote the code and are familiar with it, you might
actually find the first version easier to read. But when trying to read
a huge piece of code written by someone else, or when getting back to
your own huge piece of code after several months, non-abbreviated names
are often easier, except where there are clear abbreviation
conventions.</p>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="there-are-many-ways-to-import-libraries" class="callout-inner">
<h3 class="callout-title">There Are Many Ways To Import Libraries!<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Match the following print statements with the appropriate library
calls.</p>
<p>Print commands:</p>
<ol style="list-style-type: decimal">
<li><code>print("sin(pi/2) =", sin(pi/2))</code></li>
<li><code>print("sin(pi/2) =", m.sin(m.pi/2))</code></li>
<li><code>print("sin(pi/2) =", math.sin(math.pi/2))</code></li>
</ol>
<p>Library calls:</p>
<ol style="list-style-type: decimal">
<li><code>from math import sin, pi</code></li>
<li><code>import math</code></li>
<li><code>import math as m</code></li>
<li><code>from math import *</code></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>Library calls 1 and 4. In order to directly refer to
<code>sin</code> and <code>pi</code> without the library name as prefix,
you need to use the <code>from ... import ...</code> statement. Whereas
library call 1 specifically imports the two functions <code>sin</code>
and <code>pi</code>, library call 4 imports all functions in the
<code>math</code> module.</li>
<li>Library call 3. Here <code>sin</code> and <code>pi</code> are
referred to with a shortened library name <code>m</code> instead of
<code>math</code>. Library call 3 does exactly that using the
<code>import ... as ...</code> syntax - it creates an alias for
<code>math</code> in the form of the shortened name <code>m</code>.</li>
<li>Library call 2. Here <code>sin</code> and <code>pi</code> are
referred to with the regular library name <code>math</code>, so the
regular <code>import ...</code> call suffices.</li>
</ol>
<p><strong>Note:</strong> although library call 4 works, importing all
names from a module using a wildcard import is <a href="https://pep8.org/#imports" class="external-link">not recommended</a> as it makes it
unclear which names from the module are used in the code. In general it
is best to make your imports as specific as possible and to only import
what your code uses. In library call 1, the <code>import</code>
statement explicitly tells us that the <code>sin</code> function is
imported from the <code>math</code> module, but library call 4 does not
convey this information.</p>
</div>
</div>
</div>
</div>
<div id="challenge7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="importing-specific-items" class="callout-inner">
<h3 class="callout-title">Importing Specific Items<a class="anchor" aria-label="anchor" href="#challenge7"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Fill in the blanks so that the program below prints
<code>90.0</code>.</li>
<li>Do you find this version easier to read than preceding ones?</li>
<li>Why <em>wouldn’t</em> programmers always use this form of
<code>import</code>?</li>
</ol>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>____ math <span class="im">import</span> ____, ____</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>angle <span class="op">=</span> degrees(pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(angle)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> degrees, pi</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>angle <span class="op">=</span> degrees(pi <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(angle)</span></code></pre>
</div>
<p>Most likely you find this version easier to read since it’s less
dense. The main reason not to use this form of import is to avoid name
clashes. For instance, you wouldn’t import <code>degrees</code> this way
if you also wanted to use the name <code>degrees</code> for a variable
or function of your own. Or if you were to also import a function named
<code>degrees</code> from another library.</p>
</div>
</div>
</div>
</div>
<div id="challenge8" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reading-error-messages" class="callout-inner">
<h3 class="callout-title">Reading Error Messages<a class="anchor" aria-label="anchor" href="#challenge8"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below and try to identify what the errors are without
running it.</li>
<li>Run the code, and read the error message. What type of error is
it?</li>
</ol>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> log</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>log(<span class="dv">0</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
&lt;ipython-input-1-d72e1d780bab&gt; in &lt;module&gt;
      1 from math import log
----&gt; 2 log(0)

ValueError: math domain error</code></pre>
</div>
<ol style="list-style-type: decimal">
<li>The logarithm of <code>x</code> is only defined for
<code>x &gt; 0</code>, so 0 is outside the domain of the function.</li>
<li>You get an error of type <code>ValueError</code>, indicating that
the function received an inappropriate argument value. The additional
message “math domain error” makes it clearer what the problem is.</li>
</ol>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-08-loading"><p>Content from <a href="08-loading.html">Reading tabular data</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/08-loading.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I read tabular data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Import the Pandas library.</li>
<li>Use Pandas to load a simple CSV data set.</li>
<li>Get some basic information about a Pandas DataFrame.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use the Pandas library to get basic statistics out of tabular
data.</li>
<li>Use <code>index_col</code> to specify that a column’s values should
be used as row headings.</li>
<li>Use <code>DataFrame.info</code> to find out more about a
dataframe.</li>
<li>The <code>DataFrame.columns</code> variable stores information about
the dataframe’s columns.</li>
<li>Use <code>DataFrame.T</code> to transpose a dataframe.</li>
<li>Use <code>DataFrame.describe</code> to get summary statistics about
data.</li>
</ul>
</div>
</div>
</div>
<section id="use-the-pandas-library-to-do-statistics-on-tabular-data."><h2 class="section-heading">Use the Pandas library to do statistics on tabular data.<a class="anchor" aria-label="anchor" href="#use-the-pandas-library-to-do-statistics-on-tabular-data."></a>
</h2>
<hr class="half-width">
<ul>
<li>
<a href="https://pandas.pydata.org/" class="external-link">Pandas</a> is a widely-used
Python library for statistics, particularly on tabular data.</li>
<li>Borrows many features from R’s dataframes.
<ul>
<li>A 2-dimensional table whose columns have names and potentially have
different data types.</li>
</ul>
</li>
<li>Load it with <code>import pandas as pd</code>. The alias pd is
commonly used for Pandas.</li>
<li>Read a Comma Separated Values (CSV) data file with
<code>pd.read_csv</code>.
<ul>
<li>Argument is the name of the file to be read.</li>
<li>Assign result to a variable to store the data that was read.</li>
</ul>
</li>
</ul></section><section id="data-description"><h2 class="section-heading">Data description<a class="anchor" aria-label="anchor" href="#data-description"></a>
</h2>
<hr class="half-width">
<p>We are going to use part of the data published by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5544260/" class="external-link">Blackmore
<em>et al.</em> (2017)</a>, <em>The effect of upper-respiratory
infection on transcriptomic changes in the CNS</em>. The goal of the
study was to determine the effect of an upper-respiratory infection on
changes in RNA transcription occurring in the cerebellum and spinal cord
post infection. Gender matched eight week old C57BL/6 mice were
inoculated with saline or with Influenza A by intranasal route and
transcriptomic changes in the cerebellum and spinal cord tissues were
evaluated by RNA-seq at days 0 (non-infected), 4 and 8.</p>
<p>The dataset is stored as a comma-separated values (CSV) file. Each
row holds information for a single RNA expression measurement, and the
first eleven columns represent:</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="90%">
</colgroup>
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>gene</td>
<td>The name of the gene that was measured</td>
</tr>
<tr class="even">
<td>sample</td>
<td>The name of the sample the gene expression was measured in</td>
</tr>
<tr class="odd">
<td>expression</td>
<td>The value of the gene expression</td>
</tr>
<tr class="even">
<td>organism</td>
<td>The organism/species - here all data stem from mice</td>
</tr>
<tr class="odd">
<td>age</td>
<td>The age of the mouse (all mice were 8 weeks here)</td>
</tr>
<tr class="even">
<td>sex</td>
<td>The sex of the mouse</td>
</tr>
<tr class="odd">
<td>infection</td>
<td>The infection state of the mouse, i.e. infected with Influenza A or
not infected.</td>
</tr>
<tr class="even">
<td>strain</td>
<td>The Influenza A strain; C57BL/6 in all cases.</td>
</tr>
<tr class="odd">
<td>time</td>
<td>The duration of the infection (in days).</td>
</tr>
<tr class="even">
<td>tissue</td>
<td>The tissue that was used for the gene expression experiment,
i.e. cerebellum or spinal cord.</td>
</tr>
<tr class="odd">
<td>mouse</td>
<td>The mouse unique identifier.</td>
</tr>
</tbody>
</table>
<p>We will be seeing different parts of this total dataset in different
lessons, such as just the expression data or sample data. Later, we will
learn how to convert between these different data layouts. For this
lesson, we will only be using a subset of the total dataset.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/rnaseq_reduced.csv"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         gene      sample  expression  time
0         Asl  GSM2545336        1170     8
1        Apod  GSM2545336       36194     8
2     Cyp2d22  GSM2545336        4060     8
3        Klk6  GSM2545336         287     8
4       Fcrls  GSM2545336          85     8
...       ...         ...         ...   ...
7365    Mgst3  GSM2545340        1563     4
7366   Lrrc52  GSM2545340           2     4
7367     Rxrg  GSM2545340          26     4
7368    Lmx1a  GSM2545340          81     4
7369     Pbx1  GSM2545340        3805     4

[7370 rows x 4 columns]
</code></pre>
</div>
<ul>
<li>The columns in a dataframe are the observed variables, and the rows
are the observations.</li>
<li>Pandas uses backslash <code>\</code> to show wrapped lines when
output is too wide to fit the screen.</li>
</ul></section><section id="use-index_col-to-specify-that-a-columns-values-should-be-used-as-row-headings."><h2 class="section-heading">Use <code>index_col</code> to specify that a column’s values should
be used as row headings.<a class="anchor" aria-label="anchor" href="#use-index_col-to-specify-that-a-columns-values-should-be-used-as-row-headings."></a>
</h2>
<hr class="half-width">
<ul>
<li>Row headings are numbers (0 and 1 in this case).</li>
<li>Really want to index by gene.</li>
<li>Pass the name of the column to <code>read_csv</code> as its
<code>index_col</code> parameter to do this.</li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="st">'gene'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  time
gene                                 
Asl      GSM2545336        1170     8
Apod     GSM2545336       36194     8
Cyp2d22  GSM2545336        4060     8
Klk6     GSM2545336         287     8
Fcrls    GSM2545336          85     8
...             ...         ...   ...
Mgst3    GSM2545340        1563     4
Lrrc52   GSM2545340           2     4
Rxrg     GSM2545340          26     4
Lmx1a    GSM2545340          81     4
Pbx1     GSM2545340        3805     4

[7370 rows x 3 columns]</code></pre>
</div>
</section><section id="use-the-dataframe.info-method-to-find-out-more-about-a-dataframe."><h2 class="section-heading">Use the <code>DataFrame.info()</code> method to find out more about
a dataframe.<a class="anchor" aria-label="anchor" href="#use-the-dataframe.info-method-to-find-out-more-about-a-dataframe."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df.info()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 7370 entries, Asl to Pbx1
Data columns (total 3 columns):
 #   Column      Non-Null Count  Dtype 
---  ------      --------------  ----- 
 0   sample      7370 non-null   object
 1   expression  7370 non-null   int64 
 2   time        7370 non-null   int64 
dtypes: int64(2), object(1)
memory usage: 230.3+ KB</code></pre>
</div>
<ul>
<li>This is a <code>DataFrame</code>
</li>
<li>It has 7370 rows, with the first rowname being Asl and the last
bveing Pbx1</li>
<li>It has 3 columns, two of which are 64-bit integer values.
<ul>
<li>We will talk later about null values, which are used to represent
missing observations.</li>
</ul>
</li>
<li>Uses 230.3 KB of memory.</li>
</ul></section><section id="the-dataframe.columns-variable-stores-information-about-the-dataframes-columns."><h2 class="section-heading">The <code>DataFrame.columns</code> variable stores information about
the dataframe’s columns.<a class="anchor" aria-label="anchor" href="#the-dataframe.columns-variable-stores-information-about-the-dataframes-columns."></a>
</h2>
<hr class="half-width">
<ul>
<li>Note that this is data, <em>not</em> a method. (It doesn’t have
parentheses.)
<ul>
<li>Like <code>math.pi</code>.</li>
<li>So do not use <code>()</code> to try to call it.</li>
</ul>
</li>
<li>Called a <em>member variable</em>, or just <em>member</em>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.columns)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Index(['sample', 'expression', 'time'], dtype='object')</code></pre>
</div>
</section><section id="use-dataframe.t-to-transpose-a-dataframe."><h2 class="section-heading">Use <code>DataFrame.T</code> to transpose a dataframe.<a class="anchor" aria-label="anchor" href="#use-dataframe.t-to-transpose-a-dataframe."></a>
</h2>
<hr class="half-width">
<ul>
<li>Sometimes want to treat columns as rows and vice versa.</li>
<li>Transpose (written <code>.T</code>) doesn’t copy the data, just
changes the program’s view of it.</li>
<li>Like <code>columns</code>, it is a member variable.</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.T)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gene               Asl        Apod     Cyp2d22        Klk6       Fcrls  \
sample      GSM2545336  GSM2545336  GSM2545336  GSM2545336  GSM2545336   
expression        1170       36194        4060         287          85   
time                 8           8           8           8           8   

gene            Slc2a4        Exd2        Gjc2        Plp1        Gnb4  ...  \
sample      GSM2545336  GSM2545336  GSM2545336  GSM2545336  GSM2545336  ...   
expression         782        1619         288       43217        1071  ...   
time                 8           8           8           8           8  ...   

gene            Dusp27        Mael     Gm16418     Gm16701     Aldh9a1  \
sample      GSM2545340  GSM2545340  GSM2545340  GSM2545340  GSM2545340   
expression          20           4          15         149        1462   
time                 4           4           4           4           4   

gene             Mgst3      Lrrc52        Rxrg       Lmx1a        Pbx1  
sample      GSM2545340  GSM2545340  GSM2545340  GSM2545340  GSM2545340  
expression        1563           2          26          81        3805  
time                 4           4           4           4           4  

[3 rows x 7370 columns]</code></pre>
</div>
</section><section id="use-dataframe.describe-to-get-summary-statistics-about-data."><h2 class="section-heading">Use <code>DataFrame.describe()</code> to get summary statistics
about data.<a class="anchor" aria-label="anchor" href="#use-dataframe.describe-to-get-summary-statistics-about-data."></a>
</h2>
<hr class="half-width">
<p><code>DataFrame.describe()</code> gets the summary statistics of only
the columns that have numerical data. All other columns are ignored,
unless you use the argument <code>include='all'</code>.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.describe())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          expression         time
count    7370.000000  7370.000000
mean     1774.729308     3.200000
std      4402.155716     2.993529
min         0.000000     0.000000
25%        65.000000     0.000000
50%       515.500000     4.000000
75%      1821.750000     4.000000
max    101241.000000     8.000000</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="inspecting-data" class="callout-inner">
<h3 class="callout-title">Inspecting Data<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Use <code>help(rnaseq_df.head)</code> and
<code>help(rnaseq_df.tail)</code> to find out what
<code>DataFrame.head</code> and <code>DataFrame.tail</code> do.</p>
<ol style="list-style-type: decimal">
<li>What method call will display the first three rows of this
data?</li>
<li>Using <code>head</code> and/or <code>tail</code>, how would you
display the last three columns of this data? (Hint: you may need to
change your view of the data.)</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>
<p>We can check out the first five rows of <code>rnaseq_df</code> by
executing <code>rnaseq_df.head()</code> (allowing us to view the head of
the DataFrame). We can specify the number of rows we wish to see by
specifying the parameter <code>n</code> in our call to
<code>rnaseq_df.head()</code>. To view the first three rows,
execute:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.head(n<span class="op">=</span><span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         sample 	expression 	time
 gene 			
 Asl 	GSM2545336 	1170 	8
 Apod 	GSM2545336 	36194 	8
 Cyp2d22 GSM2545336 	4060 	8</code></pre>
</div>
</li>
<li>
<p>To check out the last three rows of <code>rnaseq_df</code>, we
would use the command, <code>rnaseq_df.tail(n=3)</code>, analogous to
<code>head()</code> used above. However, here we want to look at the
last three columns so we need to change our view and then use
<code>tail()</code>. To do so, we create a new DataFrame in which rows
and columns are switched:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df_flipped <span class="op">=</span> rnaseq_df.T</span></code></pre>
</div>
<p>We can then view the last three columns of <code>rnaseq_df</code> by
viewing the last three rows of <code>rnaseq_df_flipped</code>:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df_flipped.tail(n<span class="op">=</span><span class="dv">3</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> gene 	Asl 	Apod 	Cyp2d22 	Klk6 	Fcrls 	Slc2a4 	Exd2 	Gjc2 	Plp1 	Gnb4 	... 	Dusp27 	Mael 	Gm16418 	Gm16701 	Aldh9a1 	Mgst3 	Lrrc52 	Rxrg 	Lmx1a 	Pbx1
 sample 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	GSM2545336 	... 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340 	GSM2545340
 expression 	1170 	36194 	4060 	287 	85 	782 	1619 	288 	43217 	1071 	... 	20 	4 	15 	149 	1462 	1563 	2 	26 	81 	3805
 time 	8 	8 	8 	8 	8 	8 	8 	8 	8 	8 	... 	4 	4 	4 	4 	4 	4 	4 	4 	4 	4</code></pre>
</div>
<p>This shows the data that we want, but we may prefer to display three
columns instead of three rows, so we can flip it back:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df_flipped.tail(n<span class="op">=</span><span class="dv">3</span>).T)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    sample 	expression 	time
gene 			
Asl 	GSM2545336 	1170 	8
Apod 	GSM2545336 	36194 	8
Cyp2d22 	GSM2545336 	4060 	8
Klk6 	GSM2545336 	287 	8
Fcrls 	GSM2545336 	85 	8
... 	... 	... 	...
Mgst3 	GSM2545340 	1563 	4
Lrrc52 	GSM2545340 	2 	4
Rxrg 	GSM2545340 	26 	4
Lmx1a 	GSM2545340 	81 	4
Pbx1 	GSM2545340 	3805 	4</code></pre>
</div>
<p><strong>Note:</strong> we could have done the above in a single line
of code by ‘chaining’ the commands:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T.tail(n<span class="op">=</span><span class="dv">3</span>).T</span></code></pre>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="writing-data" class="callout-inner">
<h3 class="callout-title">Writing Data<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>As well as the <code>read_csv</code> function for reading data from a
file, Pandas provides a <code>to_csv</code> function to write dataframes
to files. Applying what you’ve learned about reading from files, write
one of your dataframes to a file called <code>processed.csv</code>. You
can use <code>help</code> to get information on how to use
<code>to_csv</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>In order to write the DataFrame <code>rnaseq_df</code> to a file
called <code>processed.csv</code>, execute the following command:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df.to_csv(<span class="st">'processed.csv'</span>)</span></code></pre>
</div>
<p>For help on <code>to_csv</code>, you could execute, for example:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(rnaseq_df.to_csv)</span></code></pre>
</div>
<p>Note that <code>help(to_csv)</code> throws an error! This is a
subtlety and is due to the fact that <code>to_csv</code> is NOT a
function in and of itself and the actual call is
<code>rnaseq_df.to_csv</code>.</p>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-home-03-conda"><p>Content from <a href="home-03-conda.html">Managing Python Environments</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-03-conda.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do I manage different sets of packages?</li>
<li>How do I install new packages?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand how Conda environments can improve your research
workflow.</li>
<li>Create a new environment.</li>
<li>Activate (deactivate) a particular environment.</li>
<li>Install packages into existing environments using Conda (+pip).</li>
<li>Specify the installation location of an environment.</li>
<li>List all of the existing environments on your machine.</li>
<li>List all of the installed packages within a particular
environment.</li>
<li>Delete an entire environment.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>A Conda environment is a directory that contains a specific
collection of Conda packages that you have installed.</li>
<li>You create (remove) a new environment using the
<code>conda create</code> (<code>conda remove</code>) commands.</li>
<li>You activate (deactivate) an environment using the
<code>conda activate</code> (<code>conda deactivate</code>)
commands.</li>
<li>You install packages into environments using
<code>conda install</code>; you install packages into an active
environment using <code>pip install</code>.</li>
<li>You should install each environment as a sub-directory inside its
corresponding project directory</li>
<li>Use the <code>conda env list</code> command to list existing
environments and their respective locations.</li>
<li>Use the <code>conda list</code> command to list all of the packages
installed in an environment.</li>
</ul>
</div>
</div>
</div>
<section id="what-is-a-conda-environment"><h2 class="section-heading">What is a Conda environment<a class="anchor" aria-label="anchor" href="#what-is-a-conda-environment"></a>
</h2>
<hr class="half-width">
<p>A <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/environments.html" class="external-link">Conda
environment</a> is a directory that contains a specific collection of
Conda packages that you have installed. For example, you may be working
on a research project that requires NumPy 1.18 and its dependencies,
while another environment associated with an finished project has NumPy
1.12 (perhaps because version 1.12 was the most current version of NumPy
at the time the project finished). If you change one environment, your
other environments are not affected. You can easily activate or
deactivate environments, which is how you switch between them.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="avoid-installing-packages-into-your-base-conda-environment" class="callout-inner">
<h3 class="callout-title">Avoid installing packages into your
<code>base</code> Conda environment<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Conda has a default environment called <code>base</code> that include
a Python installation and some core system libraries and dependencies of
Conda. It is a “best practice” to avoid installing additional packages
into your <code>base</code> software environment. Additional packages
needed for a new project should always be installed into a newly created
Conda environment.</p>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="working-from-the-command-line" class="callout-inner">
<h3 class="callout-title">Working from the command line<a class="anchor" aria-label="anchor" href="#prereq1"></a>
</h3>
<div class="callout-content">
<p>So far, we have been working inside Jupyter Lab. However, we now want
to manipulate the Python kernels and will be working from outside
Jupyter.</p>
<p>For installing packages and manipulating conda environments,
<strong>we will be working from the terminal or Anaconda
prompt</strong>.</p>
<div class="section level3">
<h3 id="macos---command-line">macOS - Command Line<a class="anchor" aria-label="anchor" href="#macos---command-line"></a>
</h3>
<p>To start the JupyterLab server you will need to access the command
line through the Terminal. There are two ways to open Terminal on
Mac.</p>
<ol style="list-style-type: decimal">
<li>In your Applications folder, open Utilities and double-click on
Terminal</li>
<li>Press <kbd>Command</kbd> + <kbd>spacebar</kbd> to launch Spotlight.
Type <code>Terminal</code> and then double-click the search result or
hit <kbd>Enter</kbd>
</li>
</ol>
<p>After you have launched Terminal, run <code>conda init</code>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda init</span></code></pre>
</div>
<p>You should now see <code>(base)</code> at the start of your terminal
line.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">base</span><span class="kw">)</span> <span class="ex">$</span> </span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="windows-users---command-line">Windows Users - Command Line<a class="anchor" aria-label="anchor" href="#windows-users---command-line"></a>
</h3>
<p>To start the JupyterLab server you will need to access the Anaconda
Prompt.</p>
<p>Press <kbd>Windows Logo Key</kbd> and search for
<code>Anaconda Prompt</code>, click the result or press enter.</p>
<p>After you have launched Terminal, run <code>conda init</code>.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda init</span></code></pre>
</div>
<p>You should now see <code>(base)</code> at the start of your terminal
line.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">base</span><span class="kw">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="creating-environments"><h2 class="section-heading">Creating environments<a class="anchor" aria-label="anchor" href="#creating-environments"></a>
</h2>
<hr class="half-width">
<p>To create a new environment for Python development using
<code>conda</code> you can use the <code>conda create</code>
command.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--name</span> python3-env python</span></code></pre>
</div>
<p>For a list of all commands, take a look at <a href="https://docs.conda.io/projects/conda/en/latest/commands.html" class="external-link">Conda
general commands</a>.</p>
<p>It is a good idea to give your environment a meaningful name in order
to help yourself remember the purpose of the environment. While naming
things can be difficult, <code>$PROJECT_NAME-env</code> is a good
convention to follow. Sometimes also the specific version of a package
why you had to create a new environment is a good name</p>
<p>The command above will create a new Conda environment called
“python3” and install the most recent version of Python. If you wish,
you can specify a particular version of packages for <code>conda</code>
to install when creating the environment.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--name</span> python36-env python=3.6</span></code></pre>
</div>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="always-specify-a-version-number-for-each-package-you-wish-to-install" class="callout-inner">
<h3 class="callout-title">Always specify a version number for each
package you wish to install<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>In order to make your results more reproducible and to make it easier
for research colleagues to recreate your Conda environments on their
machines it is a “best practice” to always explicitly specify the
version number for each package that you install into an environment. If
you are not sure exactly which version of a package you want to use,
then you can use search to see what versions are available using the
<code>conda search</code> command.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda search <span class="va">$PACKAGE_NAME</span></span></code></pre>
</div>
<p>So, for example, if you wanted to see which versions of <a href="https://scikit-learn.org/stable/" class="external-link">Scikit-learn</a>, a popular
Python library for machine learning, were available, you would run the
following.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda search scikit-learn</span></code></pre>
</div>
<p>As always you can run <code>conda search --help</code> to learn about
available options.</p>
</div>
</div>
</div>
<p>You can create a Conda environment and install multiple packages by
listing the packages that you wish to install.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--name</span> basic-scipy-env ipython=7.13 matplotlib=3.1 numpy=1.18 scipy=1.4</span></code></pre>
</div>
<p>When <code>conda</code> installs a package into an environment it
also installs any required dependencies. For example, even though Python
is not listed as a packaged to install into the
<code>basic-scipy-env</code> environment above, <code>conda</code> will
still install Python into the environment because it is a required
dependency of at least one of the listed packages.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creating-a-new-environment" class="callout-inner">
<h3 class="callout-title">Creating a new environment<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Create a new environment called “machine-learning-env” with Python
and the most current versions of <a href="https://ipython.org/" class="external-link">IPython</a>, <a href="https://matplotlib.org/" class="external-link">Matplotlib</a>, <a href="https://pandas.pydata.org/" class="external-link">Pandas</a>, <a href="https://numba.pydata.org/" class="external-link">Numba</a> and <a href="https://scikit-learn.org/stable/index.html" class="external-link">Scikit-Learn</a>.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>In order to create a new environment you use the
<code>conda create</code> command as follows.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--name</span> machine-learning-env <span class="dt">\</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a> ipython <span class="dt">\</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a> matplotlib <span class="dt">\</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a> pandas <span class="dt">\</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a> python <span class="dt">\</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a> scikit-learn <span class="dt">\</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a> numba</span></code></pre>
</div>
<p>Since no version numbers are provided for any of the Python packages,
Conda will download the most current, mutually compatible versions of
the requested packages. However, since it is best practice to always
provide explicit version numbers, you should prefer the following
solution.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--name</span> machine-learning-env <span class="dt">\</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> ipython=7.19 <span class="dt">\</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a> matplotlib=3.3 <span class="dt">\</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a> pandas=1.2 <span class="dt">\</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a> python=3.8 <span class="dt">\</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a> scikit-learn=0.23 <span class="dt">\</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a> numba=0.51</span></code></pre>
</div>
<p>However, please be aware that the version numbers for each packages
may not be the latest available and would need to be adjusted.</p>
</div>
</div>
</div>
</div>
</section><section id="activating-an-existing-environment"><h2 class="section-heading">Activating an existing environment<a class="anchor" aria-label="anchor" href="#activating-an-existing-environment"></a>
</h2>
<hr class="half-width">
<p>Activating environments is essential to making the software in
environments work well (or sometimes at all!). Activation of an
environment does two things.</p>
<ol style="list-style-type: decimal">
<li>Adds entries to <code>PATH</code> for the environment.</li>
<li>Runs any activation scripts that the environment may contain.</li>
</ol>
<p>Step 2 is particularly important as activation scripts are how
packages can set arbitrary environment variables that may be necessary
for their operation. You can activate the <code>basic-scipy-env</code>
environment by name using the <code>activate</code> command.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate basic-scipy-env</span></code></pre>
</div>
<p>You can see that an environment has been activated because the shell
prompt will now include the name of the active environment.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">basic-scipy-env</span><span class="kw">)</span> <span class="ex">$</span></span></code></pre>
</div>
</section><section id="deactivate-the-current-environment"><h2 class="section-heading">Deactivate the current environment<a class="anchor" aria-label="anchor" href="#deactivate-the-current-environment"></a>
</h2>
<hr class="half-width">
<p>To deactivate the currently active environment use the Conda
<code>deactivate</code> command as follows.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">basic-scipy-env</span><span class="kw">)</span> <span class="ex">$</span> conda deactivate</span></code></pre>
</div>
<p>You can see that an environment has been deactivated because the
shell prompt will no longer include the name of the previously active
environment.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span></span></code></pre>
</div>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="returning-to-the-base-environment" class="callout-inner">
<h3 class="callout-title">Returning to the <code>base</code>
environment<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>To return to the <code>base</code> Conda environment, it’s better to
call <code>conda activate</code> with no environment specified, rather
than to use <code>deactivate</code>. If you run
<code>conda deactivate</code> from your <code>base</code> environment,
you may lose the ability to run <code>conda</code> commands at all.
<strong>Don’t worry if you encounter this undesirable state! Just start
a new shell.</strong></p>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="activate-an-existing-environment-by-name" class="callout-inner">
<h3 class="callout-title">Activate an existing environment by name<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Activate the <code>machine-learning-env</code> environment created in
the previous challenge by name.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>In order to activate an existing environment by name you use the
<code>conda activate</code> command as follows.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate machine-learning-env</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="deactivate-the-active-environment" class="callout-inner">
<h3 class="callout-title">Deactivate the active environment<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Deactivate the <code>machine-learning-env</code> environment that you
activated in the previous challenge.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>In order to deactivate the active environment you use the
<code>conda deactivate</code> command.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">active-environment-name</span><span class="kw">)</span> <span class="ex">$</span> conda deactivate</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="installing-a-package-into-an-existing-environment"><h2 class="section-heading">Installing a package into an existing environment<a class="anchor" aria-label="anchor" href="#installing-a-package-into-an-existing-environment"></a>
</h2>
<hr class="half-width">
<p>You can install a package into an existing environment using the
<code>conda install</code> command. This command accepts a list of
package specifications (i.e., <code>numpy=1.18</code>) and installs a
set of packages consistent with those specifications <em>and</em>
compatible with the underlying environment. If full compatibility cannot
be assured, an error is reported and the environment is <em>not</em>
changed.</p>
<p>By default the <code>conda install</code> command will install
packages into the current, active environment. The following would
activate the <code>basic-scipy-env</code> we created above and install
<a href="https://numba.pydata.org/" class="external-link">Numba</a>, an open source JIT
compiler that translates a subset of Python and NumPy code into fast
machine code, into the active environment.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate basic-scipy-env</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda install numba</span></code></pre>
</div>
<p>As was the case when listing packages to install when using the
<code>conda create</code> command, if version numbers are not explicitly
provided, Conda will attempt to install the newest versions of any
requested packages. To accomplish this, Conda may need to update some
packages that are already installed or install additional packages. It
is always a good idea to explicitly provide version numbers when
installing packages with the <code>conda install</code> command. For
example, the following would install a particular version of
Scikit-Learn, into the current, active environment.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda install scikit-learn=0.22</span></code></pre>
</div>
<div id="checklist1" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="using-your-environment-in-jupyter" class="callout-inner">
<h3 class="callout-title">Using your environment in Jupyter<a class="anchor" aria-label="anchor" href="#checklist1"></a>
</h3>
<div class="callout-content">
<p>We need to perform a few extra steps to make our conda environments
available in Jupyter Lab.</p>
<p>First, we’re going to break convention and install the
<code>nb_conda_kernels</code> into our base environment.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda install nb_conda_kernels</span></code></pre>
</div>
<p>Now for any environment we want to be available in Jupyter Lab we
simply install the <code>ipykernel</code> package.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate basic-scipy-env</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda install ipykernel</span></code></pre>
</div>
<p>We then want to go back to our base environment and start Jupyter
Lab:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> jupyter lab</span></code></pre>
</div>
<p>Now, when we launch Jupyter Lab our environments should be available
as <strong>kernels</strong>. You can change your kernel in the top-right
of the screen:</p>
<figure><img src="fig/home03-jupyter-changing-kernel.png" alt="" class="figure mx-auto d-block"><figcaption>Changing the kernel</figcaption></figure><p>And you should see your conda environments available:</p>
<figure><img src="fig/home03-jupyter-selecting-kernel.png" alt="" class="figure mx-auto d-block"><figcaption>Selecting conda kernels in Jupyer Lab</figcaption></figure>
</div>
</div>
</div>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="freezing-installed-packages" class="callout-inner">
<h3 class="callout-title">Freezing installed packages<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<p>To prevent existing packages from being updating when using the
<code>conda install</code> command, you can use the
<code>--freeze-installed</code> option. This may force Conda to install
older versions of the requested packages in order to maintain
compatibility with previously installed packages. Using the
<code>--freeze-installed</code> option does not prevent additional
dependency packages from being installed.</p>
</div>
</div>
</div>
</section><section id="where-do-conda-environments-live"><h2 class="section-heading">Where do Conda environments live?<a class="anchor" aria-label="anchor" href="#where-do-conda-environments-live"></a>
</h2>
<hr class="half-width">
<p>Environments created with <code>conda</code>, by default, live in the
<code>envs/</code> folder of your <code>miniconda3</code> (or
<code>anaconda3</code>) directory the absolute path to which will look
something the following: <code>/Users/$USERNAME/miniconda3/envs</code>
or <code>C:\Users\$USERNAME\Anaconda3</code>.</p>
<p>Running <code>ls</code> (linux) / <code>dir</code> (Windows) on your
anaconda <code>envs/</code> directory will list out the directories
containing the existing Conda environments.</p>
</section><section id="how-do-i-specify-a-location-for-a-conda-environment"><h2 class="section-heading">How do I specify a location for a Conda environment?<a class="anchor" aria-label="anchor" href="#how-do-i-specify-a-location-for-a-conda-environment"></a>
</h2>
<hr class="half-width">
<p>You can control where a Conda environment lives by providing a path
to a target directory when creating the environment. For example to
following command will create a new environment in a sub-directory of
the current working directory called <code>env</code>.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda create <span class="at">--prefix</span> ./env ipython=7.13 matplotlib=3.1 pandas=1.0 python=3.6</span></code></pre>
</div>
<p>You activate an environment created with a prefix using the same
command used to activate environments created by name.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda activate ./env</span></code></pre>
</div>
<p>It is often a good idea to specify a path to a sub-directory of your
project directory when creating an environment. Why?</p>
<ol style="list-style-type: decimal">
<li>Makes it easy to tell if your project utilizes an isolated
environment by including the environment as a sub-directory.</li>
<li>Makes your project more self-contained as everything <em>including
the required software</em> is contained in a single project
directory.</li>
</ol>
<p>An additional benefit of creating your project’s environment inside a
sub-directory is that you can then use the same name for all your
environments; if you keep all of your environments in your
<code>~/miniconda3/env/</code> folder, you’ll have to give each of them
a different name.</p>
</section><section id="listing-existing-environments"><h2 class="section-heading">Listing existing environments<a class="anchor" aria-label="anchor" href="#listing-existing-environments"></a>
</h2>
<hr class="half-width">
<p>Now that you have created a number of Conda environments on your
local machine you have probably forgotten the names of all of the
environments and exactly where they live. Fortunately, there is a
<code>conda</code> command to list all of your existing environments
together with their locations.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda env list</span></code></pre>
</div>
</section><section id="listing-the-contents-of-an-environment"><h2 class="section-heading">Listing the contents of an environment<a class="anchor" aria-label="anchor" href="#listing-the-contents-of-an-environment"></a>
</h2>
<hr class="half-width">
<p>In addition to forgetting names and locations of Conda environments,
at some point you will probably forget exactly what has been installed
in a particular Conda environment. Again, there is a <code>conda</code>
command for listing the contents on an environment. To list the contents
of the <code>basic-scipy-env</code> that you created above, run the
following command.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda list <span class="at">--name</span> basic-scipy-env</span></code></pre>
</div>
<p>If you created your Conda environment using the <code>--prefix</code>
option to install packages into a particular directory, then you will
need to use that prefix in order for <code>conda</code> to locate the
environment on your machine.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda list <span class="at">--prefix</span> /path/to/conda-env</span></code></pre>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="listing-the-contents-of-a-particular-environment." class="callout-inner">
<h3 class="callout-title">Listing the contents of a particular
environment.<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>List the packages installed in the <code>machine-learning-env</code>
environment that you created in a previous challenge.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>You can list the packages and their versions installed in
<code>machine-learning-env</code> using the <code>conda list</code>
command as follows.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda list <span class="at">--name</span> machine-learning-env</span></code></pre>
</div>
<p>To list the packages and their versions installed in the active
environment leave off the <code>--name</code> or <code>--prefix</code>
option.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda list</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section id="deleting-entire-environments"><h2 class="section-heading">Deleting entire environments<a class="anchor" aria-label="anchor" href="#deleting-entire-environments"></a>
</h2>
<hr class="half-width">
<p>Occasionally, you will want to delete an entire environment. Perhaps
you were experimenting with <code>conda</code> commands and you created
an environment you have no intention of using; perhaps you no longer
need an existing environment and just want to get rid of cruft on your
machine. Whatever the reason, the command to delete an environment is
the following.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda remove <span class="at">--name</span> my-first-conda-env <span class="at">--all</span></span></code></pre>
</div>
<p>If you wish to delete and environment that you created with a
<code>--prefix</code> option, then you will need to provide the prefix
again when removing the environment.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda remove <span class="at">--prefix</span> /path/to/conda-env/ <span class="at">--all</span></span></code></pre>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="delete-an-entire-environment" class="callout-inner">
<h3 class="callout-title">Delete an entire environment<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>Delete the entire “basic-scipy-env” environment.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>In order to delete an entire environment you use the
<code>conda remove</code> command as follows.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda remove <span class="at">--name</span> basic-scipy-env <span class="at">--all</span> <span class="at">--yes</span></span></code></pre>
</div>
<p>This command will remove all packages from the named environment
before removing the environment itself. The use of the
<code>--yes</code> flag short-circuits the confirmation prompt (and
should be used with caution).</p>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-home-04-dictionaries"><p>Content from <a href="home-04-dictionaries.html">Dictionaries</a></p>
<hr>
<p> Last updated on 2023-04-20 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-04-dictionaries.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How is a dictionary defined in Python?</li>
<li>What are the ways to interact with a dictionary?</li>
<li>Can a dictionary be nested?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understanding the structure of a dictionary.</li>
<li>Accessing data from a dictionary.</li>
<li>Practising nested dictionaries to deal with complex data.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Dictionaries associate a set of <em>values</em> with a number of
<em>keys</em>.</li>
<li>
<em>keys</em> are used to access the values of a dictionary.</li>
<li>Dictionaries are mutable.</li>
<li>Nested dictionaries are constructed to organise data in a
hierarchical fashion.</li>
<li>Some of the useful methods to work with dictionaries are:
<kbd>.items()</kbd>, <kbd>.get()</kbd>
</li>
</ul>
</div>
</div>
</div>
<section id="dictionary"><h2 class="section-heading">Dictionary<a class="anchor" aria-label="anchor" href="#dictionary"></a>
</h2>
<hr class="half-width">
<p>One of the most useful built-in tools in Python, dictionaries
associate a set of <em>values</em> with a number of <em>keys</em>.</p>
<p>Think of an old fashion, paperback dictionary where we have a range
of words with their definitions. The words are the <em>keys</em>, and
the definitions are the <em>values</em> that are associated with the
keys. A Python dictionary works in the same way.</p>
<p>Consider the following scenario:</p>
<blockquote>
<p>Suppose we have a number of protein kinases, and we would like to
associate them with their descriptions for future reference.</p>
</blockquote>
<p>This is an example of association in arrays. We may visualise this
problem as displayed below:</p>
<figure><img src="fig/home04_associative_arrays.png" alt="" class="figure mx-auto d-block"><figcaption>Illustrative diagram of associative arrays, showing
the sets of <em>keys</em> and their association with some of the
values.</figcaption></figure><p>One way to associate the proteins with their definitions would be to
use nested arrays. However, it would make it difficult to retrieve the
values at a later time. This is because to retrieve the values, we would
need to know the index at which a given protein is stored.</p>
<p>Instead of using normal arrays, in such circumstances, we use
<em>associative arrays</em>. The most popular method to create construct
an associative array in Python is to create dictionaries or
<code>dict</code>.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="remember" class="callout-inner">
<h3 class="callout-title">Remember<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>To implement a <code>dict</code> in Python, we place our entries in
curly bracket, separated using a comma. We separate <em>keys</em> and
<em>values</em> using a colon — e.g. {<span style="color: rgb(32, 121, 77);">‘key’</span>: <span style="color: rgb(32, 121, 77);">‘value’</span>}. The combination of
dictionary <em>key</em> and its associating <em>value</em> is known as a
dictionary <em>item</em>.</p>
</div>
</div>
</div>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="note" class="callout-inner">
<h3 class="callout-title">Note<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>When constructing a long <code>dict</code> with several
<em>items</em> that span over several lines, it is not necessary to
write one <em>item</em> per line or use indentations for each
<em>item</em> or line. All we must is to write the as {<span style="color: rgb(32, 121, 77);">‘key’</span>: <span style="color: rgb(32, 121, 77);">‘value’</span>} in curly brackets and
separate each pair with a comma. However, it is good practice to write
one <em>item</em> per line and use indentations as it makes it
considerably easier to read the code and understand the hierarchy.</p>
</div>
</div>
</div>
<p>We can therefore implement the diagram displayed above in Python as
follows:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>protein_kinases <span class="op">=</span> {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'PKA'</span>: <span class="st">'Involved in regulation of glycogen, sugar, and lipid metabolism.'</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'PKC'</span>: <span class="st">'Regulates signal transduction pathways such as the Wnt pathway.'</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'CK1'</span>: <span class="st">'Controls the function of other proteins through phosphorylation.'</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein_kinases)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'PKA': 'Involved in regulation of glycogen, sugar, and lipid metabolism.', 'PKC': 'Regulates signal transduction pathways such as the Wnt pathway.', 'CK1': 'Controls the function of other proteins through phosphorylation.'}</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(protein_kinases))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'dict'&gt;</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="constructing-dictionaries" class="callout-inner">
<h3 class="callout-title">Constructing dictionaries<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Use <a href="https://uniprot.org/" class="external-link">Universal Protein Resource</a>
(UniProt) to find the following proteins for humans: - Axin-1 -
Rhodopsin</p>
<p>Construct a dictionary for these proteins and the number amino acids
for each of them. The <em>keys</em> should represent the name of the
protein. Display the result.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>proteins <span class="op">=</span> {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Axin-1'</span>: <span class="dv">862</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Rhodopsin'</span>: <span class="dv">348</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>		</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(proteins)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'Axin-1': 862, 'Rhodopsin': 348}</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Now that we have created a dictionary; we can test whether or not a
specific <em>key</em> exists our dictionary:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">'CK1'</span> <span class="kw">in</span> protein_kinases</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">True</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">'GSK3'</span> <span class="kw">in</span> protein_kinases</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">False</span></span></code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="using-in" class="callout-inner">
<h3 class="callout-title">Using <code>in</code><a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Using the <code>proteins</code> dictionary you created in the above
challenge, test to see whether or not a protein called
<strong>ERK</strong> exists as a <em>key</em> in your dictionary?
Display the result as a Boolean value.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'ERK'</span> <span class="kw">in</span> proteins)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">False</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="interacting-with-a-dictionary">Interacting with a dictionary<a class="anchor" aria-label="anchor" href="#interacting-with-a-dictionary"></a>
</h3>
<p>We have already learnt that in programming, the more explicit our
code, the better it is. Interacting with dictionaries in Python is very
easy, coherent, and explicit. This makes them a powerful tool that we
can exploit for different purposes.</p>
<p>In <code>list</code>s and <code>tuple</code>s, we use indexing and
slicing to retrieve <em>values</em>. In dictionaries, however, we use
<em>keys</em> to do that. Because we can define the <em>keys</em> of a
dictionary ourselves, we no longer have to rely exclusively on numeric
indices.</p>
<p>As a result, we can retrieve the <em>values</em> of a dictionary
using their respective <em>keys</em> as follows:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein_kinases[<span class="st">'CK1'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Controls the function of other proteins through phosphorylation.</code></pre>
</div>
<p>However, if we attempt to retrieve the <em>value</em> for a
<em>key</em> that does not exist in our <code>dict</code>, a
<code>KeyError</code> will be raised:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">'GSK3'</span> <span class="kw">in</span> protein_kinases</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein_kinases[<span class="st">'GSK3'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in py_call_impl(callable, dots$args, dots$keywords): KeyError: 'GSK3'

Detailed traceback:
  File "&lt;string&gt;", line 1, in &lt;module&gt;</code></pre>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="dictionary-lookup" class="callout-inner">
<h3 class="callout-title">Dictionary lookup<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Implement a <code>dict</code> to represent the following set of
information:</p>
<p><strong>Cystic Fibrosis:</strong></p>
<table class="table">
<colgroup>
<col width="74%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="center"><strong>Full Name</strong></th>
<th align="center"><strong>Gene</strong></th>
<th align="center"><strong>Type</strong></th>
</tr></thead>
<tbody><tr class="odd">
<td align="center">Cystic fibrosis transmembrane conductance
regulator</td>
<td align="center">CFTR</td>
<td align="center">Membrane Protein</td>
</tr></tbody>
</table>
<p>Using the dictionary you implemented, retrieve and display the
<em>gene</em> associated with cystic fibrosis.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>cystic_fibrosis <span class="op">=</span> {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'full name'</span>: <span class="st">'Cystic fibrosis transmembrane conductance regulator'</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'gene'</span>: <span class="st">'CFTR'</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'type'</span>: <span class="st">'Membrane Protein'</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>		</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cystic_fibrosis[<span class="st">'gene'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">CFTR</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="remember-1" class="callout-inner">
<h3 class="callout-title">Remember<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>Whilst the <em>values</em> in a <code>dict</code> can be of virtually
any type supported in Python, the <em>keys</em> may only be defined
using immutable types such as <code>string</code>, <code>int</code>, or
<code>tuple</code>. Additionally, the <em>keys</em> in a dictionary must
be unique.</p>
</div>
</div>
</div>
<p>If we attempt to construct a <code>dict</code> using a mutable value
as <em>key</em>, a <code>TypeError</code> will be raised.</p>
<p>For instance, <code>list</code> is a mutable type and therefore
cannot be used as a <em>key</em>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>test_dict <span class="op">=</span> {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  [<span class="st">'a'</span>, <span class="st">'b'</span>]: <span class="st">'some value'</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: unhashable type: 'list'

Detailed traceback:
  File "&lt;string&gt;", line 1, in &lt;module&gt;</code></pre>
</div>
<p>But we can use any immutable type as a <em>key</em>:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>test_dict <span class="op">=</span> {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'ab'</span>: <span class="st">'some value'</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_dict)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">{</span><span class="st">'ab'</span><span class="op">:</span> <span class="st">'some value'</span><span class="op">}</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>test_dict <span class="op">=</span> {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  (<span class="st">'a'</span>, <span class="st">'b'</span>): <span class="st">'some value'</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(test_dict)  </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{('a', 'b'): 'some value'}</code></pre>
</div>
<p>If we define a <em>key</em> more than once, the Python interpreter
constructs the entry in <code>dict</code> using the last instance.</p>
<p>In the following example, we repeat the <em>key</em> <span style="color: rgb(32, 121, 77);">‘pathway’</span> twice; and as
expected, the interpreter only uses the last instance, which in this
case represents the value <span style="color: rgb(32, 121, 77);">‘Canonical’</span>:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>signal <span class="op">=</span> {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'name'</span>: <span class="st">'Wnt'</span>, </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'pathway'</span>: <span class="st">'Non-Canonical'</span>,  <span class="co"># first instance</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'pathway'</span>: <span class="st">'Canonical'</span>  <span class="co"># second instance</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(signal)	</span></code></pre>
</div>
<pre><code>{'name': 'Wnt', 'pathway': 'Canonical'}</code></pre>
</div>
<div class="section level3">
<h3 id="dictionaries-are-mutable">Dictionaries are mutable<a class="anchor" aria-label="anchor" href="#dictionaries-are-mutable"></a>
</h3>
<p>Dictionaries are mutable. This means that we can alter their
contents. We can make any alterations to a dictionary as long as we use
<em>immutable</em> values for the <em>keys</em>.</p>
<p>Suppose we have a dictionary stored in a variable called
<code>protein</code>, holding some information about a specific
protein:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>protein <span class="op">=</span> {</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'full name'</span>: <span class="st">'Cystic fibrosis transmembrane conductance regulator'</span>, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'alias'</span>: <span class="st">'CFTR'</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'gene'</span>: <span class="st">'CFTR'</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">'type'</span>: <span class="st">'Membrane Protein'</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">'common mutations'</span>: [<span class="st">'Delta-F508'</span>, <span class="st">'G542X'</span>, <span class="st">'G551D'</span>, <span class="st">'N1303K'</span>]</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre>
</div>
<p>We can add new <em>items</em> to our dictionary or alter the existing
ones:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding a new item:</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>protein[<span class="st">'chromosome'</span>] <span class="op">=</span> <span class="dv">7</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein[<span class="st">'chromosome'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'full name': 'Cystic fibrosis transmembrane conductance regulator', 'alias': 'CFTR', 'gene': 'CFTR', 'type': 'Membrane Protein', 'common mutations': ['Delta-F508', 'G542X', 'G551D', 'N1303K'], 'chromosome': 7}
7</code></pre>
</div>
<p>We can also alter an existing <em>value</em> in a dictionary using
its <em>key</em>. To do so, we simply access the <em>value</em> using
its <em>key</em>, and treat it as a normal variable; i.e. the same way
we do with members of a <code>list</code>:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein[<span class="st">'common mutations'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['Delta-F508', 'G542X', 'G551D', 'N1303K']</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>protein[<span class="st">'common mutations'</span>].append(<span class="st">'W1282X'</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'full name': 'Cystic fibrosis transmembrane conductance regulator', 'alias': 'CFTR', 'gene': 'CFTR', 'type': 'Membrane Protein', 'common mutations': ['Delta-F508', 'G542X', 'G551D', 'N1303K', 'W1282X'], 'chromosome': 7}</code></pre>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="altering-values" class="callout-inner">
<h3 class="callout-title">Altering values<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>Implement the following dictionary:</p>
<pre><code>signal = {'name': 'Wnt', 'pathway': 'Non-Canonical'}}
	</code></pre>
<p>with respect to <span style="color: rgb(32, 121, 77);">signal</span>:</p>
<ul>
<li>Correct the <em>value</em> of <span style="color: rgb(32, 121, 77);">pathway</span> to “Canonical”;</li>
<li>Add a new <em>item</em> to the dictionary to represent the
<em>receptors</em> for the canonical pathway as “Frizzled” and
“LRP”.</li>
</ul>
<p>Display the altered dictionary as the final result.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>signal <span class="op">=</span> {<span class="st">'name'</span>: <span class="st">'Wnt'</span>, <span class="st">'pathway'</span>: <span class="st">'Non-Canonical'</span>}</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>signal[<span class="st">'pathway'</span>] <span class="op">=</span> <span class="st">'Canonical'</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>signal[<span class="st">'receptors'</span>] <span class="op">=</span> (<span class="st">'Frizzled'</span>, <span class="st">'LRP'</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(signal)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'name': 'Wnt', 'pathway': 'Canonical', 'receptors': ('Frizzled', 'LRP')}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="advanced-topic" class="callout-inner">
<h3 class="callout-title">Advanced Topic<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<p>Displaying an entire dictionary using the <kbd>print()</kbd> function
can look a little messy because it is not properly structured. There is,
however, an external library called <code>pprint</code> (Pretty-Print)
that behaves in very similar way to the default <kbd>print()</kbd>
function, but structures dictionaries and other arrays in a more
presentable way before displaying them. We do not discuss
``Pretty-Print’’ in this course, but it is a part of Python’s default
library and is therefore installed with Python automatically. To learn
more it, have a read through the <a href="https://docs.python.org/3/library/pprint.html#module-pprint" class="external-link">official
documentations</a> for the library and review the <a href="https://docs.python.org/3/library/pprint.html#example" class="external-link">examples</a>.</p>
</div>
</div>
</div>
<p>Because the <em>keys</em> are immutable, they cannot be altered.
However, we can get around this limitation by introducing a new
<em>key</em> and assigning the <em>values</em> of the old <em>key</em>
to the new one. Once we do that, we can go ahead and <em>remove</em> the
old <em>item</em>. The easiest way to remove an <em>item</em> from a
dictionary is to use the syntax <kbd>del</kbd>:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a new key and assigning to it the </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># values of the old key:</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>protein[<span class="st">'human chromosome'</span>] <span class="op">=</span> protein[<span class="st">'chromosome'</span>]</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'full name': 'Cystic fibrosis transmembrane conductance regulator', 'alias': 'CFTR', 'gene': 'CFTR', 'type': 'Membrane Protein', 'common mutations': ['Delta-F508', 'G542X', 'G551D', 'N1303K', 'W1282X'], 'chromosome': 7, 'human chromosome': 7}</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we remove the old item from the dictionary:</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> protein[<span class="st">'chromosome'</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'full name': 'Cystic fibrosis transmembrane conductance regulator', 'alias': 'CFTR', 'gene': 'CFTR', 'type': 'Membrane Protein', 'common mutations': ['Delta-F508', 'G542X', 'G551D', 'N1303K', 'W1282X'], 'human chromosome': 7}</code></pre>
</div>
<p>We can simplify the above operation using the <kbd>.pop()</kbd>
method, which removes the specified <em>key</em> from a dictionary and
returns any <em>values</em> associated with it:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>protein[<span class="st">'common mutations in caucasians'</span>] <span class="op">=</span> protein.pop(<span class="st">'common mutations'</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(protein)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{'full name': 'Cystic fibrosis transmembrane conductance regulator', 'alias': 'CFTR', 'gene': 'CFTR', 'type': 'Membrane Protein', 'human chromosome': 7, 'common mutations in caucasians': ['Delta-F508', 'G542X', 'G551D', 'N1303K', 'W1282X']}</code></pre>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reassigning-values" class="callout-inner">
<h3 class="callout-title">Reassigning values<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>Implement a dictionary as:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>signal <span class="op">=</span> {<span class="st">'name'</span>: <span class="st">'Beta-Galactosidase'</span>, <span class="st">'pdb'</span>: <span class="st">'4V40'</span>}</span></code></pre>
</div>
<p>with respect to <span style="color: rgb(32, 121, 77);">signal</span>:</p>
<ul>
<li><p>Change the <em>key</em> name from <span style="color: rgb(32, 121, 77);">‘pdb’</span> to <span style="color: rgb(32, 121, 77);">‘pdb id’</span> using the
<kbd>.pop()</kbd> method.</p></li>
<li>
<p>Write a code to find out whether the dictionary:</p>
<ul>
<li>contains the new <em>key</em> (i.e. <span style="color: rgb(32, 121, 77);">‘pdb id’</span>).</li>
<li>confirm that it no longer contains the old <em>key</em> (i.e. <span style="color: rgb(32, 121, 77);">‘pdb’</span>)</li>
</ul>
</li>
</ul>
<p>If both conditions are met, display:</p>
<pre><code>Contains the new key, but not the old one.</code></pre>
<p>Otherwise:</p>
<pre><code>Failed to alter the dictionary.</code></pre>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>signal <span class="op">=</span> {</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>		    <span class="st">'name'</span>: <span class="st">'Beta-Galactosidase'</span>, </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>		    <span class="st">'pdb'</span>: <span class="st">'4V40'</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>	}</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>signal[<span class="st">'pdb id'</span>] <span class="op">=</span> signal.pop(<span class="st">'pdb'</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="st">'pdb id'</span> <span class="kw">in</span> signal <span class="kw">and</span> <span class="st">'pdb'</span> <span class="kw">not</span> <span class="kw">in</span> signal:</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Contains the new key, but not the old one.'</span>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Failed to alter the dictionary.'</span>)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Contains the new key, but not the old one.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="useful-methods-for-dictionary">
<strong>Useful methods for dictionary</strong><a class="anchor" aria-label="anchor" href="#useful-methods-for-dictionary"></a>
</h3>
<p>Now we use some snippets to demonstrate some of the useful
<em>methods</em> associated with <code>dict</code> in Python.</p>
<p>Given a dictionary as:</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>lac_repressor <span class="op">=</span> {</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>	    <span class="st">'pdb id'</span>: <span class="st">'1LBI'</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>	    <span class="st">'deposit data'</span>: <span class="st">'1996-02-17'</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>	    <span class="st">'organism'</span>: <span class="st">'Escherichia coli'</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>	    <span class="st">'method'</span>: <span class="st">'x-ray'</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>	    <span class="st">'resolution'</span>: <span class="fl">2.7</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
</div>
<p>We can create an array of all <em>items</em> in the dictionary using
the <kbd>.items()</kbd> method:</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lac_repressor.items())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>dict_items([('pdb id', '1LBI'), ('deposit data', '1996-02-17'), ('organism', 'Escherichia coli'), ('method', 'x-ray'), ('resolution', 2.7)])</code></pre>
</div>
<p>The <kbd>.items()</kbd> method also returns an array of
<code>tuple</code> members. Each <code>tuple</code> itself consists of 2
members, and is structured as (<span style="color: rgb(32, 121, 77);">‘key’</span>: <span style="color: rgb(32, 121, 77);">‘value’</span>). On that account, we
can use its output in the context of a <code>for</code>–loop as
follows:</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key, value <span class="kw">in</span> lac_repressor.items():</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(key, value, sep<span class="op">=</span><span class="st">': '</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pdb id: 1LBI
deposit data: 1996-02-17
organism: Escherichia coli
method: x-ray
resolution: 2.7</code></pre>
</div>
<p>We learned earlier that if we ask for a <em>key</em> that is not in
the <code>dict</code>, a <code>KeyError</code> will be raised. If we
anticipate this, we can handle it using the <kbd>.get()</kbd> method.
The method takes in the <em>key</em> and searches the dictionary to find
it. If found, the associating <em>value</em> is returned. Otherwise, the
method returns <code>None</code> by default. We can also pass a second
value to <kbd>.get()</kbd> to replace <code>None</code> in cases that
the requested <em>key</em> does not exist:</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lac_repressor[<span class="st">'gene'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Error in py_call_impl(callable, dots$args, dots$keywords): KeyError: 'gene'

Detailed traceback:
  File "&lt;string&gt;", line 1, in &lt;module&gt;</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lac_repressor.get(<span class="st">'gene'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">None</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(lac_repressor.get(<span class="st">'gene'</span>, <span class="st">'Not found...'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Not found...</code></pre>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="getting-multiple-values" class="callout-inner">
<h3 class="callout-title">Getting multiple values<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Implement the <span style="color: rgb(32, 121, 77);">lac_repressor</span> dictionary and try
to extract the <em>values</em> associated with the following
<em>keys</em>:</p>
<ul>
<li><span style="color: rgb(32, 121, 77);">organism</span></li>
<li><span style="color: rgb(32, 121, 77);">authors</span></li>
<li><span style="color: rgb(32, 121, 77);">subunits</span></li>
<li><span style="color: rgb(32, 121, 77);">method</span></li>
</ul>
<p>If a <em>key</em> does not exist in the dictionary, display <span style="color: rgb(32, 121, 77);">No entry</span> instead.</p>
<p>Display the results in the following format:</p>
<pre><code><span><span class="va">organism</span><span class="op">:</span> <span class="va">XXX</span></span>
<span><span class="va">authors</span><span class="op">:</span> <span class="va">XXX</span>  </span></code></pre>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  DIY ANSWER
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>lac_repressor <span class="op">=</span> {</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pdb id'</span>: <span class="st">'1LBI'</span>,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'deposit data'</span>: <span class="st">'1996-02-17'</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'organism'</span>: <span class="st">'Escherichia coli'</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'method'</span>: <span class="st">'x-ray'</span>,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'resolution'</span>: <span class="fl">2.7</span>,</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>requested_keys <span class="op">=</span> [<span class="st">'organism'</span>, <span class="st">'authors'</span>, <span class="st">'subunits'</span>, <span class="st">'method'</span>]</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key <span class="kw">in</span> requested_keys:</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>    lac_repressor.get(key, <span class="st">'No entry'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">'Escherichia coli'</span></span>
<span><span class="st">'No entry'</span></span>
<span><span class="st">'No entry'</span></span>
<span><span class="st">'x-ray'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="for-loops-and-dictionaries">
<code>for</code>-loops and dictionaries<a class="anchor" aria-label="anchor" href="#for-loops-and-dictionaries"></a>
</h3>
<p>Dictionaries and <code>for</code>-loops create a powerful
combination. We can leverage the accessibility of dictionary
<em>values</em> through specific <em>keys</em> that we define ourselves
in a loop to extract data iteratively and repeatedly.</p>
<p>One of the most useful tools that we can create using nothing more
than a <code>for</code>-loop and a dictionary, in only a few lines of
code, is a sequence converter.</p>
<p>Here, we are essentially iterating through a sequence of DNA
nucleotides (<span style="color: rgb(32, 121, 77);">sequence</span>),
extracting one character per loop cycle from our string (<span style="color: rgb(32, 121, 77);">nucleotide</span>). We then use that
character as a <em>key</em> to retrieve its corresponding <em>value</em>
from our a dictionary (<span style="color: rgb(32, 121, 77);">dna2rna</span>). Once we get the
<em>value</em>, we add it to the variable that we initialised using an
empty string outside the scope of our <code>for</code>-loop (<span style="color: rgb(32, 121, 77);">rna_sequence</span>). At the end of the
process, the variable <span style="color: rgb(32, 121, 77);">rna_sequence</span> will contain a
converted version of our sequence.</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>sequence <span class="op">=</span> <span class="st">'CCCATCTTAAGACTTCACAAGACTTGTGAAATCAGACCACTGCTCAATGCGGAACGCCCG'</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>dna2rna <span class="op">=</span> {<span class="st">"A"</span>: <span class="st">"U"</span>, <span class="st">"T"</span>: <span class="st">"A"</span>, <span class="st">"C"</span>: <span class="st">"G"</span>, <span class="st">"G"</span>: <span class="st">"C"</span>}</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>rna_sequence <span class="op">=</span> <span class="bu">str</span>()  <span class="co"># Creating an empty string.</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> nucleotide <span class="kw">in</span> sequence:</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    rna_sequence <span class="op">+=</span> dna2rna[nucleotide]</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>	</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'DNA:'</span>, sequence)</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'RNA:'</span>, rna_sequence)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">DNA</span><span class="op">:</span> <span class="va">CCCATCTTAAGACTTCACAAGACTTGTGAAATCAGACCACTGCTCAATGCGGAACGCCCG</span></span>
<span><span class="va">RNA</span><span class="op">:</span> <span class="va">GGGUAGAAUUCUGAAGUGUUCUGAACACUUUAGUCUGGUGACGAGUUACGCCUUGCGGGC</span></span></code></pre>
</div>
<div id="challenge7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="using-dictionaries-as-maps" class="callout-inner">
<h3 class="callout-title">Using dictionaries as maps<a class="anchor" aria-label="anchor" href="#challenge7"></a>
</h3>
<div class="callout-content">
<p>We know that in reverse transcription, RNA nucleotides are converted
to their complementary DNA as shown:</p>
<table class="table">
<thead><tr class="header">
<th align="center">Type</th>
<th align="center">Direction</th>
<th align="center">Nucleotides</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">RNA</td>
<td align="center">5’…’</td>
<td align="center">U A G C</td>
</tr>
<tr class="even">
<td align="center">cDNA</td>
<td align="center">5’…’</td>
<td align="center">A T C G</td>
</tr>
</tbody>
</table>
<p>with that in mind:</p>
<ol style="list-style-type: decimal">
<li><p>Use the table to construct a dictionary for reverse
transcription, and another dictionary for the conversion of cDNA to
DNA.</p></li>
<li><p>Using the appropriate dictionary, convert the following mRNA
(exon) sequence for human G protein-coupled receptor to its
cDNA.</p></li>
</ol>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>human_gpcr <span class="op">=</span> (</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'AUGGAUGUGACUUCCCAAGCCCGGGGCGUGGGCCUGGAGAUGUACCCAGGCACCGCGCAGCCUGCGGCCCCCAACACCACCUC'</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CCCCGAGCUCAACCUGUCCCACCCGCUCCUGGGCACCGCCCUGGCCAAUGGGACAGGUGAGCUCUCGGAGCACCAGCAGUACG'</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'UGAUCGGCCUGUUCCUCUCGUGCCUCUACACCAUCUUCCUCUUCCCCAUCGGCUUUGUGGGCAACAUCCUGAUCCUGGUGGUG'</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'AACAUCAGCUUCCGCGAGAAGAUGACCAUCCCCGACCUGUACUUCAUCAACCUGGCGGUGGCGGACCUCAUCCUGGUGGCCGA'</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CUCCCUCAUUGAGGUGUUCAACCUGCACGAGCGGUACUACGACAUCGCCGUCCUGUGCACCUUCAUGUCGCUCUUCCUGCAGG'</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'UCAACAUGUACAGCAGCGUCUUCUUCCUCACCUGGAUGAGCUUCGACCGCUACAUCGCCCUGGCCAGGGCCAUGCGCUGCAGC'</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CUGUUCCGCACCAAGCACCACGCCCGGCUGAGCUGUGGCCUCAUCUGGAUGGCAUCCGUGUCAGCCACGCUGGUGCCCUUCAC'</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CGCCGUGCACCUGCAGCACACCGACGAGGCCUGCUUCUGUUUCGCGGAUGUCCGGGAGGUGCAGUGGCUCGAGGUCACGCUGG'</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'GCUUCAUCGUGCCCUUCGCCAUCAUCGGCCUGUGCUACUCCCUCAUUGUCCGGGUGCUGGUCAGGGCGCACCGGCACCGUGGG'</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CUGCGGCCCCGGCGGCAGAAGGCGCUCCGCAUGAUCCUCGCGGUGGUGCUGGUCUUCUUCGUCUGCUGGCUGCCGGAGAACGU'</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CUUCAUCAGCGUGCACCUCCUGCAGCGGACGCAGCCUGGGGCCGCUCCCUGCAAGCAGUCUUUCCGCCAUGCCCACCCCCUCA'</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CGGGCCACAUUGUCAACCUCACCGCCUUCUCCAACAGCUGCCUAAACCCCCUCAUCUACAGCUUUCUCGGGGAGACCUUCAGG'</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'GACAAGCUGAGGCUGUACAUUGAGCAGAAAACAAAUUUGCCGGCCCUGAACCGCUUCUGUCACGCUGCCCUGAAGGCCGUCAU'</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'UCCAGACAGCACCGAGCAGUCGGAUGUGAGGUUCAGCAGUGCCGUG'</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<p>Q1:</p>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>mrna2cdna <span class="op">=</span> {</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'U'</span>: <span class="st">'A'</span>,</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'A'</span>: <span class="st">'T'</span>,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'G'</span>: <span class="st">'C'</span>,</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'C'</span>: <span class="st">'G'</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>		</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>cdna2dna <span class="op">=</span> {</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'A'</span>: <span class="st">'T'</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'T'</span>: <span class="st">'A'</span>,</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'C'</span>: <span class="st">'G'</span>,</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'G'</span>: <span class="st">'C'</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
</div>
<p>Q2:</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>cdna <span class="op">=</span> <span class="bu">str</span>()</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> nucleotide <span class="kw">in</span> human_gpcr:</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    cdna <span class="op">+=</span> mrna2cdna[nucleotide]</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>		</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cdna)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">TACCTACACTGAAGGGTTCGGGCCCCGCACCCGGACCTCTACATGGGTCCGTGGCGCGTCGGACGCCGGGGGTTGTGGTGGAGGGGGCTCGAGTTGGACAGGGTGGGCGAGGACCCGTGGCGGGACCGGTTACCCTGTCCACTCGAGAGCCTCGTGGTCGTCATGCACTAGCCGGACAAGGAGAGCACGGAGATGTGGTAGAAGGAGAAGGGGTAGCCGAAACACCCGTTGTAGGACTAGGACCACCACTTGTAGTCGAAGGCGCTCTTCTACTGGTAGGGGCTGGACATGAAGTAGTTGGACCGCCACCGCCTGGAGTAGGACCACCGGCTGAGGGAGTAACTCCACAAGTTGGACGTGCTCGCCATGATGCTGTAGCGGCAGGACACGTGGAAGTACAGCGAGAAGGACGTCCAGTTGTACATGTCGTCGCAGAAGAAGGAGTGGACCTACTCGAAGCTGGCGATGTAGCGGGACCGGTCCCGGTACGCGACGTCGGACAAGGCGTGGTTCGTGGTGCGGGCCGACTCGACACCGGAGTAGACCTACCGTAGGCACAGTCGGTGCGACCACGGGAAGTGGCGGCACGTGGACGTCGTGTGGCTGCTCCGGACGAAGACAAAGCGCCTACAGGCCCTCCACGTCACCGAGCTCCAGTGCGACCCGAAGTAGCACGGGAAGCGGTAGTAGCCGGACACGATGAGGGAGTAACAGGCCCACGACCAGTCCCGCGTGGCCGTGGCACCCGACGCCGGGGCCGCCGTCTTCCGCGAGGCGTACTAGGAGCGCCACCACGACCAGAAGAAGCAGACGACCGACGGCCTCTTGCAGAAGTAGTCGCACGTGGAGGACGTCGCCTGCGTCGGACCCCGGCGAGGGACGTTCGTCAGAAAGGCGGTACGGGTGGGGGAGTGCCCGGTGTAACAGTTGGAGTGGCGGAAGAGGTTGTCGACGGATTTGGGGGAGTAGATGTCGAAAGAGCCCCTCTGGAAGTCCCTGTTCGACTCCGACATGTAACTCGTCTTTTGTTTAAACGGCCGGGACTTGGCGAAGACAGTGCGACGGGACTTCCGGCAGTAAGGTCTGTCGTGGCTCGTCAGCCTACACTCCAAGTCGTCACGGCAC</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-09-conditionals"><p>Content from <a href="09-conditionals.html">Conditionals</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/09-conditionals.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can programs do different things for different data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Correctly write programs that use if and else statements and simple
Boolean expressions (without logical operators).</li>
<li>Trace the execution of unnested conditionals and conditionals inside
loops.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use <code>if</code> statements to control whether or not a block of
code is executed.</li>
<li>Conditionals are often used inside loops.</li>
<li>Use <code>else</code> to execute a block of code when an
<code>if</code> condition is <em>not</em> true.</li>
<li>Use <code>elif</code> to specify additional tests.</li>
<li>Conditions are tested once, in order.</li>
</ul>
</div>
</div>
</div>
<section id="use-if-statements-to-control-whether-or-not-a-block-of-code-is-executed."><h2 class="section-heading">Use <code>if</code> statements to control whether or not a block of
code is executed.<a class="anchor" aria-label="anchor" href="#use-if-statements-to-control-whether-or-not-a-block-of-code-is-executed."></a>
</h2>
<hr class="half-width">
<ul>
<li>An <code>if</code> statement (more properly called a
<em>conditional</em> statement) controls whether some block of code is
executed or not.</li>
<li>Structure is similar to a <code>for</code> statement:
<ul>
<li>First line opens with <code>if</code> and ends with a colon</li>
<li>Body containing one or more statements is indented (usually by 4
spaces)</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>mass <span class="op">=</span> <span class="fl">3.54</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> mass <span class="op">&gt;</span> <span class="fl">3.0</span>:</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mass, <span class="st">'is large'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>mass <span class="op">=</span> <span class="fl">2.07</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> mass <span class="op">&gt;</span> <span class="fl">3.0</span>:</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span> (mass, <span class="st">'is large'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>3.54 is large</code></pre>
</div>
</section><section id="conditionals-are-often-used-inside-loops."><h2 class="section-heading">Conditionals are often used inside loops.<a class="anchor" aria-label="anchor" href="#conditionals-are-often-used-inside-loops."></a>
</h2>
<hr class="half-width">
<ul>
<li>Not much point using a conditional when we know the value (as
above).</li>
<li>But useful when we have a collection to process.</li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>masses <span class="op">=</span> [<span class="fl">3.54</span>, <span class="fl">2.07</span>, <span class="fl">9.22</span>, <span class="fl">1.86</span>, <span class="fl">1.71</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> masses:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> m <span class="op">&gt;</span> <span class="fl">3.0</span>:</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is large'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>3.54 is large
9.22 is large</code></pre>
</div>
</section><section id="use-else-to-execute-a-block-of-code-when-an-if-condition-is-not-true."><h2 class="section-heading">Use <code>else</code> to execute a block of code when an
<code>if</code> condition is <em>not</em> true.<a class="anchor" aria-label="anchor" href="#use-else-to-execute-a-block-of-code-when-an-if-condition-is-not-true."></a>
</h2>
<hr class="half-width">
<ul>
<li>
<code>else</code> can be used following an <code>if</code>.</li>
<li>Allows us to specify an alternative to execute when the
<code>if</code> <em>branch</em> isn’t taken.</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>masses <span class="op">=</span> [<span class="fl">3.54</span>, <span class="fl">2.07</span>, <span class="fl">9.22</span>, <span class="fl">1.86</span>, <span class="fl">1.71</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> masses:</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> m <span class="op">&gt;</span> <span class="fl">3.0</span>:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is large'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is small'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>3.54 is large
2.07 is small
9.22 is large
1.86 is small
1.71 is small</code></pre>
</div>
</section><section id="use-elif-to-specify-additional-tests."><h2 class="section-heading">Use <code>elif</code> to specify additional tests.<a class="anchor" aria-label="anchor" href="#use-elif-to-specify-additional-tests."></a>
</h2>
<hr class="half-width">
<ul>
<li>May want to provide several alternative choices, each with its own
test.</li>
<li>Use <code>elif</code> (short for “else if”) and a condition to
specify these.</li>
<li>Always associated with an <code>if</code>.</li>
<li>Must come before the <code>else</code> (which is the “catch
all”).</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>masses <span class="op">=</span> [<span class="fl">3.54</span>, <span class="fl">2.07</span>, <span class="fl">9.22</span>, <span class="fl">1.86</span>, <span class="fl">1.71</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> masses:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> m <span class="op">&gt;</span> <span class="fl">9.0</span>:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is HUGE'</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> m <span class="op">&gt;</span> <span class="fl">3.0</span>:</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is large'</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(m, <span class="st">'is small'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>3.54 is large
2.07 is small
9.22 is HUGE
1.86 is small
1.71 is small</code></pre>
</div>
</section><section id="conditions-are-tested-once-in-order."><h2 class="section-heading">Conditions are tested once, in order.<a class="anchor" aria-label="anchor" href="#conditions-are-tested-once-in-order."></a>
</h2>
<hr class="half-width">
<ul>
<li>Python steps through the branches of the conditional in order,
testing each in turn.</li>
<li>So ordering matters.</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>grade <span class="op">=</span> <span class="dv">85</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> grade <span class="op">&gt;=</span> <span class="dv">70</span>:</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'grade is C'</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> grade <span class="op">&gt;=</span> <span class="dv">80</span>:</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'grade is B'</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> grade <span class="op">&gt;=</span> <span class="dv">90</span>:</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'grade is A'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>grade is C</code></pre>
</div>
<ul>
<li>Does <em>not</em> automatically go back and re-evaluate if values
change.</li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>velocity <span class="op">=</span> <span class="fl">10.0</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> velocity <span class="op">&gt;</span> <span class="fl">20.0</span>:</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'moving too fast'</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'adjusting velocity'</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    velocity <span class="op">=</span> <span class="fl">50.0</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>adjusting velocity</code></pre>
</div>
<ul>
<li>Often use conditionals in a loop to “evolve” the values of
variables.</li>
</ul>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>velocity <span class="op">=</span> <span class="fl">10.0</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>): <span class="co"># execute the loop 5 times</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i, <span class="st">':'</span>, velocity)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> velocity <span class="op">&gt;</span> <span class="fl">20.0</span>:</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'moving too fast'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        velocity <span class="op">=</span> velocity <span class="op">-</span> <span class="fl">5.0</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">'moving too slow'</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        velocity <span class="op">=</span> velocity <span class="op">+</span> <span class="fl">10.0</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'final velocity:'</span>, velocity)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0 : 10.0
moving too slow
1 : 20.0
moving too slow
2 : 30.0
moving too fast
3 : 25.0
moving too fast
4 : 20.0
moving too slow
final velocity: 30.0</code></pre>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="compound-relations-using-and-or-and-parentheses" class="callout-inner">
<h3 class="callout-title">Compound Relations Using <code>and</code>,
<code>or</code>, and Parentheses<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Often, you want some combination of things to be true. You can
combine relations within a conditional using <code>and</code> and
<code>or</code>. Continuing the example above, suppose you have</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>mass     <span class="op">=</span> [ <span class="fl">3.54</span>,  <span class="fl">2.07</span>,  <span class="fl">9.22</span>,  <span class="fl">1.86</span>,  <span class="fl">1.71</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>velocity <span class="op">=</span> [<span class="fl">10.00</span>, <span class="fl">20.00</span>, <span class="fl">30.00</span>, <span class="fl">25.00</span>, <span class="fl">20.00</span>]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> mass[i] <span class="op">&gt;</span> <span class="dv">5</span> <span class="kw">and</span> velocity[i] <span class="op">&gt;</span> <span class="dv">20</span>:</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Fast heavy object.  Duck!"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass[i] <span class="op">&gt;</span> <span class="dv">2</span> <span class="kw">and</span> mass[i] <span class="op">&lt;=</span> <span class="dv">5</span> <span class="kw">and</span> velocity[i] <span class="op">&lt;=</span> <span class="dv">20</span>:</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Normal traffic"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass[i] <span class="op">&lt;=</span> <span class="dv">2</span> <span class="kw">and</span> velocity[i] <span class="op">&lt;=</span> <span class="dv">20</span>:</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Slow light object.  Ignore it"</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Whoa!  Something is up with the data.  Check it"</span>)</span></code></pre>
</div>
<p>Just like with arithmetic, you can and should use parentheses
whenever there is possible ambiguity. A good general rule is to
<em>always</em> use parentheses when mixing <code>and</code> and
<code>or</code> in the same condition. That is, instead of:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> mass[i] <span class="op">&lt;=</span> <span class="dv">2</span> <span class="kw">or</span> mass[i] <span class="op">&gt;=</span> <span class="dv">5</span> <span class="kw">and</span> velocity[i] <span class="op">&gt;</span> <span class="dv">20</span>:</span></code></pre>
</div>
<p>write one of these:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (mass[i] <span class="op">&lt;=</span> <span class="dv">2</span> <span class="kw">or</span> mass[i] <span class="op">&gt;=</span> <span class="dv">5</span>) <span class="kw">and</span> velocity[i] <span class="op">&gt;</span> <span class="dv">20</span>:</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> mass[i] <span class="op">&lt;=</span> <span class="dv">2</span> <span class="kw">or</span> (mass[i] <span class="op">&gt;=</span> <span class="dv">5</span> <span class="kw">and</span> velocity[i] <span class="op">&gt;</span> <span class="dv">20</span>):</span></code></pre>
</div>
<p>so it is perfectly clear to a reader (and to Python) what you really
mean.</p>
</div>
</div>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="tracing-execution" class="callout-inner">
<h3 class="callout-title">Tracing Execution<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>What does this program print?</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pressure <span class="op">=</span> <span class="fl">71.9</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> pressure <span class="op">&gt;</span> <span class="fl">50.0</span>:</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    pressure <span class="op">=</span> <span class="fl">25.0</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> pressure <span class="op">&lt;=</span> <span class="fl">50.0</span>:</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    pressure <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pressure)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">25.0</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="trimming-values" class="callout-inner">
<h3 class="callout-title">Trimming Values<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Fill in the blanks so that this program creates a new list containing
zeroes where the original list’s values were negative and ones where the
original list’s values were positive.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="op">-</span><span class="fl">1.5</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.0</span>, <span class="op">-</span><span class="fl">1.3</span>, <span class="fl">0.4</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> ____</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> original:</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ____:</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        result.append(<span class="dv">0</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        ____</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[0, 1, 1, 1, 0, 1]</code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="op">-</span><span class="fl">1.5</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.0</span>, <span class="op">-</span><span class="fl">1.3</span>, <span class="fl">0.4</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> value <span class="kw">in</span> original:</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> value <span class="op">&lt;</span> <span class="fl">0.0</span>:</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        result.append(<span class="dv">0</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        result.append(<span class="dv">1</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="initializing" class="callout-inner">
<h3 class="callout-title">Initializing<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Modify this program so that it finds the largest and smallest values
in the list no matter what the range of values originally is.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [...some test data...]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>smallest, largest <span class="op">=</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> values:</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> ____:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        smallest, largest <span class="op">=</span> v, v</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    ____:</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        smallest <span class="op">=</span> <span class="bu">min</span>(____, v)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        largest <span class="op">=</span> <span class="bu">max</span>(____, v)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(smallest, largest)</span></code></pre>
</div>
<p>What are the advantages and disadvantages of using this method to
find the range of the data?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="op">-</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">65</span>,<span class="dv">78</span>,<span class="op">-</span><span class="dv">54</span>,<span class="op">-</span><span class="dv">24</span>,<span class="dv">100</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>smallest, largest <span class="op">=</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> values:</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> smallest <span class="kw">is</span> <span class="va">None</span> <span class="kw">and</span> largest <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>        smallest, largest <span class="op">=</span> v, v</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        smallest <span class="op">=</span> <span class="bu">min</span>(smallest, v)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>        largest <span class="op">=</span> <span class="bu">max</span>(largest, v)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(smallest, largest)</span></code></pre>
</div>
<p>If you wrote <code>== None</code> instead of <code>is None</code>,
that works too, but Python programmers always write <code>is None</code>
because of the special way <code>None</code> works in the language.</p>
<p>It can be argued that an advantage of using this method would be to
make the code more readable. However, a disadvantage is that this code
is not efficient because within each iteration of the <code>for</code>
loop statement, there are two more loops that run over two numbers each
(the <code>min</code> and <code>max</code> functions). It would be more
efficient to iterate over each number just once:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="op">-</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">65</span>,<span class="dv">78</span>,<span class="op">-</span><span class="dv">54</span>,<span class="op">-</span><span class="dv">24</span>,<span class="dv">100</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>smallest, largest <span class="op">=</span> <span class="va">None</span>, <span class="va">None</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> values:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> smallest <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> v <span class="op">&lt;</span> smallest:</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        smallest <span class="op">=</span> v</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> largest <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> v <span class="op">&gt;</span> largest:</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        largest <span class="op">=</span> v</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(smallest, largest)</span></code></pre>
</div>
<p>Now we have one loop, but four comparison tests. There are two ways
we could improve it further: either use fewer comparisons in each
iteration, or use two loops that each contain only one comparison test.
The simplest solution is often the best:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="op">-</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">65</span>,<span class="dv">78</span>,<span class="op">-</span><span class="dv">54</span>,<span class="op">-</span><span class="dv">24</span>,<span class="dv">100</span>]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>smallest <span class="op">=</span> <span class="bu">min</span>(values)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>largest <span class="op">=</span> <span class="bu">max</span>(values)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(smallest, largest)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-10-dataframes"><p>Content from <a href="10-dataframes.html">Pandas DataFrames</a></p>
<hr>
<p> Last updated on 2023-04-24 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/10-dataframes.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I perform statistical analysis of tabular data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Select individual values from a Pandas dataframe.</li>
<li>Select entire rows or entire columns from a dataframe.</li>
<li>Select a subset of both rows and columns from a dataframe in a
single operation.</li>
<li>Select a subset of a dataframe by a single Boolean criterion.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Use <code>DataFrame.iloc[..., ...]</code> to select values by
integer location.</li>
<li>Use <code>:</code> on its own to mean all columns or all rows.</li>
<li>Select multiple columns or rows using <code>DataFrame.loc</code> and
a named slice.</li>
<li>Result of slicing can be used in further operations.</li>
<li>Use comparisons to select data based on value.</li>
<li>Select values or NaN using a Boolean mask.</li>
</ul>
</div>
</div>
</div>
<section id="note-about-pandas-dataframesseries"><h2 class="section-heading">Note about Pandas DataFrames/Series<a class="anchor" aria-label="anchor" href="#note-about-pandas-dataframesseries"></a>
</h2>
<hr class="half-width">
<p>A <a href="https://pandas.pyrnaseq_df.org/pandas-docs/stable/generated/pandas.DataFrame.html" class="external-link">DataFrame</a>
is a collection of <a href="https://pandas.pyrnaseq_df.org/pandas-docs/stable/generated/pandas.Series.html" class="external-link">Series</a>;
The DataFrame is the way Pandas represents a table, and Series is the
data-structure Pandas use to represent a column.</p>
<p>Pandas is built on top of the <a href="http://www.numpy.org/" class="external-link">Numpy</a> library, which in practice means
that most of the methods defined for Numpy Arrays apply to Pandas
Series/DataFrames.</p>
<p>What makes Pandas so attractive is the powerful interface to access
individual records of the table, proper handling of missing values, and
relational-databases operations between DataFrames.</p>
<p>The <a href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf" class="external-link">Pandas
cheatsheet</a> is a great quick reference for popular dataframe
operations.</p>
</section><section id="data-description"><h2 class="section-heading">Data description<a class="anchor" aria-label="anchor" href="#data-description"></a>
</h2>
<hr class="half-width">
<p>We will be using the same data as the previous lesson from <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5544260/" class="external-link">Blackmore
<em>et al.</em> (2017)</a>, <em>The effect of upper-respiratory
infection on transcriptomic changes in the CNS</em>.</p>
<p>However, this data file consists only of the expression data in a
gene x sample matrix.</p>
</section><section id="selecting-values"><h2 class="section-heading">Selecting values<a class="anchor" aria-label="anchor" href="#selecting-values"></a>
</h2>
<hr class="half-width">
<p>To access a value at the position <code>[i,j]</code> of a DataFrame,
we have two options, depending on what is the meaning of <code>i</code>
in use. Remember that a DataFrame provides an <em>index</em> as a way to
identify the rows of the table; a row, then, has a <em>position</em>
inside the table as well as a <em>label</em>, which uniquely identifies
its <em>entry</em> in the DataFrame.</p>
</section><section id="use-dataframe.iloc...-...-to-select-values-by-their-entry-position"><h2 class="section-heading">Use <code>DataFrame.iloc[..., ...]</code> to select values by their
(entry) position<a class="anchor" aria-label="anchor" href="#use-dataframe.iloc...-...-to-select-values-by-their-entry-position"></a>
</h2>
<hr class="half-width">
<ul>
<li>Can specify location by numerical index analogously to 2D version of
character selection in strings.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/expression_matrix.csv"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.iloc[<span class="dv">0</span>, <span class="dv">0</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1230</span></span></code></pre>
</div>
<p>Note how here we used the index of the gene column as opposed to its
name. It is often safer to use names instead of indices so that your
code is robust to changes in the data layout, but sometimes indices are
necessary.</p>
</section><section id="use-dataframe.loc...-...-to-select-values-by-their-entry-label."><h2 class="section-heading">Use <code>DataFrame.loc[..., ...]</code> to select values by their
(entry) label.<a class="anchor" aria-label="anchor" href="#use-dataframe.loc...-...-to-select-values-by-their-entry-label."></a>
</h2>
<hr class="half-width">
<ul>
<li>Can specify location by row and/or column name.</li>
</ul>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[<span class="st">"Cyp2d22"</span>, <span class="st">"GSM2545351"</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">3678</span></span></code></pre>
</div>
</section><section id="use-on-its-own-to-mean-all-columns-or-all-rows."><h2 class="section-heading">Use <code>:</code> on its own to mean all columns or all rows.<a class="anchor" aria-label="anchor" href="#use-on-its-own-to-mean-all-columns-or-all-rows."></a>
</h2>
<hr class="half-width">
<ul>
<li>Just like Python’s usual slicing notation.</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[<span class="st">"Cyp2d22"</span>, :])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>GSM2545336    4060
GSM2545337    1616
GSM2545338    1603
GSM2545339    1901
GSM2545340    2171
GSM2545341    3349
GSM2545342    3122
GSM2545343    2008
GSM2545344    2254
GSM2545345    2277
GSM2545346    2985
GSM2545347    3452
GSM2545348    1883
GSM2545349    2014
GSM2545350    2417
GSM2545351    3678
GSM2545352    2920
GSM2545353    2216
GSM2545354    1821
GSM2545362    2842
GSM2545363    2011
GSM2545380    4019
Name: Cyp2d22, dtype: int64</code></pre>
</div>
<ul>
<li>We would get the same result printing
<code>rnaseq_df.loc["Albania"]</code> (without a second index).</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[:, <span class="st">"GSM2545351"</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gene
AI504432    1136
AW046200      67
AW551984     584
Aamp        4813
Abca12         4
            ... 
Zkscan3     1661
Zranb1      8223
Zranb3       208
Zscan22      433
Zw10        1436
Name: GSM2545351, Length: 1474, dtype: int64</code></pre>
</div>
<ul>
<li>We would get the same result printing
<code>rnaseq_df["GSM2545351"]</code>
</li>
<li>We would also get the same result printing
<code>rnaseq_df.GSM2545351</code> (not recommended, because easily
confused with <code>.</code> notation for methods)</li>
</ul></section><section id="select-multiple-columns-or-rows-using-dataframe.loc-and-a-named-slice."><h2 class="section-heading">Select multiple columns or rows using <code>DataFrame.loc</code> and
a named slice.<a class="anchor" aria-label="anchor" href="#select-multiple-columns-or-rows-using-dataframe.loc-and-a-named-slice."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[<span class="st">'Nadk'</span>:<span class="st">'Nid1'</span>, <span class="st">'GSM2545337'</span>:<span class="st">'GSM2545341'</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         GSM2545337  GSM2545338  GSM2545339  GSM2545340  GSM2545341
gene                                                               
Nadk           2285        2237        2286        2398        2201
Nap1l5        18287       17176       21950       18655       19160
Nbeal1         2230        2030        2053        1970        1910
Nbl1           2033        1859        1772        2439        3720
Ncf2             76          60          83          73          61
Nck2            683         706         690         644         648
Ncmap            37          40          46          51         138
Ncoa2          5053        4374        4406        4814        5311
Ndufa10        4218        3921        4268        3980        3631
Ndufs1         7042        6672        7413        7090        6943
Neto1           214         183         383         217         164
Nfkbia          740         897         724         873        1000
Nfya           1003         962         944         919         587
Ngb              56          46         135          63          50
Ngef            498         407         587         410         193
Ngp              50          18         131          47          27
Nid1           1521        1395         862         795         673
</code></pre>
</div>
<p>In the above code, we discover that <strong>slicing using
<code>loc</code> is inclusive at both ends</strong>, which differs from
<strong>slicing using <code>iloc</code></strong>, where slicing
indicates everything up to but not including the final index.</p>
</section><section id="result-of-slicing-can-be-used-in-further-operations."><h2 class="section-heading">Result of slicing can be used in further operations.<a class="anchor" aria-label="anchor" href="#result-of-slicing-can-be-used-in-further-operations."></a>
</h2>
<hr class="half-width">
<ul>
<li>Usually don’t just print a slice.</li>
<li>All the statistical operators that work on entire dataframes work
the same way on slices.</li>
<li>E.g., calculate max of a slice.</li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[<span class="st">'Nadk'</span>:<span class="st">'Nid1'</span>, <span class="st">'GSM2545337'</span>:<span class="st">'GSM2545341'</span>].<span class="bu">max</span>())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>GSM2545337    18287
GSM2545338    17176
GSM2545339    21950
GSM2545340    18655
GSM2545341    19160
dtype: int64</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.loc[<span class="st">'Nadk'</span>:<span class="st">'Nid1'</span>, <span class="st">'GSM2545337'</span>:<span class="st">'GSM2545341'</span>].<span class="bu">min</span>())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>GSM2545337    37
GSM2545338    18
GSM2545339    46
GSM2545340    47
GSM2545341    27
dtype: int64</code></pre>
</div>
</section><section id="use-comparisons-to-select-data-based-on-value."><h2 class="section-heading">Use comparisons to select data based on value.<a class="anchor" aria-label="anchor" href="#use-comparisons-to-select-data-based-on-value."></a>
</h2>
<hr class="half-width">
<ul>
<li>Comparison is applied element by element.</li>
<li>Returns a similarly-shaped dataframe of <code>True</code> and
<code>False</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use a subset of data to keep output readable.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> rnaseq_df.iloc[:<span class="dv">5</span>, :<span class="dv">5</span>]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Subset of data:</span><span class="ch">\n</span><span class="st">'</span>, subset)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Which values were greater than 1000 ?</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">Where are values large?</span><span class="ch">\n</span><span class="st">'</span>, subset <span class="op">&gt;</span> <span class="dv">1000</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Subset of data:
           GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340
gene                                                                
AI504432        1230        1085         969        1284         966
AW046200          83         144         129         121         141
AW551984         670         265         202         682         246
Aamp            5621        4049        3797        4375        4095
Abca12             5           8           1           5           3

Where are values large?
           GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340
gene                                                                
AI504432        True        True       False        True       False
AW046200       False       False       False       False       False
AW551984       False       False       False       False       False
Aamp            True        True        True        True        True
Abca12         False       False       False       False       False</code></pre>
</div>
</section><section id="select-values-or-nan-using-a-boolean-mask."><h2 class="section-heading">Select values or NaN using a Boolean mask.<a class="anchor" aria-label="anchor" href="#select-values-or-nan-using-a-boolean-mask."></a>
</h2>
<hr class="half-width">
<ul>
<li>A frame full of Booleans is sometimes called a <em>mask</em> because
of how it can be used.</li>
</ul>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mask <span class="op">=</span> subset <span class="op">&gt;</span> <span class="dv">1000</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(subset[mask])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340
gene                                                                
AI504432      1230.0      1085.0         NaN      1284.0         NaN
AW046200         NaN         NaN         NaN         NaN         NaN
AW551984         NaN         NaN         NaN         NaN         NaN
Aamp          5621.0      4049.0      3797.0      4375.0      4095.0
Abca12           NaN         NaN         NaN         NaN         NaN</code></pre>
</div>
<ul>
<li>Get the value where the mask is true, and NaN (Not a Number) where
it is false.</li>
<li>
<strong>NaNs are ignored by operations like max, min, average,
etc.</strong> This is different than in other programming languages such
as R but makes using masks in this way very useful.</li>
<li>The behavior towards NaN values can be changed with the
<code>skipna</code> argument for most pandas methods and functions.</li>
</ul>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(subset[subset <span class="op">&gt;</span> <span class="dv">1000</span>].describe())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>        GSM2545336   GSM2545337  GSM2545338   GSM2545339  GSM2545340
count     2.000000     2.000000         1.0     2.000000         1.0
mean   3425.500000  2567.000000      3797.0  2829.500000      4095.0
std    3104.905876  2095.864499         NaN  2185.667061         NaN
min    1230.000000  1085.000000      3797.0  1284.000000      4095.0
25%    2327.750000  1826.000000      3797.0  2056.750000      4095.0
50%    3425.500000  2567.000000      3797.0  2829.500000      4095.0
75%    4523.250000  3308.000000      3797.0  3602.250000      4095.0
max    5621.000000  4049.000000      3797.0  4375.000000      4095.0</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Why are there still <code>NaN</code>s in this output, when in Pandas
methods like <code>min</code> and <code>max</code> igonre
<code>Nan</code> by default?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>We still see <code>NaN</code> because GSM2545337 and GSM2545340 only
have a single value over 1000 in this subset. The standard deviation
(<code>std</code>) is undefined for a single value.</p>
</div>
</div>
</div>
</div>
</section><section id="using-multiple-dataframes"><h2 class="section-heading">Using multiple dataframes<a class="anchor" aria-label="anchor" href="#using-multiple-dataframes"></a>
</h2>
<hr class="half-width">
<p>Pandas vectorizing methods and grouping operations are features that
provide users much flexibility to analyse their data.</p>
<p>For instance, let’s say we want to take a look at genes which are
highly expressed over time.</p>
<p>To start, let’s take a look at the top genes by mean expression.
First we calculate mean expression per gene:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mean_exp <span class="op">=</span> rnaseq_df.mean()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mean_exp.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>GSM2545336    2062.191995
GSM2545337    1765.508820
GSM2545338    1667.990502
GSM2545339    1696.120760
GSM2545340    1681.834464
dtype: float64</code></pre>
</div>
<p>Notice that that this is printing differently than when we printed
<code>Dataframe</code>s. Methods which return single values such as
<code>mean</code> by default return a <code>Series</code> instead of a
<code>Dataframe</code>.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(mean_exp))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;class 'pandas.core.series.Series'&gt;</code></pre>
</div>
<p>We can think of a series as a single-column dataframe. Series, since
they only contain a single column, are indexed like lists:
<code>series[start:end]</code>.</p>
<p>Now, we can use the <code>sort_values</code> method and look at the
top 10 genes. Note that <code>sort_values</code> when used on a
<code>Dataframe</code> with multiple columns needs a <code>by</code>
argument to specify what column it should be sorted by.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>mean_exp <span class="op">=</span> mean_exp.sort_values()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>mean_exp[:<span class="dv">10</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>GSM2545342    1594.116689
GSM2545341    1637.532564
GSM2545338    1667.990502
GSM2545340    1681.834464
GSM2545346    1692.774084
GSM2545339    1696.120760
GSM2545345    1700.161465
GSM2545344    1712.440299
GSM2545337    1765.508820
GSM2545347    1805.396201
dtype: float64</code></pre>
</div>
<p>Now let’s say we want to do something a bit more complicated. As
opposed to getting the top 10 genes across all samples, we want to
instead get genes which had the highest absolute expression change from
0 to 4 days.</p>
<p>To do that, we need to load in the sample metadata as a separate
dataframe:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/metadata.csv"</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>metadata <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(metadata)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                organism  age     sex    infection   strain  time      tissue  \
sample                                                                          
GSM2545336  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545337  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545338  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545339  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545340  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545341  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545342  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545343  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545344  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545345  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545346  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545347  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545348  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545349  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545350  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545351  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545352  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545353  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545354  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545362  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545363  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545380  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   

            mouse  
sample             
GSM2545336     14  
GSM2545337      9  
GSM2545338     10  
GSM2545339     15  
GSM2545340     18  
GSM2545341      6  
GSM2545342      5  
GSM2545343     11  
GSM2545344     22  
GSM2545345     13  
GSM2545346     23  
GSM2545347     24  
GSM2545348      8  
GSM2545349      7  
GSM2545350      1  
GSM2545351     16  
GSM2545352     21  
GSM2545353      4  
GSM2545354      2  
GSM2545362     20  
GSM2545363     12  
GSM2545380     19  
</code></pre>
</div>
<p>Time is a property of the samples, not of the genes. While we could
add another row to our dataframe indicating time, it makes more sense to
flip our dataframe and add it as a column. We will learn about other
ways to combine dataframes in a future lesson, but for now since
<code>metadata</code> and <code>rnadeq_df</code> have the same index
values we can use the following syntax:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>flipped_df <span class="op">=</span> rnaseq_df.T</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>flipped_df[<span class="st">'time'</span>] <span class="op">=</span> metadata[<span class="st">'time'</span>]</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(flipped_df.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gene        AI504432  AW046200  AW551984  Aamp  Abca12  Abcc8  Abhd14a  Abi2  \
GSM2545336      1230        83       670  5621       5   2210      490  5627   
GSM2545337      1085       144       265  4049       8   1966      495  4383   
GSM2545338       969       129       202  3797       1   2181      474  4107   
GSM2545339      1284       121       682  4375       5   2362      468  4062   
GSM2545340       966       141       246  4095       3   2475      489  4289   

gene        Abi3bp  Abl2  ...  Zfp92  Zfp941  Zfyve28  Zgrf1  Zkscan3  Zranb1  \
GSM2545336     807  2392  ...     91     910     3747    644     1732    8837   
GSM2545337    1144  2133  ...     46     654     2568    335     1840    5306   
GSM2545338    1028  1891  ...     19     560     2635    347     1800    5106   
GSM2545339     935  1645  ...     50     782     2623    405     1751    5306   
GSM2545340     879  1926  ...     48     696     3140    549     2056    5896   

gene        Zranb3  Zscan22  Zw10  time  
GSM2545336     207      483  1479     8  
GSM2545337     179      535  1394     0  
GSM2545338     199      533  1279     0  
GSM2545339     208      462  1376     4  
GSM2545340     184      439  1568     4 </code></pre>
</div>
</section><section id="group-by-split-apply-combine"><h2 class="section-heading">Group By: split-apply-combine<a class="anchor" aria-label="anchor" href="#group-by-split-apply-combine"></a>
</h2>
<hr class="half-width">
<p>We can now <strong>group</strong> our data by timepoint using
<code>groupby</code>. <code>groupby</code> will combine our data by one
or more columns, and then any summarizing functions we call such as
<code>mean</code> or <code>max</code> will be performed on each
group.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>grouped_time <span class="op">=</span> flipped_df.groupby(<span class="st">'time'</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(grouped_time.mean())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gene     AI504432    AW046200    AW551984         Aamp    Abca12        Abcc8  \
time                                                                            
0     1033.857143  155.285714  238.000000  4602.571429  5.285714  2576.428571   
4     1104.500000  152.375000  302.250000  4870.000000  4.250000  2608.625000   
8     1014.000000   81.000000  342.285714  4762.571429  4.142857  2291.571429   

gene     Abhd14a         Abi2       Abi3bp         Abl2  ...      Zfp810  \
time                                                     ...               
0     591.428571  4880.571429  1174.571429  2170.142857  ...  537.000000   
4     546.750000  4902.875000  1060.625000  2077.875000  ...  629.125000   
8     432.428571  4945.285714   762.285714  2131.285714  ...  940.428571   

gene      Zfp92      Zfp941      Zfyve28       Zgrf1      Zkscan3   Zranb1  \
time                                                                         
0     36.857143  673.857143  3162.428571  398.571429  2105.571429  6014.00   
4     43.000000  770.875000  3284.250000  450.125000  1981.500000  6464.25   
8     49.000000  765.571429  3649.571429  635.571429  1664.428571  8187.00   

gene      Zranb3     Zscan22         Zw10  
time                                       
0     191.142857  607.428571  1546.285714  
4     196.750000  534.500000  1555.125000  
8     191.428571  416.428571  1476.428571  

[3 rows x 1474 columns]</code></pre>
</div>
<p>Another way to easily make a Dataframe after using
<code>groupby</code> is to use Pandas’ aggregation function called
<code>agg</code>. Let’s also flip the data back.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>time_means <span class="op">=</span> grouped_time.agg(<span class="st">'mean'</span>).T</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time                0         4            8
gene                                        
AI504432  1033.857143  1104.500  1014.000000
AW046200   155.285714   152.375    81.000000
AW551984   238.000000   302.250   342.285714
Aamp      4602.571429  4870.000  4762.571429
Abca12       5.285714     4.250     4.142857</code></pre>
</div>
<p>Let’s also make the column names someting more legible using
<code>rename</code>.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>time_means <span class="op">=</span> time_means.rename(columns<span class="op">=</span>{<span class="dv">0</span>: <span class="st">"day_0"</span>, <span class="dv">4</span>: <span class="st">"day_4"</span>, <span class="dv">8</span>: <span class="st">"day_8"</span>})</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time            day_0     day_4        day_8
gene                                        
AI504432  1033.857143  1104.500  1014.000000
AW046200   155.285714   152.375    81.000000
AW551984   238.000000   302.250   342.285714
Aamp      4602.571429  4870.000  4762.571429
Abca12       5.285714     4.250     4.142857</code></pre>
</div>
<p>Now we can calculate the difference between 0 and 4 days:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>time_means[<span class="st">'diff_4_0'</span>] <span class="op">=</span> time_means[<span class="st">'day_4'</span>] <span class="op">-</span> time_means[<span class="st">'day_0'</span>]</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time            day_0     day_4        day_8    diff_4_0
gene                                                    
AI504432  1033.857143  1104.500  1014.000000   70.642857
AW046200   155.285714   152.375    81.000000   -2.910714
AW551984   238.000000   302.250   342.285714   64.250000
Aamp      4602.571429  4870.000  4762.571429  267.428571
Abca12       5.285714     4.250     4.142857   -1.035714</code></pre>
</div>
<p>And get the top genes. This time we’ll use the <code>nlargest</code>
method instead of sorting:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.nlargest(<span class="dv">10</span>, <span class="st">'diff_4_0'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time           day_0      day_4         day_8     diff_4_0
gene                                                      
Glul    48123.285714  55357.500  73947.857143  7234.214286
Sparc   35429.571429  38832.000  56105.714286  3402.428571
Atp1b1  57350.714286  60364.250  59229.000000  3013.535714
Apod    11575.428571  14506.500  31458.142857  2931.071429
Ttyh1   21453.571429  24252.500  30457.428571  2798.928571
Mt1      7601.428571  10112.375  14397.285714  2510.946429
Etnppl   4516.714286   6702.875   8208.142857  2186.160714
Kif5a   36079.571429  37911.750  33410.714286  1832.178571
Pink1   15454.571429  17252.375  23305.285714  1797.803571
Itih3    2467.714286   3976.500   5534.571429  1508.785714</code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creating-new-columns" class="callout-inner">
<h3 class="callout-title">Creating new columns<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>We looked at the absolute expression change when finding top genes,
but typically we actually want to look at the log (base 2) fold
chage.</p>
<p>The log fold change from <code>x</code> to <code>y</code> can be
calculated as either:</p>
<p><span class="math inline">\(log(y) - log(x)\)</span></p>
<p>or as</p>
<p><span class="math inline">\(log(\frac{y}{x})\)</span></p>
<p>Try calculating the log fold change from 0 to 4 and 0 to 8 days, and
store the result as two new columns in <code>time_means</code></p>
<p>We will need the <code>log2</code> function from the
<code>numpy</code> package to do this:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>np.log2(time_means[<span class="st">'day_0'</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>time_means[<span class="st">'logfc_0_4'</span>] <span class="op">=</span> np.log2(time_means[<span class="st">'day_4'</span>]) <span class="op">-</span> np.log2(time_means[<span class="st">'day_0'</span>])</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>time_means[<span class="st">'logfc_0_8'</span>] <span class="op">=</span> np.log2(time_means[<span class="st">'day_8'</span>]) <span class="op">-</span> np.log2(time_means[<span class="st">'day_0'</span>])</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.head())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time            day_0     day_4        day_8    diff_4_0  logfc_0_4  logfc_0_8
gene                                                                          
AI504432  1033.857143  1104.500  1014.000000   70.642857   0.095357  -0.027979
AW046200   155.285714   152.375    81.000000   -2.910714  -0.027299  -0.938931
AW551984   238.000000   302.250   342.285714   64.250000   0.344781   0.524240
Aamp      4602.571429  4870.000  4762.571429  267.428571   0.081482   0.049301
Abca12       5.285714     4.250     4.142857   -1.035714  -0.314636  -0.351472</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>We can also use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign" class="external-link">assign</a>
dataframe method to create new columns.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>time_means <span class="op">=</span> time_means.assign(fc_0_8 <span class="op">=</span> <span class="dv">2</span><span class="op">**</span>time_means[<span class="st">"logfc_0_8"</span>])</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_means.iloc[:,<span class="dv">5</span>:])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time      logfc_0_8    fc_0_8
gene                         
AI504432  -0.027979  0.980793
AW046200  -0.938931  0.521619
AW551984   0.524240  1.438175
Aamp       0.049301  1.034763
Abca12    -0.351472  0.783784
...             ...       ...
Zkscan3   -0.339185  0.790488
Zranb1     0.445010  1.361324
Zranb3     0.002155  1.001495
Zscan22   -0.544646  0.685560
Zw10      -0.066695  0.954823

[1474 rows x 2 columns]</code></pre>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="extent-of-slicing" class="callout-inner">
<h3 class="callout-title">Extent of Slicing<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Do the two statements below produce the same output?</li>
<li>Based on this, what rule governs what is included (or not) in
numerical slices and named slices in Pandas?</li>
</ol>
<p>Here’s metadata as a reminder:</p>
<pre><code>                organism  age     sex    infection   strain  time      tissue  \
sample                                                                          
GSM2545336  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545337  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545338  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545339  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545340  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   

            mouse  
sample             
GSM2545336     14  
GSM2545337      9  
GSM2545338     10  
GSM2545339     15  
GSM2545340     18  </code></pre>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(metadata.iloc[<span class="dv">0</span>:<span class="dv">2</span>, <span class="dv">0</span>:<span class="dv">2</span>])</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(metadata.loc[<span class="st">'GSM2545336'</span>:<span class="st">'GSM2545338'</span>, <span class="st">'organism'</span>:<span class="st">'sex'</span>])</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>No, they do not produce the same output! The output of the first
statement is:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                organism  age
sample                       
GSM2545336  Mus musculus    8
GSM2545337  Mus musculus    8</code></pre>
</div>
<p>The second statement gives:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                organism  age     sex
sample                               
GSM2545336  Mus musculus    8  Female
GSM2545337  Mus musculus    8  Female
GSM2545338  Mus musculus    8  Female</code></pre>
</div>
<p>Clearly, the second statement produces an additional column and an
additional row compared to the first statement.<br>
What conclusion can we draw? We see that a numerical slice, 0:2,
<em>omits</em> the final index (i.e. index 2) in the range provided,
while a named slice, ‘GSM2545336’:‘GSM2545338’, <em>includes</em> the
final element.</p>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="reconstructing-data" class="callout-inner">
<h3 class="callout-title">Reconstructing Data<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>Explain what each line in the following short program does: what is
in <code>first</code>, <code>second</code>, etc.?</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> metadata.copy(deep<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> first[first[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">'Female'</span>]</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>third <span class="op">=</span> second.drop(<span class="st">'GSM2545338'</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>fourth <span class="op">=</span> third.drop(<span class="st">'sex'</span>, axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>fourth.to_csv(<span class="st">'result.csv'</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>Let’s go through this piece of code line by line.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> metadata.copy(deep<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<p>This line makes a copy of the metadata dataframe. While we probably
don’t need to make sure <code>deep=True</code> here, as non of our
columns are more complex or compound objects, it never hurts to be
safe.</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>second <span class="op">=</span> first[first[<span class="st">'sex'</span>] <span class="op">==</span> <span class="st">'Female'</span>]</span></code></pre>
</div>
<p>This line makes a selection: only those rows of <code>first</code>
for which the ‘sex’ column matches ‘Female’ are extracted. Notice how
the Boolean expression inside the brackets,
<code>first['sex'] == 'Female'</code>, is used to select only those rows
where the expression is true. Try printing this expression! Can you
print also its individual True/False elements? (hint: first assign the
expression to a variable)</p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>third <span class="op">=</span> second.drop(<span class="st">'GSM2545338'</span>)</span></code></pre>
</div>
<p>As the syntax suggests, this line drops the row from
<code>second</code> where the label is ‘GSM2545338’. The resulting
dataframe <code>third</code> has one row less than the original
dataframe <code>second</code>.</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>fourth <span class="op">=</span> third.drop(<span class="st">'sex'</span>, axis <span class="op">=</span> <span class="dv">1</span>)</span></code></pre>
</div>
<p>Again we apply the drop function, but in this case we are dropping
not a row but a whole column. To accomplish this, we need to specify
also the <code>axis</code> parameter (axis is by default set to 0 for
rows, and we change it to 1 for columns).</p>
<div class="codewrapper sourceCode" id="cb55">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>fourth.to_csv(<span class="st">'result.csv'</span>)</span></code></pre>
</div>
<p>The final step is to write the data that we have been working on to a
csv file. Pandas makes this easy with the <code>to_csv()</code>
function. The only required argument to the function is the filename.
Note that the file will be written in the directory from which you
started the Jupyter or Python session.</p>
</div>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="selecting-indices" class="callout-inner">
<h3 class="callout-title">Selecting Indices<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>Explain in simple terms what <code>idxmin</code> and
<code>idxmax</code> do in the short program below. When would you use
these methods?</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"idxmin:"</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.idxmin())</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"idxmax:"</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df.idxmax())</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>idxmin:
GSM2545336       Cfhr2
GSM2545337       Cfhr2
GSM2545338        Aox2
GSM2545339       Ascl5
GSM2545340       Ascl5
GSM2545341    BC055402
GSM2545342       Cryga
GSM2545343       Ascl5
GSM2545344        Aox2
GSM2545345    BC055402
GSM2545346        Cpa6
GSM2545347       Cfhr2
GSM2545348       Acmsd
GSM2545349     Fam124b
GSM2545350       Cryga
GSM2545351       Glrp1
GSM2545352       Cfhr2
GSM2545353       Ascl5
GSM2545354       Ascl5
GSM2545362       Cryga
GSM2545363    Adamts19
GSM2545380       Ascl5
dtype: object
idxmax:
GSM2545336    Glul
GSM2545337    Plp1
GSM2545338    Plp1
GSM2545339    Plp1
GSM2545340    Plp1
GSM2545341    Glul
GSM2545342    Glul
GSM2545343    Plp1
GSM2545344    Plp1
GSM2545345    Plp1
GSM2545346    Glul
GSM2545347    Glul
GSM2545348    Plp1
GSM2545349    Plp1
GSM2545350    Plp1
GSM2545351    Glul
GSM2545352    Plp1
GSM2545353    Plp1
GSM2545354    Plp1
GSM2545362    Plp1
GSM2545363    Plp1
GSM2545380    Glul
dtype: object</code></pre>
</div>
<p>For each column in <code>data</code>, <code>idxmin</code> will return
the index value corresponding to each column’s minimum;
<code>idxmax</code> will do accordingly the same for each column’s
maximum value.</p>
<p>You can use these functions whenever you want to get the row index of
the minimum/maximum value and not the actual minimum/maximum value.</p>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="many-ways-of-access" class="callout-inner">
<h3 class="callout-title">Many Ways of Access<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>There are at least two ways of accessing a value or slice of a
DataFrame: by name or index. However, there are many others. For
example, a single column or row can be accessed either as a
<code>DataFrame</code> or a <code>Series</code> object.</p>
<p>Suggest different ways of doing the following operations on a
DataFrame:</p>
<ol style="list-style-type: decimal">
<li>Access a single column</li>
<li>Access a single row</li>
<li>Access an individual DataFrame element</li>
<li>Access several columns</li>
<li>Access several rows</li>
<li>Access a subset of specific rows and columns</li>
<li>Access a subset of row and column ranges</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<p>1. Access a single column:</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by name</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df[<span class="st">"col_name"</span>]   <span class="co"># as a Series</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>rnaseq_df[[<span class="st">"col_name"</span>]] <span class="co"># as a DataFrame</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># by name using .loc</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T.loc[<span class="st">"col_name"</span>]  <span class="co"># as a Series</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T.loc[[<span class="st">"col_name"</span>]].T  <span class="co"># as a DataFrame</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Dot notation (Series)</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>rnaseq_df.col_name</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a><span class="co"># by index (iloc)</span></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, col_index]   <span class="co"># as a Series</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, [col_index]] <span class="co"># as a DataFrame</span></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a><span class="co"># using a mask</span></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T[rnaseq_df.T.index <span class="op">==</span> <span class="st">"col_name"</span>].T</span></code></pre>
</div>
<p>2. Access a single row:</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by name using .loc</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[<span class="st">"row_name"</span>] <span class="co"># as a Series</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row_name"</span>]] <span class="co"># as a DataFrame</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># by name</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T[<span class="st">"row_name"</span>] <span class="co"># as a Series</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>rnaseq_df.T[[<span class="st">"row_name"</span>]].T <span class="co"># as a DataFrame</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># by index</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[row_index]   <span class="co"># as a Series</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[[row_index]]   <span class="co"># as a DataFrame</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co"># using mask</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>rnaseq_df[rnaseq_df.index <span class="op">==</span> <span class="st">"row_name"</span>]</span></code></pre>
</div>
<p>3. Access an individual DataFrame element:</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by column/row names</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df[<span class="st">"column_name"</span>][<span class="st">"row_name"</span>]         <span class="co"># as a Series</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df[[<span class="st">"col_name"</span>]].loc[<span class="st">"row_name"</span>]  <span class="co"># as a Series</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>rnaseq_df[[<span class="st">"col_name"</span>]].loc[[<span class="st">"row_name"</span>]]  <span class="co"># as a DataFrame</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[<span class="st">"row_name"</span>][<span class="st">"col_name"</span>]  <span class="co"># as a value</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row_name"</span>]][<span class="st">"col_name"</span>]  <span class="co"># as a Series</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row_name"</span>]][[<span class="st">"col_name"</span>]]  <span class="co"># as a DataFrame</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[<span class="st">"row_name"</span>, <span class="st">"col_name"</span>]  <span class="co"># as a value</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row_name"</span>], <span class="st">"col_name"</span>]  <span class="co"># as a Series. Preserves index. Column name is moved to `.name`.</span></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[<span class="st">"row_name"</span>, [<span class="st">"col_name"</span>]]  <span class="co"># as a Series. Index is moved to `.name.` Sets index to column name.</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row_name"</span>], [<span class="st">"col_name"</span>]]  <span class="co"># as a DataFrame (preserves original index and column name)</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a><span class="co"># by column/row names: Dot notation</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>rnaseq_df.col_name.row_name</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a><span class="co"># by column/row indices</span></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[row_index, col_index] <span class="co"># as a value</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[[row_index], col_index] <span class="co"># as a Series. Preserves index. Column name is moved to `.name`</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[row_index, [col_index]] <span class="co"># as a Series. Index is moved to `.name.` Sets index to column name.</span></span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[[row_index], [col_index]] <span class="co"># as a DataFrame (preserves original index and column name)</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a><span class="co"># column name + row index</span></span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>rnaseq_df[<span class="st">"col_name"</span>][row_index]</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>rnaseq_df.col_name[row_index]</span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>rnaseq_df[<span class="st">"col_name"</span>].iloc[row_index]</span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a><span class="co"># column index + row name</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, [col_index]].loc[<span class="st">"row_name"</span>]  <span class="co"># as a Series</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, [col_index]].loc[[<span class="st">"row_name"</span>]]  <span class="co"># as a DataFrame</span></span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a><span class="co"># using masks</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>rnaseq_df[rnaseq_df.index <span class="op">==</span> <span class="st">"row_name"</span>].T[rnaseq_df.T.index <span class="op">==</span> <span class="st">"col_name"</span>].T</span></code></pre>
</div>
<p>4. Access several columns:</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by name</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df[[<span class="st">"col1"</span>, <span class="st">"col2"</span>, <span class="st">"col3"</span>]]</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[:, [<span class="st">"col1"</span>, <span class="st">"col2"</span>, <span class="st">"col3"</span>]]</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co"># by index</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, [col1_index, col2_index, col3_index]]</span></code></pre>
</div>
<p>5. Access several rows</p>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by name</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row1"</span>, <span class="st">"row2"</span>, <span class="st">"row3"</span>]]</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co"># by index</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[[row1_index, row2_index, row3_index]]</span></code></pre>
</div>
<p>6. Access a subset of specific rows and columns</p>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by names</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[[<span class="st">"row1"</span>, <span class="st">"row2"</span>, <span class="st">"row3"</span>], [<span class="st">"col1"</span>, <span class="st">"col2"</span>, <span class="st">"col3"</span>]]</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co"># by indices</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[[row1_index, row2_index, row3_index], [col1_index, col2_index, col3_index]]</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="co"># column names + row indices</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>rnaseq_df[[<span class="st">"col1"</span>, <span class="st">"col2"</span>, <span class="st">"col3"</span>]].iloc[[row1_index, row2_index, row3_index]]</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="co"># column indices + row names</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, [col1_index, col2_index, col3_index]].loc[[<span class="st">"row1"</span>, <span class="st">"row2"</span>, <span class="st">"row3"</span>]]</span></code></pre>
</div>
<p>7. Access a subset of row and column ranges</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by name</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[<span class="st">"row1"</span>:<span class="st">"row2"</span>, <span class="st">"col1"</span>:<span class="st">"col2"</span>]</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># by index</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[row1_index:row2_index, col1_index:col2_index]</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># column names + row indices</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[:, <span class="st">"col1_name"</span>:<span class="st">"col2_name"</span>].iloc[row1_index:row2_index]</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="co"># column indices + row names</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>rnaseq_df.iloc[:, col1_index:col2_index].loc[<span class="st">"row1"</span>:<span class="st">"row2"</span>]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-11-writing-functions"><p>Content from <a href="11-writing-functions.html">Writing Functions</a></p>
<hr>
<p> Last updated on 2023-04-24 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/11-writing-functions.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I create my own functions?</li>
<li>How can I use functions to write better programs?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explain and identify the difference between function definition and
function call.</li>
<li>Write a function that takes a small, fixed number of arguments and
produces a single result.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Break programs down into functions to make them easier to
understand.</li>
<li>Define a function using <code>def</code> with a name, parameters,
and a block of code.</li>
<li>Defining a function does not run it.</li>
<li>Arguments in a function call are matched to its defined
parameters.</li>
<li>Functions may return a result to their caller using
<code>return</code>.</li>
</ul>
</div>
</div>
</div>
<section id="break-programs-down-into-functions-to-make-them-easier-to-understand."><h2 class="section-heading">Break programs down into functions to make them easier to
understand.<a class="anchor" aria-label="anchor" href="#break-programs-down-into-functions-to-make-them-easier-to-understand."></a>
</h2>
<hr class="half-width">
<ul>
<li>Human beings can only keep a few items in working memory at a
time.</li>
<li>Understand larger/more complicated ideas by understanding and
combining pieces.
<ul>
<li>Components in a machine.</li>
<li>Lemmas when proving theorems.</li>
</ul>
</li>
<li>Functions serve the same purpose in programs.
<ul>
<li>
<em>Encapsulate</em> complexity so that we can treat it as a single
“thing”.</li>
</ul>
</li>
<li>Also enables <em>re-use</em>.
<ul>
<li>Write one time, use many times.</li>
</ul>
</li>
</ul></section><section id="define-a-function-using-def-with-a-name-parameters-and-a-block-of-code."><h2 class="section-heading">Define a function using <code>def</code> with a name, parameters,
and a block of code.<a class="anchor" aria-label="anchor" href="#define-a-function-using-def-with-a-name-parameters-and-a-block-of-code."></a>
</h2>
<hr class="half-width">
<ul>
<li>Begin the definition of a new function with <code>def</code>.</li>
<li>Followed by the name of the function.
<ul>
<li>Must obey the same rules as variable names.</li>
</ul>
</li>
<li>Then <em>parameters</em> in parentheses.
<ul>
<li>Empty parentheses if the function doesn’t take any inputs.</li>
<li>We will discuss this in detail in a moment.</li>
</ul>
</li>
<li>Then a colon.</li>
<li>Then an indented block of code.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_greeting():</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Hello!'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'The weather is nice today.'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Right?'</span>)</span></code></pre>
</div>
</section><section id="defining-a-function-does-not-run-it."><h2 class="section-heading">Defining a function does not run it.<a class="anchor" aria-label="anchor" href="#defining-a-function-does-not-run-it."></a>
</h2>
<hr class="half-width">
<ul>
<li>Defining a function does not run it.
<ul>
<li>Like assigning a value to a variable.</li>
</ul>
</li>
<li>Must call the function to execute the code it contains.</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>print_greeting()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Hello!</code></pre>
</div>
</section><section id="arguments-in-a-function-call-are-matched-to-its-defined-parameters."><h2 class="section-heading">Arguments in a function call are matched to its defined
parameters.<a class="anchor" aria-label="anchor" href="#arguments-in-a-function-call-are-matched-to-its-defined-parameters."></a>
</h2>
<hr class="half-width">
<ul>
<li>Functions are most useful when they can operate on different
data.</li>
<li>Specify <em>parameters</em> when defining a function.
<ul>
<li>These become variables when the function is executed.</li>
<li>Are assigned the arguments in the call (i.e., the values passed to
the function).</li>
<li>If you don’t name the arguments when using them in the call, the
arguments will be matched to parameters in the order the parameters are
defined in the function.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_date(year, month, day):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    joined <span class="op">=</span> <span class="bu">str</span>(year) <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">str</span>(month) <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">str</span>(day)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(joined)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>print_date(<span class="dv">1871</span>, <span class="dv">3</span>, <span class="dv">19</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1871</span><span class="op">/</span><span class="fl">3</span><span class="op">/</span><span class="fl">19</span></span></code></pre>
</div>
<p>Or, we can name the arguments when we call the function, which allows
us to specify them in any order and adds clarity to the call site;
otherwise as one is reading the code they might forget if the second
argument is the month or the day for example.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>print_date(month<span class="op">=</span><span class="dv">3</span>, day<span class="op">=</span><span class="dv">19</span>, year<span class="op">=</span><span class="dv">1871</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1871</span><span class="op">/</span><span class="fl">3</span><span class="op">/</span><span class="fl">19</span></span></code></pre>
</div>
<ul>
<li>This tweet shared a nice analogy for functions, <a href="https://twitter.com/minisciencegirl/status/693486088963272705" class="external-link">Twitter</a>:
<code>()</code> contains the ingredients for the function while the body
contains the recipe.</li>
</ul></section><section id="functions-may-return-a-result-to-their-caller-using-return."><h2 class="section-heading">Functions may return a result to their caller using
<code>return</code>.<a class="anchor" aria-label="anchor" href="#functions-may-return-a-result-to-their-caller-using-return."></a>
</h2>
<hr class="half-width">
<ul>
<li>Use <code>return ...</code> to give a value back to the caller.</li>
<li>May occur anywhere in the function.</li>
<li>But functions are easier to understand if <code>return</code>
occurs:
<ul>
<li>At the start to handle special cases.</li>
<li>At the very end, with a final result.</li>
</ul>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> average(values):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(values) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(values) <span class="op">/</span> <span class="bu">len</span>(values)</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> average([<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'average of actual values:'</span>, a)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>average of actual values: 2.6666666666666665</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'average of empty list:'</span>, average([]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>average of empty list: None</code></pre>
</div>
<ul>
<li>Remember: <a href="%7B%7B%20page.root%20%7D%7D/04-built-in/">every
function returns something</a>.</li>
<li>A function that doesn’t explicitly <code>return</code> a value
automatically returns <code>None</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> print_date(<span class="dv">1871</span>, <span class="dv">3</span>, <span class="dv">19</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'result of call is:'</span>, result)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1871/3/19
result of call is: None</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="identifying-syntax-errors" class="callout-inner">
<h3 class="callout-title">Identifying Syntax Errors<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Read the code below and try to identify what the errors are
<em>without</em> running it.</li>
<li>Run the code and read the error message. Is it a
<code>SyntaxError</code> or an <code>IndentationError</code>?</li>
<li>Fix the error.</li>
<li>Repeat steps 2 and 3 until you have fixed all the errors.</li>
</ol>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> another_function</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Syntax errors are annoying."</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>   <span class="bu">print</span>(<span class="st">"But at least python tells us about them!"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"So they are usually not too hard to fix."</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> another_function():</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Syntax errors are annoying."</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"But at least Python tells us about them!"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"So they are usually not too hard to fix."</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="definition-and-use" class="callout-inner">
<h3 class="callout-title">Definition and Use<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>What does the following program print?</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> report(pressure):</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'pressure is'</span>, pressure)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'calling'</span>, report, <span class="fl">22.5</span>)</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>calling &lt;function report at 0x7fd128ff1bf8&gt; 22.5</code></pre>
</div>
<p>A function call always needs parenthesis, otherwise you get memory
address of the function object. So, if we wanted to call the function
named report, and give it the value 22.5 to report on, we could have our
function call as follows</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"calling"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>report(<span class="fl">22.5</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>calling
pressure is 22.5</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="order-of-operations" class="callout-inner">
<h3 class="callout-title">Order of Operations<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>
<p>What’s wrong in this example?</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> print_time(<span class="dv">11</span>, <span class="dv">37</span>, <span class="dv">59</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_time(hour, minute, second):</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>   time_string <span class="op">=</span> <span class="bu">str</span>(hour) <span class="op">+</span> <span class="st">':'</span> <span class="op">+</span> <span class="bu">str</span>(minute) <span class="op">+</span> <span class="st">':'</span> <span class="op">+</span> <span class="bu">str</span>(second)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>   <span class="bu">print</span>(time_string)</span></code></pre>
</div>
</li>
<li>
<p>After fixing the problem above, explain why running this example
code:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> print_time(<span class="dv">11</span>, <span class="dv">37</span>, <span class="dv">59</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'result of call is:'</span>, result)</span></code></pre>
</div>
<p>gives this output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>11:37:59
result of call is: None</code></pre>
</div>
</li>
<li><p>Why is the result of the call <code>None</code>?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><p>The problem with the example is that the function
<code>print_time()</code> is defined <em>after</em> the call to the
function is made. Python doesn’t know how to resolve the name
<code>print_time</code> since it hasn’t been defined yet and will raise
a <code>NameError</code> e.g.,
<code>NameError: name 'print_time' is not defined</code></p></li>
<li><p>The first line of output <code>11:37:59</code> is printed by the
first line of code, <code>result = print_time(11, 37, 59)</code> that
binds the value returned by invoking <code>print_time</code> to the
variable <code>result</code>. The second line is from the second print
call to print the contents of the <code>result</code> variable.</p></li>
<li><p><code>print_time()</code> does not explicitly <code>return</code>
a value, so it automatically returns <code>None</code>.</p></li>
</ol>
</div>
</div>
</div>
</div>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="encapsulation" class="callout-inner">
<h3 class="callout-title">Encapsulation<a class="anchor" aria-label="anchor" href="#challenge4"></a>
</h3>
<div class="callout-content">
<p>Fill in the blanks to create a function that takes a single filename
as an argument, loads the data in the file named by the argument, and
returns the minimum value in that data.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> min_in_data(____):</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> ____</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ____</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> min_in_data(filename):</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> pd.read_csv(filename)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data.<span class="bu">min</span>()</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="find-the-first" class="callout-inner">
<h3 class="callout-title">Find the First<a class="anchor" aria-label="anchor" href="#challenge5"></a>
</h3>
<div class="callout-content">
<p>Fill in the blanks to create a function that takes a list of numbers
as an argument and returns the first negative value in the list. What
does your function do if the list is empty? What if the list has no
negative numbers?</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> first_negative(values):</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> ____:</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> ____:</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> ____</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> first_negative(values):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> v <span class="kw">in</span> values:</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> v <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> v</span></code></pre>
</div>
<p>If an empty list or a list with all positive values is passed to this
function, it returns <code>None</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> []</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(first_negative(my_list))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">None</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="calling-by-name" class="callout-inner">
<h3 class="callout-title">Calling by Name<a class="anchor" aria-label="anchor" href="#challenge6"></a>
</h3>
<div class="callout-content">
<p>Earlier we saw this function:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_date(year, month, day):</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    joined <span class="op">=</span> <span class="bu">str</span>(year) <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">str</span>(month) <span class="op">+</span> <span class="st">'/'</span> <span class="op">+</span> <span class="bu">str</span>(day)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(joined)</span></code></pre>
</div>
<p>We saw that we can call the function using <em>named arguments</em>,
like this:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>print_date(day<span class="op">=</span><span class="dv">1</span>, month<span class="op">=</span><span class="dv">2</span>, year<span class="op">=</span><span class="dv">2003</span>)</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>What does <code>print_date(day=1, month=2, year=2003)</code>
print?</li>
<li>When have you seen a function call like this before?</li>
<li>When and why is it useful to call functions this way?</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><code>2003/2/1</code></li>
<li>We saw examples of using <em>named arguments</em> when working with
the pandas library. For example, when reading in a dataset using
<code>data = pd.read_csv('data/gapminder_gdp_europe.csv', index_col='country')</code>,
the last argument <code>index_col</code> is a named argument.<br>
</li>
<li>Using named arguments can make code more readable since one can see
from the function call what name the different arguments have inside the
function. It can also reduce the chances of passing arguments in the
wrong order, since by using named arguments the order doesn’t
matter.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="challenge7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="encapsulation-of-an-ifprint-block" class="callout-inner">
<h3 class="callout-title">Encapsulation of an If/Print Block<a class="anchor" aria-label="anchor" href="#challenge7"></a>
</h3>
<div class="callout-content">
<p>The code below will run on a label-printer for chicken eggs. A
digital scale will report a chicken egg mass (in grams) to the computer
and then the computer will print a label.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># simulating the mass of a chicken egg</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the (random) mass will be 70 +/- 20 grams</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    mass <span class="op">=</span> <span class="dv">70</span> <span class="op">+</span> <span class="fl">20.0</span> <span class="op">*</span> (<span class="fl">2.0</span> <span class="op">*</span> random.random() <span class="op">-</span> <span class="fl">1.0</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mass)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># egg sizing machinery prints a label</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> mass <span class="op">&gt;=</span> <span class="dv">85</span>:</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"jumbo"</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&gt;=</span> <span class="dv">70</span>:</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"large"</span>)</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&lt;</span> <span class="dv">70</span> <span class="kw">and</span> mass <span class="op">&gt;=</span> <span class="dv">55</span>:</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"medium"</span>)</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"small"</span>)</span></code></pre>
</div>
<p>The if-block that classifies the eggs might be useful in other
situations, so to avoid repeating it, we could fold it into a function,
<code>get_egg_label()</code>. Revising the program to use the function
would give us this:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># revised version</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># simulating the mass of a chicken egg</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the (random) mass will be 70 +/- 20 grams</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    mass <span class="op">=</span> <span class="dv">70</span> <span class="op">+</span> <span class="fl">20.0</span> <span class="op">*</span> (<span class="fl">2.0</span> <span class="op">*</span> random.random() <span class="op">-</span> <span class="fl">1.0</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(mass, get_egg_label(mass))</span></code></pre>
</div>
<ol style="list-style-type: decimal">
<li>Create a function definition for <code>get_egg_label()</code> that
will work with the revised program above. Note that the
<code>get_egg_label()</code> function’s return value will be important.
Sample output from the above program would be
<code>71.23 large</code>.</li>
<li>A dirty egg might have a mass of more than 90 grams, and a spoiled
or broken egg will probably have a mass that’s less than 50 grams.
Modify your <code>get_egg_label()</code> function to account for these
error conditions. Sample output could be
<code>25 too light, probably spoiled</code>.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_egg_label(mass):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># egg sizing machinery prints a label</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    egg_label <span class="op">=</span> <span class="st">"Unlabelled"</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> mass <span class="op">&gt;=</span> <span class="dv">90</span>:</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"warning: egg might be dirty"</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&gt;=</span> <span class="dv">85</span>:</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"jumbo"</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&gt;=</span> <span class="dv">70</span>:</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"large"</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&lt;</span> <span class="dv">70</span> <span class="kw">and</span> mass <span class="op">&gt;=</span> <span class="dv">55</span>:</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"medium"</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> mass <span class="op">&lt;</span> <span class="dv">50</span>:</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"too light, probably spoiled"</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>        egg_label <span class="op">=</span> <span class="st">"small"</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> egg_label</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge8" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="simulating-a-dynamical-system" class="callout-inner">
<h3 class="callout-title">Simulating a dynamical system<a class="anchor" aria-label="anchor" href="#challenge8"></a>
</h3>
<div class="callout-content">
<p>In mathematics, a <a href="https://en.wikipedia.org/wiki/Dynamical_system" class="external-link">dynamical
system</a> is a system in which a function describes the time dependence
of a point in a geometrical space. A canonical example of a dynamical
system is the <a href="https://en.wikipedia.org/wiki/Logistic_map" class="external-link">logistic map</a>, a
growth model that computes a new population density (between 0 and 1)
based on the current density. In the model, time takes discrete values
0, 1, 2, …</p>
<ol style="list-style-type: decimal">
<li>
<p>Define a function called <code>logistic_map</code> that takes two
inputs: <code>x</code>, representing the current population (at time
<code>t</code>), and a parameter <code>r = 1</code>. This function
should return a value representing the state of the system (population)
at time <code>t + 1</code>, using the mapping function:</p>
<p><code>f(t+1) = r * f(t) * [1 - f(t)]</code></p>
</li>
<li><p>Using a <code>for</code> or <code>while</code> loop, iterate the
<code>logistic_map</code> function defined in part 1, starting from an
initial population of 0.5, for a period of time
<code>t_final = 10</code>. Store the intermediate results in a list so
that after the loop terminates you have accumulated a sequence of values
representing the state of the logistic map at times
<code>t = [0,1,...,t_final]</code> (11 values in total). Print this list
to see the evolution of the population.</p></li>
<li><p>Encapsulate the logic of your loop into a function called
<code>iterate</code> that takes the initial population as its first
input, the parameter <code>t_final</code> as its second input and the
parameter <code>r</code> as its third input. The function should return
the list of values representing the state of the logistic map at times
<code>t = [0,1,...,t_final]</code>. Run this function for periods
<code>t_final = 100</code> and <code>1000</code> and print some of the
values. Is the population trending toward a steady state?</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>   <span class="kw">def</span> logistic_map(x, r):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> r <span class="op">*</span> x <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> x)</span></code></pre>
</div></li>
<li><div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>   initial_population <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>   t_final <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>   r <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>   population <span class="op">=</span> [initial_population]</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> t <span class="kw">in</span> <span class="bu">range</span>(t_final):</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>       population.append( logistic_map(population[t], r) )</span></code></pre>
</div></li>
<li>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> iterate(initial_population, t_final, r):</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    population <span class="op">=</span> [initial_population]</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> <span class="bu">range</span>(t_final):</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>        population.append( logistic_map(population[t], r) )</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> population</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> period <span class="kw">in</span> (<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>):</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    population <span class="op">=</span> iterate(<span class="fl">0.5</span>, period, <span class="dv">1</span>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(population[<span class="op">-</span><span class="dv">1</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0.06945089389714401</span></span>
<span><span class="fl">0.009395779870614648</span></span>
<span><span class="fl">0.0009913908614406382</span></span></code></pre>
</div>
The population seems to be approaching zero.</li>
</ol>
</div>
</div>
</div>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="using-functions-with-conditionals-in-pandas" class="callout-inner">
<h3 class="callout-title">Using Functions With Conditionals in
Pandas<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Functions will often contain conditionals. Here is a short example
that will indicate which quartile the argument is in based on hand-coded
values for the quartile cut points.</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_life_quartile(exp):</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> exp <span class="op">&lt;</span> <span class="fl">58.41</span>:</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This observation is in the first quartile</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> exp <span class="op">&gt;=</span> <span class="fl">58.41</span> <span class="kw">and</span> exp <span class="op">&lt;</span> <span class="fl">67.05</span>:</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This observation is in the second quartile</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> exp <span class="op">&gt;=</span> <span class="fl">67.05</span> <span class="kw">and</span> exp <span class="op">&lt;</span> <span class="fl">71.70</span>:</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This observation is in the third quartile</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> <span class="dv">3</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> exp <span class="op">&gt;=</span> <span class="fl">71.70</span>:</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This observation is in the fourth quartile</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> <span class="dv">4</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># This observation has bad dataS</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>       <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>calculate_life_quartile(<span class="fl">62.5</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2</span></span></code></pre>
</div>
<p>That function would typically be used within a <code>for</code> loop,
but Pandas has a different, more efficient way of doing the same thing,
and that is by <em>applying</em> a function to a dataframe or a portion
of a dataframe. Here is an example, using the definition above.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>{<span class="st">'lifeExp_1992'</span>: {<span class="st">'Argentina'</span>: <span class="fl">71.868</span>,   <span class="st">'Bolivia'</span>: <span class="fl">59.957</span>,   <span class="st">'Brazil'</span>: <span class="fl">67.057</span>,   <span class="st">'Canada'</span>: <span class="fl">77.95</span>,   <span class="st">'Chile'</span>: <span class="fl">74.126</span>,   <span class="st">'Colombia'</span>: <span class="fl">68.421</span>,   <span class="st">'Costa Rica'</span>: <span class="fl">75.713</span>,   <span class="st">'Cuba'</span>: <span class="fl">74.414</span>,   <span class="st">'Dominican Republic'</span>: <span class="fl">68.457</span>,   <span class="st">'Ecuador'</span>: <span class="fl">69.613</span>,   <span class="st">'El Salvador'</span>: <span class="fl">66.798</span>,   <span class="st">'Guatemala'</span>: <span class="fl">63.373</span>,   <span class="st">'Haiti'</span>: <span class="fl">55.089</span>,   <span class="st">'Honduras'</span>: <span class="fl">66.399</span>,   <span class="st">'Jamaica'</span>: <span class="fl">71.766</span>,   <span class="st">'Mexico'</span>: <span class="fl">71.455</span>,   <span class="st">'Nicaragua'</span>: <span class="fl">65.843</span>,   <span class="st">'Panama'</span>: <span class="fl">72.462</span>,   <span class="st">'Paraguay'</span>: <span class="fl">68.225</span>,   <span class="st">'Peru'</span>: <span class="fl">66.458</span>,   <span class="st">'Puerto Rico'</span>: <span class="fl">73.911</span>,   <span class="st">'Trinidad and Tobago'</span>: <span class="fl">69.862</span>,   <span class="st">'United States'</span>: <span class="fl">76.09</span>,   <span class="st">'Uruguay'</span>: <span class="fl">72.752</span>,   <span class="st">'Venezuela'</span>: <span class="fl">71.15</span>},  <span class="st">'lifeExp_2007'</span>: {<span class="st">'Argentina'</span>: <span class="fl">75.32</span>,   <span class="st">'Bolivia'</span>: <span class="fl">65.554</span>,   <span class="st">'Brazil'</span>: <span class="fl">72.39</span>,   <span class="st">'Canada'</span>: <span class="fl">80.653</span>,   <span class="st">'Chile'</span>: <span class="fl">78.553</span>,   <span class="st">'Colombia'</span>: <span class="fl">72.889</span>,   <span class="st">'Costa Rica'</span>: <span class="fl">78.782</span>,   <span class="st">'Cuba'</span>: <span class="fl">78.273</span>,   <span class="st">'Dominican Republic'</span>: <span class="fl">72.235</span>,   <span class="st">'Ecuador'</span>: <span class="fl">74.994</span>,   <span class="st">'El Salvador'</span>: <span class="fl">71.878</span>,   <span class="st">'Guatemala'</span>: <span class="fl">70.259</span>,   <span class="st">'Haiti'</span>: <span class="fl">60.916</span>,   <span class="st">'Honduras'</span>: <span class="fl">70.198</span>,   <span class="st">'Jamaica'</span>: <span class="fl">72.567</span>,   <span class="st">'Mexico'</span>: <span class="fl">76.195</span>,   <span class="st">'Nicaragua'</span>: <span class="fl">72.899</span>,   <span class="st">'Panama'</span>: <span class="fl">75.537</span>,   <span class="st">'Paraguay'</span>: <span class="fl">71.752</span>,   <span class="st">'Peru'</span>: <span class="fl">71.421</span>,   <span class="st">'Puerto Rico'</span>: <span class="fl">78.746</span>,   <span class="st">'Trinidad and Tobago'</span>: <span class="fl">69.819</span>,   <span class="st">'United States'</span>: <span class="fl">78.242</span>,   <span class="st">'Uruguay'</span>: <span class="fl">76.384</span>,   <span class="st">'Venezuela'</span>: <span class="fl">73.747</span>}}</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'life_qrtl_1992'</span>] <span class="op">=</span> data[<span class="st">'lifeExp_1992'</span>].<span class="bu">apply</span>(calculate_life_quartile)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>data[<span class="st">'life_qrtl_2007'</span>] <span class="op">=</span> data[<span class="st">'lifeExp_2007'</span>].<span class="bu">apply</span>(calculate_life_quartile)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.iloc[:,<span class="dv">2</span>:])</span></code></pre>
</div>
<p>There is a lot in that second line, so let’s take it piece by piece.
On the right side of the <code>=</code> we start with
<code>data['lifeExp']</code>, which is the column in the dataframe
called <code>data</code> labeled <code>lifExp</code>. We use the
<code>apply()</code> to do what it says, apply the
<code>calculate_life_quartile</code> to the value of this column for
every row in the dataframe.</p>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-12-scipy"><p>Content from <a href="12-scipy.html">Perform Statistical Tests with Scipy</a></p>
<hr>
<p> Last updated on 2023-04-17 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/12-scipy.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How do I use distributions?</li>
<li>How do I perform statistical tests?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explore the <code>scipy</code> library.</li>
<li>Define and sample from a distribution.</li>
<li>Perform a t-test on prepared data.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Scipy is a package with a variety of scientific computing
functionality.</li>
<li>Scipy.stats contains functionality for distributions and statistical
tests.</li>
</ul>
</div>
</div>
</div>
<section id="sci-py-is-a-package-with-a-variety-of-scientific-computing-functionality."><h2 class="section-heading">Sci-py is a package with a variety of scientific computing
functionality.<a class="anchor" aria-label="anchor" href="#sci-py-is-a-package-with-a-variety-of-scientific-computing-functionality."></a>
</h2>
<hr class="half-width">
<p><a href="https://scipy.org/" class="external-link">SciPy</a> contains a variety of
scientific computing modules. It has modules for:</p>
<ul>
<li>Integration (scipy.integrate)</li>
<li>Optimization (scipy.optimize)</li>
<li>Interpolation (scipy.interpolate)</li>
<li>Fourier Transforms (scipy.fft)</li>
<li>Signal Processing (scipy.signal)</li>
<li>Linear Algebra (scipy.linalg)</li>
<li>Compressed Sparse Graph Routines (scipy.sparse.csgraph)</li>
<li>Spatial data structures and algorithms (scipy.spatial)</li>
<li>Statistics (scipy.stats)</li>
<li>Multidimensional image processing (scipy.ndimage)</li>
</ul>
<p>We are only going to look at some of the functionality in
<code>scipy.stats</code>.</p>
<p>Let’s load the module and take a look. Note that the output is not
shown here as it is very long.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(stats)</span></code></pre>
</div>
<p>This is a lot, but we can see that <code>scipy.stats</code> has a
variety of different distributions and functions available for
performing statistics.</p>
</section><section id="sampling-from-a-distribution"><h2 class="section-heading">Sampling from a distribution<a class="anchor" aria-label="anchor" href="#sampling-from-a-distribution"></a>
</h2>
<hr class="half-width">
<p>One common reason use a distribution is if we want to generate some
random with some kind of structure. Python has a <a href="https://docs.python.org/3/library/random.html" class="external-link">built-in random
module</a> which can perform some basic tasks like getting uniform
random numbers or shuffling a list, but we need more power to generate
more complicated random data.</p>
<p>Distributions in scipy share a set of methods. Some of the important
ones are:</p>
<ul>
<li>
<code>rvs</code> which generates random numbers from the
distribution.</li>
<li>
<code>pdf</code> which gets the probability density function.</li>
<li>
<code>cdf</code> which gets the cumulative distribution
function.</li>
<li>
<code>stats</code> which reports various properties of the
distribution.</li>
</ul>
<p>Scipy’s convention is not to create distribution objects, but to pass
parameters as needed into each of these functions. For instance, to
generate 100 normally distributed variables with a mean of 8 and a
standard deviation of 3, we call <code>stats.norm.rvs</code> with those
parameters as <code>loc</code> and <code>scale</code>, respectively.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>stats.norm.rvs(size<span class="op">=</span><span class="dv">100</span>, loc<span class="op">=</span><span class="dv">8</span>, scale<span class="op">=</span><span class="dv">3</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>array([10.81294892,  9.35960484,  4.13064284,  5.01349956, 11.91542804,
        4.40831262,  7.873177  ,  2.80427116,  6.93137287,  8.6260419 ,
       10.48824661,  4.03472414, 10.01449037,  7.37493941,  6.8729883 ,
        8.8247789 ,  6.9956787 ,  8.2084562 ,  9.4272925 ,  8.14680254,
        1.61100441,  7.14171227,  6.83756279, 13.15778935,  5.87752233,
       11.53910465,  9.7899608 , 10.99998659,  5.67069185,  4.43542582,
        8.05798467,  4.56883381, 11.2219477 ,  9.49666323,  6.09194101,
       10.0844057 , 10.3107259 ,  5.50683223,  9.97121225, 10.71650187,
        7.11465757,  1.81891326,  5.11893454,  5.7602409 ,  7.21754014,
        8.79988949, 10.37762164, 14.33689265,  6.33571171,  8.06869862,
        8.54040514,  7.70807529, 11.35719793,  9.60738274,  6.02998292,
        5.68116531,  2.35490176, 10.74582778,  9.8661685 , 13.39578467,
       10.04354226,  7.28494967, 10.16128058, -0.59049207,  7.2093563 ,
        6.81705905,  5.95187581,  7.51137727, 12.00011092, 10.99417942,
        7.84189409,  1.51154885,  5.85094646,  9.24591807, 10.0216898 ,
        9.79350275,  7.26730344,  4.94176518,  9.06454997,  2.99129021,
       10.8972046 , 12.51642136,  7.31422469,  4.54086114,  4.36204651,
        8.33272365,  9.53609612,  7.21441855,  8.58643188,  7.67419071,
       10.36948034,  4.405381  ,  8.16845496,  2.9752478 ,  5.93608394,
        4.91781677, 11.60177026,  7.97727669,  8.43215961,  6.97469055])</code></pre>
</div>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="numpy-arrays" class="callout-inner">
<h3 class="callout-title">Numpy arrays<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Note that the output isn’t a list or pandas object, but is something
called an <code>array</code>. This is an object in the <a href="https://numpy.org/" class="external-link">NumPy</a> package. NumPy objects are used by
most scientific packages in Python such as pandas, scikit-learn, and
scipy. It provides a variety of objects and funcionality for performing
fast numeric operations.</p>
<p>Numpy arrays can be indexed and manipulated like Python lists in most
instances, but provide extra functionality. We will not be going into
more detail about numpy during this workshop.</p>
</div>
</div>
</div>
</section><section id="performing-a-t-test-with-scipy"><h2 class="section-heading">Performing a t-test with scipy<a class="anchor" aria-label="anchor" href="#performing-a-t-test-with-scipy"></a>
</h2>
<hr class="half-width">
<p>First, let’s load up a small toy dataset looking at how mouse weight
responded to a particular treatment. This data contains 4 columns, the
mouse label/number, whether or not it was treated, its sex and its
weight.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/mouse_weight_data.csv"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>mouse_df <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="st">"Mouse"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mouse_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>       Treated Sex  Weight
Mouse                     
1         True   M      22
2         True   F      25
3         True   M      27
4         True   F      23
5         True   M      23
6         True   F      24
7         True   M      26
8         True   F      24
9         True   M      27
10        True   F      27
11        True   M      25
12        True   F      27
13        True   M      26
14        True   F      24
15        True   M      26
16       False   F      25
17       False   M      29
18       False   F      28
19       False   M      27
20       False   F      28
21       False   M      25
22       False   F      23
23       False   M      24
24       False   F      30
25       False   M      24
26       False   F      30
27       False   M      30
28       False   F      28
29       False   M      27
30       False   F      24</code></pre>
</div>
<p>We can start by seeing if the mean weight is different between the
groups:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>treated_mean <span class="op">=</span> mouse_df[mouse_df[<span class="st">"Treated"</span>]][<span class="st">"Weight"</span>].mean()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>untreated_mean <span class="op">=</span> mouse_df[<span class="op">~</span>mouse_df[<span class="st">"Treated"</span>]][<span class="st">"Weight"</span>].mean()</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Treated mean weight: </span><span class="sc">{</span>treated_mean<span class="sc">:0.0f}</span><span class="ss">g</span><span class="ch">\n</span><span class="ss">Untreated mean weight: </span><span class="sc">{</span>untreated_mean<span class="sc">:0.0f}</span><span class="ss">g"</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Treated mean weight: 25g
Untreated mean weight: 27g</code></pre>
</div>
<p>We can see that there is a slight different, but it’s unclear if it
is real or just a source of randomnes in the data.</p>
<div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="the-newline-character" class="callout-inner">
<h3 class="callout-title">The newline character<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p><code>\n</code> is a special character called the newline character.
It tells Python to go to a new line of text. <code>\n</code> is univeral
to almost all programming languages.</p>
</div>
</div>
</div>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="in-pandas" class="callout-inner">
<h3 class="callout-title">
<code>~</code> in Pandas<a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p>Though before we saw that in Python <code>!</code> is how we indicate
logical NOT, for pandas boolean series we have to use the <code>~</code>
character to invert every boolean in the series.</p>
</div>
</div>
</div>
<p>Let’s perform a t-test to check for a significant difference. A
one-sample t-test is performed using <code>ttest_1samp</code>. As we
want to compare two groups, we will need to use perform a two-sample
t-test using <code>ttest_ind</code>.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>treated_weights <span class="op">=</span> mouse_df[mouse_df[<span class="st">"Treated"</span>]][<span class="st">"Weight"</span>]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>untreated_weights <span class="op">=</span> mouse_df[<span class="op">~</span>mouse_df[<span class="st">"Treated"</span>]][<span class="st">"Weight"</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>stats.ttest_ind(treated_weights, untreated_weights)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">Ttest_indResult</span><span class="op">(</span>statistic<span class="op">=</span><span class="op">-</span><span class="fl">2.2617859482443694</span>, pvalue<span class="op">=</span><span class="fl">0.03166586638057747</span><span class="op">)</span></span></code></pre>
</div>
<p>Our p-value is about 0.03.</p>
<p>There are a number of arguments we could use to change the test, such
as accounting for unequal variance and single-sides tests which can be
found <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html" class="external-link">here</a></p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Peform a t-test looking at whether there is a different by sex as
opposed to treatment.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>m_weights <span class="op">=</span> mouse_df[mouse_df[<span class="st">"Sex"</span>] <span class="op">==</span> <span class="st">"M"</span>][<span class="st">"Weight"</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>f_weights <span class="op">=</span> mouse_df[mouse_df[<span class="st">"Sex"</span>] <span class="op">==</span> <span class="st">"F"</span>][<span class="st">"Weight"</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>stats.ttest_ind(m_weights, f_weights)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">Ttest_indResult</span><span class="op">(</span>statistic<span class="op">=</span><span class="op">-</span><span class="fl">0.16005488537123244</span>, pvalue<span class="op">=</span><span class="fl">0.8739869209422747</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-home-05-reshaping-data"><p>Content from <a href="home-05-reshaping-data.html">Reshaping Data</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-05-reshaping-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can change the shape of my data?</li>
<li>What is the difference between long and wide data?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Extract substrings of interest.</li>
<li>Format dynamic strings using f-strings.</li>
<li>Explore Python’s built-in string functions</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Strings can be indexed and sliced.</li>
<li>Strings cannot be directly altered.</li>
<li>You can build complex strings based on other variables using
f-strings and format.</li>
<li>Python has a variety of useful built-in string functions.</li>
</ul>
</div>
</div>
</div>
<section id="wide-data-and-long-data"><h2 class="section-heading">Wide data and long data<a class="anchor" aria-label="anchor" href="#wide-data-and-long-data"></a>
</h2>
<hr class="half-width">
<p>We’ve so far seen our gene expression dataset in two distinct formats
which we used for different purposes.</p>
<p>Our original dataset contains a single count value per row, and has
all metadata included:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/rnaseq_reduced.csv"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         gene      sample  expression  time
0         Asl  GSM2545336        1170     8
1        Apod  GSM2545336       36194     8
2     Cyp2d22  GSM2545336        4060     8
3        Klk6  GSM2545336         287     8
4       Fcrls  GSM2545336          85     8
...       ...         ...         ...   ...
7365    Mgst3  GSM2545340        1563     4
7366   Lrrc52  GSM2545340           2     4
7367     Rxrg  GSM2545340          26     4
7368    Lmx1a  GSM2545340          81     4
7369     Pbx1  GSM2545340        3805     4

[7370 rows x 4 columns]
</code></pre>
</div>
<p>Data in this format is referred to as <strong>long</strong> data.</p>
<p>We also looked at a version of the same data which only contained
expression data, where each sample was a column:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/expression_matrix.csv"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>expression_matrix <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(expression_matrix.iloc[:<span class="dv">10</span>, :<span class="dv">5</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340
gene                                                                
AI504432        1230        1085         969        1284         966
AW046200          83         144         129         121         141
AW551984         670         265         202         682         246
Aamp            5621        4049        3797        4375        4095
Abca12             5           8           1           5           3
Abcc8           2210        1966        2181        2362        2475
Abhd14a          490         495         474         468         489
Abi2            5627        4383        4107        4062        4289
Abi3bp           807        1144        1028         935         879
Abl2            2392        2133        1891        1645        1926</code></pre>
</div>
<p>Data in this format is referred to as <strong>wide</strong> data.</p>
<p>Each format has its pros and cons, and we often need to switch
between the two. Wide data is more human readable, and allows for easy
comparision across different samples, such as finding the genes with the
highest average expression. However, wide data requires any sample
metadata to exist as a separate dataframe. Thus it is much more
difficult to examine sample metadata, such as calculating the mean
expression at a particular timepoint.</p>
<p>In contrast, long data is considered less human readable. We have to
first aggregate our data by gene if we want to do something like
calculate average expression. However, we can easily group the data by
whatever sample metadata we wish. We will also see in the next session
that long data is the preferred format for plotting.</p>
<p>Wide and long data also handle missing data differently. In long
data, and values which don’t exist for a particular sample simply aren’t
rows in the dataset. Thus, our data does not have <code>null</code>
values, but it is harder to tell where data is missing. In wide data,
there is a matrix position for every combination of sample and gene.
Thus, any missing data is shown as a <code>null</code> value. This can
be more difficult to deal with, but makes missing data clear.</p>
</section><section id="convert-from-wide-to-long-with-melt."><h2 class="section-heading">Convert from wide to long with <code>melt</code>.<a class="anchor" aria-label="anchor" href="#convert-from-wide-to-long-with-melt."></a>
</h2>
<hr class="half-width">
<figure><img src="fig/home05_melt.png" alt="" class="figure mx-auto d-block"><figcaption>Melt goes from wide to long data</figcaption></figure><p>We can convert from wide data to long data using <a href="https://pandas.pydata.org/docs/reference/api/pandas.melt.html" class="external-link">melt</a>.
<code>melt</code> takes in the arguments <code>var_name</code> and
<code>value_name</code>, which are strings that name the two created
columns. We also typically want to set the <code>ignore_index</code>
argument to <code>False</code>, otherwise pandas will drop the dataframe
index.</p>
<p>We could also allow pandas to drop the index, if there is some other
column we want the new rows to be named by, and pass that in instead as
the <code>id_vars</code> argument.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>long_data <span class="op">=</span> expression_matrix.melt(var_name<span class="op">=</span><span class="st">"sample"</span>, value_name<span class="op">=</span><span class="st">"expression"</span>, ignore_index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(long_data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>              sample  expression
gene                            
AI504432  GSM2545336        1230
AW046200  GSM2545336          83
AW551984  GSM2545336         670
Aamp      GSM2545336        5621
Abca12    GSM2545336           5
...              ...         ...
Zkscan3   GSM2545380        1900
Zranb1    GSM2545380        9942
Zranb3    GSM2545380         202
Zscan22   GSM2545380         527
Zw10      GSM2545380        1664

[32428 rows x 2 columns]</code></pre>
</div>
</section><section id="convert-from-long-to-wide-with-pivot."><h2 class="section-heading">Convert from long to wide with <code>pivot</code>.<a class="anchor" aria-label="anchor" href="#convert-from-long-to-wide-with-pivot."></a>
</h2>
<hr class="half-width">
<figure><img src="fig/home05_pivot_table.png" alt="" class="figure mx-auto d-block"><figcaption>Pivot_table goes from long to wide</figcaption></figure><p>To go the other way, we want to use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.pivot_table.html" class="external-link">pivot_table</a>
method.</p>
<p>This method takes in a <code>columns</code> the column to get new
column names from, <code>values</code>, what to populate the matrix
with, and <code>index</code>, what the row names of the wide data should
be.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>wide_data <span class="op">=</span> rnaseq_df.pivot_table(columns <span class="op">=</span> <span class="st">"sample"</span>, values <span class="op">=</span> <span class="st">"expression"</span>, index <span class="op">=</span> <span class="st">"gene"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(wide_data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sample    GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340
gene                                                                
AI504432        1230        1085         969        1284         966
AW046200          83         144         129         121         141
AW551984         670         265         202         682         246
Aamp            5621        4049        3797        4375        4095
Abca12             5           8           1           5           3
...              ...         ...         ...         ...         ...
Zkscan3         1732        1840        1800        1751        2056
Zranb1          8837        5306        5106        5306        5896
Zranb3           207         179         199         208         184
Zscan22          483         535         533         462         439
Zw10            1479        1394        1279        1376        1568

[1474 rows x 5 columns]</code></pre>
</div>
<p>Note that any columns in the dataframe which are not used as values
are dropped.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Create a dataframe of the rnaseq dataset where each row is a gene and
each column is a timepoint instead of a sample. The values in each
column should be the mean count across all samples at that
timepoint.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1">
  Give me a hint
  </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Take a look at the <code>aggfunc</code> argument in <a href="https://pandas.pydata.org/docs/reference/api/pandas.pivot_table.html" class="external-link">pivot_table</a>.
What is the default?</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>By default, <code>pivot_table</code> aggregates values by mean.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>rnaseq_df.pivot_table(columns <span class="op">=</span> <span class="st">"time"</span>, values <span class="op">=</span> <span class="st">"expression"</span>, index<span class="op">=</span><span class="st">"gene"</span>)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-home-06-combining-data"><p>Content from <a href="home-06-combining-data.html">Combining Data</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/home-06-combining-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I combine dataframes?</li>
<li>How do I handle missing or incomplete data mappings?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Determine which kind of combination is desired between two
dataframes.</li>
<li>Combine two dataframes row-wise or column-wise.</li>
<li>Identify the different types of joins.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Concatenate dataframes to add additional <em>rows</em>.</li>
<li>Merge/join data frames to add additional <em>columns</em>.</li>
<li>Change the <code>on</code> argument to choose what is matched
between dataframes when joining.</li>
<li>The different types of joins control how missing data is handled for
the left and right dataframes.</li>
</ul>
</div>
</div>
</div>
<p>There are a variety of ways we might want to combine data when
performing a data analysis. We can generally group these into
<strong>concatenating</strong> (sometimes called <em>appending</em>) and
<strong>merging</strong> (sometimes called <em>joining</em>).</p>
<p>We will continue to use the rnaseq dataset:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/rnaseq.csv"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span></code></pre>
</div>
<section id="concatenate-dataframes-to-add-additional-rows."><h2 class="section-heading">Concatenate dataframes to add additional <em>rows</em>.<a class="anchor" aria-label="anchor" href="#concatenate-dataframes-to-add-additional-rows."></a>
</h2>
<hr class="half-width">
<p>When we want to combine two dataframes by adding one as additional
rows, we concatenate them together. This if often the case if our
observations are spread out over multiple files. To simulate this, let’s
make two miniature versions of `rnaseq_df`` with the first and last 10
rows of the data:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>rnaseq_mini <span class="op">=</span> rnaseq_df.loc[:,[<span class="st">"sample"</span>, <span class="st">"expression"</span>]].head(<span class="dv">10</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>rnaseq_mini_tail <span class="op">=</span> rnaseq_df.loc[:,[<span class="st">"sample"</span>, <span class="st">"expression"</span>]].tail(<span class="dv">10</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini_tail)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression
gene                           
Asl      GSM2545336        1170
Apod     GSM2545336       36194
Cyp2d22  GSM2545336        4060
Klk6     GSM2545336         287
Fcrls    GSM2545336          85
Slc2a4   GSM2545336         782
Exd2     GSM2545336        1619
Gjc2     GSM2545336         288
Plp1     GSM2545336       43217
Gnb4     GSM2545336        1071
             sample  expression
gene                           
Dusp27   GSM2545380          15
Mael     GSM2545380           4
Gm16418  GSM2545380          16
Gm16701  GSM2545380         181
Aldh9a1  GSM2545380        1770
Mgst3    GSM2545380        2151
Lrrc52   GSM2545380           5
Rxrg     GSM2545380          49
Lmx1a    GSM2545380          72
Pbx1     GSM2545380        4795</code></pre>
</div>
<p>We can then concatenate the dataframes using the pandas function
<code>concat</code>.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="op">=</span> pd.concat([rnaseq_mini, rnaseq_mini_tail])</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(combined_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression
gene                           
Asl      GSM2545336        1170
Apod     GSM2545336       36194
Cyp2d22  GSM2545336        4060
Klk6     GSM2545336         287
Fcrls    GSM2545336          85
Slc2a4   GSM2545336         782
Exd2     GSM2545336        1619
Gjc2     GSM2545336         288
Plp1     GSM2545336       43217
Gnb4     GSM2545336        1071
Dusp27   GSM2545380          15
Mael     GSM2545380           4
Gm16418  GSM2545380          16
Gm16701  GSM2545380         181
Aldh9a1  GSM2545380        1770
Mgst3    GSM2545380        2151
Lrrc52   GSM2545380           5
Rxrg     GSM2545380          49
Lmx1a    GSM2545380          72
Pbx1     GSM2545380        4795</code></pre>
</div>
<p>We now have 20 rows in our combined dataset, and the same number of
columns. Note that <code>concat</code> is a <em>function</em> of the
<code>pd</code> module, as opposed to a dataframe method. It takes in a
list of dataframes, and outputs a combined dataframe.</p>
<p>If one dataframe has columns which don’t exist in the other, these
values are filled in with <code>NaN</code>.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>rnaseq_mini_time <span class="op">=</span> rnaseq_df.loc[:,[<span class="st">"sample"</span>, <span class="st">"expression"</span>,<span class="st">"time"</span>]].iloc[<span class="dv">10</span>:<span class="dv">20</span>,:]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini_time)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>            sample  expression  time
gene                                
Tnc     GSM2545336         219     8
Trf     GSM2545336        9719     8
Tubb2b  GSM2545336        2245     8
Fads1   GSM2545336        6498     8
Lxn     GSM2545336        1744     8
Prr18   GSM2545336        1284     8
Cmtm5   GSM2545336        1381     8
Enpp1   GSM2545336         388     8
Clic4   GSM2545336        5795     8
Tm6sf2  GSM2545336          32     8</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mini_dfs <span class="op">=</span> [rnaseq_mini, rnaseq_mini_time, rnaseq_mini_tail]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>combined_df <span class="op">=</span> pd.concat(mini_dfs)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(combined_df)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  time
gene                                 
Asl      GSM2545336        1170   NaN
Apod     GSM2545336       36194   NaN
Cyp2d22  GSM2545336        4060   NaN
Klk6     GSM2545336         287   NaN
Fcrls    GSM2545336          85   NaN
Slc2a4   GSM2545336         782   NaN
Exd2     GSM2545336        1619   NaN
Gjc2     GSM2545336         288   NaN
Plp1     GSM2545336       43217   NaN
Gnb4     GSM2545336        1071   NaN
Tnc      GSM2545336         219   8.0
Trf      GSM2545336        9719   8.0
Tubb2b   GSM2545336        2245   8.0
Fads1    GSM2545336        6498   8.0
Lxn      GSM2545336        1744   8.0
Prr18    GSM2545336        1284   8.0
Cmtm5    GSM2545336        1381   8.0
Enpp1    GSM2545336         388   8.0
Clic4    GSM2545336        5795   8.0
Tm6sf2   GSM2545336          32   8.0
Dusp27   GSM2545380          15   NaN
Mael     GSM2545380           4   NaN
Gm16418  GSM2545380          16   NaN
Gm16701  GSM2545380         181   NaN
Aldh9a1  GSM2545380        1770   NaN
Mgst3    GSM2545380        2151   NaN
Lrrc52   GSM2545380           5   NaN
Rxrg     GSM2545380          49   NaN
Lmx1a    GSM2545380          72   NaN
Pbx1     GSM2545380        4795   NaN</code></pre>
</div>
</section><section id="merge-or-join-data-frames-to-add-additional-columns."><h2 class="section-heading">Merge or join data frames to add additional <em>columns</em>.<a class="anchor" aria-label="anchor" href="#merge-or-join-data-frames-to-add-additional-columns."></a>
</h2>
<hr class="half-width">
<p>As opposed to concatenating data, we instead might want to add
additional columns to a dataframe. We’ve already seen how to add a new
column based on a calculation, but often we have some other data table
we want to combine.</p>
<p>If we know that the rows are in the same order, we can use the same
syntax we use to assign new columns. However, this is often not the
case.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># There is an ongoing idelogical debate among developers whether variables like this should be named:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># url1, url2, and url3</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># url0, url1, and url2 or</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># url, url2, and url3</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>url1 <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/annot1.csv"</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>url2 <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/annot2.csv"</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>url3 <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/annot3.csv"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Here .sample is being used to shuffle the dataframe rows into a random order</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>annot1 <span class="op">=</span> pd.read_csv(url1, index_col<span class="op">=</span><span class="dv">0</span>).sample(frac<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>annot2 <span class="op">=</span> pd.read_csv(url2, index_col<span class="op">=</span><span class="dv">0</span>).sample(frac<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>annot3 <span class="op">=</span> pd.read_csv(url3, index_col<span class="op">=</span><span class="dv">0</span>).sample(frac<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(annot1)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                                          gene_description
gene                                                      
Fcrls    Fc receptor-like S, scavenger receptor [Source...
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...
Klk6     kallikrein related-peptidase 6 [Source:MGI Sym...
Gnb4     guanine nucleotide binding protein (G protein)...
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...
Slc2a4   solute carrier family 2 (facilitated glucose t...
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...
Exd2     exonuclease 3'-5' domain containing 2 [Source:...</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot1))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Asl      GSM2545336        1170   
Apod     GSM2545336       36194   
Cyp2d22  GSM2545336        4060   
Klk6     GSM2545336         287   
Fcrls    GSM2545336          85   
Slc2a4   GSM2545336         782   
Exd2     GSM2545336        1619   
Gjc2     GSM2545336         288   
Plp1     GSM2545336       43217   
Gnb4     GSM2545336        1071   

                                          gene_description  
gene                                                        
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
Klk6     kallikrein related-peptidase 6 [Source:MGI Sym...  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Gnb4     guanine nucleotide binding protein (G protein)...  </code></pre>
</div>
<p>We have combined the two dataframes to add the
<code>gene_description</code> column. By default, <code>join</code>
looks at the index column of the left and right dataframe, combining
rows when it finds matches. The data used to determine which rows should
be combined between the dataframes is referred to as what is being
joined on, or the <em>keys</em>. Here, we would say we are joining on
the index columns, or the index columns are the keys. The row order and
column order depends on which dataframe is on the left.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(annot1.join(rnaseq_mini))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                                          gene_description      sample  \
gene                                                                     
Fcrls    Fc receptor-like S, scavenger receptor [Source...  GSM2545336   
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  GSM2545336   
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  GSM2545336   
Klk6     kallikrein related-peptidase 6 [Source:MGI Sym...  GSM2545336   
Gnb4     guanine nucleotide binding protein (G protein)...  GSM2545336   
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  GSM2545336   
Slc2a4   solute carrier family 2 (facilitated glucose t...  GSM2545336   
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  GSM2545336   
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  GSM2545336   
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  GSM2545336   

         expression  
gene                 
Fcrls            85  
Plp1          43217  
Apod          36194  
Klk6            287  
Gnb4           1071  
Cyp2d22        4060  
Slc2a4          782  
Asl            1170  
Gjc2            288  
Exd2           1619  
</code></pre>
</div>
<p>And the index columns do not need to have the same name.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(annot2)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                                                          description
external_gene_name                                                   
Slc2a4              solute carrier family 2 (facilitated glucose t...
Gnb4                guanine nucleotide binding protein (G protein)...
Fcrls               Fc receptor-like S, scavenger receptor [Source...
Gjc2                gap junction protein, gamma 2 [Source:MGI Symb...
Klk6                kallikrein related-peptidase 6 [Source:MGI Sym...
Plp1                proteolipid protein (myelin) 1 [Source:MGI Sym...
Cyp2d22             cytochrome P450, family 2, subfamily d, polype...
Exd2                exonuclease 3'-5' domain containing 2 [Source:...
Apod                apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...
Asl                 argininosuccinate lyase [Source:MGI Symbol;Acc...</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot2))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Asl      GSM2545336        1170   
Apod     GSM2545336       36194   
Cyp2d22  GSM2545336        4060   
Klk6     GSM2545336         287   
Fcrls    GSM2545336          85   
Slc2a4   GSM2545336         782   
Exd2     GSM2545336        1619   
Gjc2     GSM2545336         288   
Plp1     GSM2545336       43217   
Gnb4     GSM2545336        1071   

                                               description  
gene                                                        
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
Klk6     kallikrein related-peptidase 6 [Source:MGI Sym...  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Gnb4     guanine nucleotide binding protein (G protein)...  </code></pre>
</div>
<p><code>join</code> by default uses the indices of the dataframes it
combines. To change this, we can use the <code>on</code> parameter. For
instance, let’s say we want to combine our sample metadata back with
<code>rnaseq_mini</code>.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/metadata.csv"</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>metadata <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(metadata)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                organism  age     sex    infection   strain  time      tissue  \
sample                                                                          
GSM2545336  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545337  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545338  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545339  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545340  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545341  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545342  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545343  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545344  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545345  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545346  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545347  Mus musculus    8    Male   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545348  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545349  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545350  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545351  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   
GSM2545352  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545353  Mus musculus    8  Female  NonInfected  C57BL/6     0  Cerebellum   
GSM2545354  Mus musculus    8    Male  NonInfected  C57BL/6     0  Cerebellum   
GSM2545362  Mus musculus    8  Female   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545363  Mus musculus    8    Male   InfluenzaA  C57BL/6     4  Cerebellum   
GSM2545380  Mus musculus    8  Female   InfluenzaA  C57BL/6     8  Cerebellum   

            mouse  
sample             
GSM2545336     14  
GSM2545337      9  
GSM2545338     10  
GSM2545339     15  
GSM2545340     18  
GSM2545341      6  
GSM2545342      5  
GSM2545343     11  
GSM2545344     22  
GSM2545345     13  
GSM2545346     23  
GSM2545347     24  
GSM2545348      8  
GSM2545349      7  
GSM2545350      1  
GSM2545351     16  
GSM2545352     21  
GSM2545353      4  
GSM2545354      2  
GSM2545362     20  
GSM2545363     12  
GSM2545380     19  </code></pre>
</div>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(metadata, on<span class="op">=</span><span class="st">"sample"</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression      organism  age     sex   infection  \
gene                                                                     
Asl      GSM2545336        1170  Mus musculus    8  Female  InfluenzaA   
Apod     GSM2545336       36194  Mus musculus    8  Female  InfluenzaA   
Cyp2d22  GSM2545336        4060  Mus musculus    8  Female  InfluenzaA   
Klk6     GSM2545336         287  Mus musculus    8  Female  InfluenzaA   
Fcrls    GSM2545336          85  Mus musculus    8  Female  InfluenzaA   
Slc2a4   GSM2545336         782  Mus musculus    8  Female  InfluenzaA   
Exd2     GSM2545336        1619  Mus musculus    8  Female  InfluenzaA   
Gjc2     GSM2545336         288  Mus musculus    8  Female  InfluenzaA   
Plp1     GSM2545336       43217  Mus musculus    8  Female  InfluenzaA   
Gnb4     GSM2545336        1071  Mus musculus    8  Female  InfluenzaA   

          strain  time      tissue  mouse  
gene                                       
Asl      C57BL/6     8  Cerebellum     14  
Apod     C57BL/6     8  Cerebellum     14  
Cyp2d22  C57BL/6     8  Cerebellum     14  
Klk6     C57BL/6     8  Cerebellum     14  
Fcrls    C57BL/6     8  Cerebellum     14  
Slc2a4   C57BL/6     8  Cerebellum     14  
Exd2     C57BL/6     8  Cerebellum     14  
Gjc2     C57BL/6     8  Cerebellum     14  
Plp1     C57BL/6     8  Cerebellum     14  
Gnb4     C57BL/6     8  Cerebellum     14  </code></pre>
</div>
<p>Note that if we want to join on columns between dataframes which have
different names we can simply rename the columns we wish to join on. If
there is a reason we don’t want to do this, we can instead use the more
powerful but harder to use pandas <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.merge.html?highlight=merge#pandas.DataFrame.merge" class="external-link">merge</a>
function.</p>
<div class="section level3">
<h3 id="missing-and-duplicate-data">Missing and duplicate data<a class="anchor" aria-label="anchor" href="#missing-and-duplicate-data"></a>
</h3>
<p>In the above join, there were a few other things going on. The first
is that multiple rows of <code>rnaseq_mini</code> contain the same
sample. Pandas by default will repeat the rows wherever needed when
joining.</p>
<p>The second is that the <code>metadata</code> dataframe contains
samples which are not present in <code>rnaseq_mini</code>. By default,
they were dropped from the dataframe. However, there might be cases
where we want to keep our data. Let’s explore how joining handles
missing data with another example:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(annot3)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>                                          gene_description
gene                                                      
mt-Rnr1  mitochondrially encoded 12S rRNA [Source:MGI S...
mt-Rnr2  mitochondrially encoded 16S rRNA [Source:MGI S...
Slc2a4   solute carrier family 2 (facilitated glucose t...
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...
Exd2     exonuclease 3'-5' domain containing 2 [Source:...
Gnb4     guanine nucleotide binding protein (G protein)...
mt-Tl1   mitochondrially encoded tRNA leucine 1 [Source...
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...
mt-Tv    mitochondrially encoded tRNA valine [Source:MG...
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...
mt-Tf    mitochondrially encoded tRNA phenylalanine [So...
Fcrls    Fc receptor-like S, scavenger receptor [Source...
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="missing-data-in-joins" class="callout-inner">
<h3 class="callout-title">Missing data in joins<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>What data is missing between <code>annot3</code> and
<code>rnaseq_mini</code>?</p>
<p>Try joining them. How is this missing data handled?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>There are both genes in <code>annot3</code> but not in
<code>rnaseq_mini</code>, and genes in <code>rnaseq_mini</code> not in
<code>annot3</code>.</p>
<p>When we join, we keep rows from rnaseq_mini with missing data and
drop rows from <code>annot3</code> with missing data.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot3))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Asl      GSM2545336        1170   
Apod     GSM2545336       36194   
Cyp2d22  GSM2545336        4060   
Klk6     GSM2545336         287   
Fcrls    GSM2545336          85   
Slc2a4   GSM2545336         782   
Exd2     GSM2545336        1619   
Gjc2     GSM2545336         288   
Plp1     GSM2545336       43217   
Gnb4     GSM2545336        1071   

                                          gene_description  
gene                                                        
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
Klk6                                                   NaN  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Gnb4     guanine nucleotide binding protein (G protein)...  </code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="types-of-joins">Types of joins<a class="anchor" aria-label="anchor" href="#types-of-joins"></a>
</h3>
<p>The reason we see the above behavior is because by default pandas
performs a <strong>left join</strong>.</p>
<p>We can change the type of join performed by changing the
<code>how</code> argument of the <code>join</code> method.</p>
<figure><img src="fig/home05_join_types_fig.png" alt="" class="figure mx-auto d-block"><figcaption>A summary of the types of joins and what they keep
and drop.</figcaption></figure><p>A <strong>right join</strong> saves all genes in the right dataframe,
but drops and genes unique to <code>rnaseq_mini</code>.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot3, how <span class="op">=</span> <span class="st">'right'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Plp1     GSM2545336     43217.0   
Exd2     GSM2545336      1619.0   
Gjc2     GSM2545336       288.0   
mt-Rnr2         NaN         NaN   
Gnb4     GSM2545336      1071.0   
mt-Rnr1         NaN         NaN   
Apod     GSM2545336     36194.0   
Fcrls    GSM2545336        85.0   
mt-Tv           NaN         NaN   
mt-Tf           NaN         NaN   
Slc2a4   GSM2545336       782.0   
Cyp2d22  GSM2545336      4060.0   
mt-Tl1          NaN         NaN   
Asl      GSM2545336      1170.0   

                                          gene_description  
gene                                                        
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
mt-Rnr2  mitochondrially encoded 16S rRNA [Source:MGI S...  
Gnb4     guanine nucleotide binding protein (G protein)...  
mt-Rnr1  mitochondrially encoded 12S rRNA [Source:MGI S...  
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
mt-Tv    mitochondrially encoded tRNA valine [Source:MG...  
mt-Tf    mitochondrially encoded tRNA phenylalanine [So...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
mt-Tl1   mitochondrially encoded tRNA leucine 1 [Source...  
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  </code></pre>
</div>
<p>An <strong>inner join</strong> only keeps genes shared by the
dataframes, and drops all genes which are only in one dataframe.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot3, how <span class="op">=</span> <span class="st">'inner'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Asl      GSM2545336        1170   
Apod     GSM2545336       36194   
Cyp2d22  GSM2545336        4060   
Fcrls    GSM2545336          85   
Slc2a4   GSM2545336         782   
Exd2     GSM2545336        1619   
Gjc2     GSM2545336         288   
Plp1     GSM2545336       43217   
Gnb4     GSM2545336        1071   

                                          gene_description  
gene                                                        
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Gnb4     guanine nucleotide binding protein (G protein)...  </code></pre>
</div>
<p>Finally, an <strong>outer join</strong> keeps all genes across both
dataframes.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(annot3, how <span class="op">=</span> <span class="st">'outer'</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression  \
gene                              
Apod     GSM2545336     36194.0   
Asl      GSM2545336      1170.0   
Cyp2d22  GSM2545336      4060.0   
Exd2     GSM2545336      1619.0   
Fcrls    GSM2545336        85.0   
Gjc2     GSM2545336       288.0   
Gnb4     GSM2545336      1071.0   
Klk6     GSM2545336       287.0   
Plp1     GSM2545336     43217.0   
Slc2a4   GSM2545336       782.0   
mt-Rnr1         NaN         NaN   
mt-Rnr2         NaN         NaN   
mt-Tf           NaN         NaN   
mt-Tl1          NaN         NaN   
mt-Tv           NaN         NaN   

                                          gene_description  
gene                                                        
Apod     apolipoprotein D [Source:MGI Symbol;Acc:MGI:88...  
Asl      argininosuccinate lyase [Source:MGI Symbol;Acc...  
Cyp2d22  cytochrome P450, family 2, subfamily d, polype...  
Exd2     exonuclease 3'-5' domain containing 2 [Source:...  
Fcrls    Fc receptor-like S, scavenger receptor [Source...  
Gjc2     gap junction protein, gamma 2 [Source:MGI Symb...  
Gnb4     guanine nucleotide binding protein (G protein)...  
Klk6                                                   NaN  
Plp1     proteolipid protein (myelin) 1 [Source:MGI Sym...  
Slc2a4   solute carrier family 2 (facilitated glucose t...  
mt-Rnr1  mitochondrially encoded 12S rRNA [Source:MGI S...  
mt-Rnr2  mitochondrially encoded 16S rRNA [Source:MGI S...  
mt-Tf    mitochondrially encoded tRNA phenylalanine [So...  
mt-Tl1   mitochondrially encoded tRNA leucine 1 [Source...  
mt-Tv    mitochondrially encoded tRNA valine [Source:MG...   </code></pre>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="duplicate-column-names" class="callout-inner">
<h3 class="callout-title">Duplicate column names<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>One common challenge we encounter when combining datasets from
different sources is that they have identical column names.</p>
<p>Imagine that you’ve collected a second set of observations from
samples which are stored in a identically structured file. We can
simulate this by generating some random numbers in a copy of
<code>rnaseq_mini</code>.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>new_mini <span class="op">=</span> rnaseq_mini.copy()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>new_mini[<span class="st">"expression"</span>] <span class="op">=</span> pd.Series(<span class="bu">range</span>(<span class="dv">50</span>,<span class="dv">50000</span>)).sample(<span class="bu">int</span>(<span class="dv">10</span>), replace<span class="op">=</span><span class="va">True</span>).array</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(new_mini)</span></code></pre>
</div>
<p><em>Note: as these are pseudo-random numbers your exact values will
be different</em></p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression
gene                           
Asl      GSM2545336       48562
Apod     GSM2545336         583
Cyp2d22  GSM2545336       39884
Klk6     GSM2545336        6161
Fcrls    GSM2545336       10318
Slc2a4   GSM2545336       15991
Exd2     GSM2545336       44471
Gjc2     GSM2545336       40629
Plp1     GSM2545336       23146
Gnb4     GSM2545336       22506</code></pre>
</div>
<p>Try joining <code>rnaseq_mini</code> and <code>new_mini</code>. What
happens? Take a look at the <code>lsuffix</code> and
<code>rsuffix</code> arguments for <code>join</code>. How can you use
these to improve your joined dataframe?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>When we try to join these dataframes we get an error.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>rnaseq_mini.join(new_mini)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
Cell In[17], line 1
----&gt; 1 rnaseq_mini.join(new_mini)

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\frame.py:9976, in DataFrame.join(self, other, on, how, lsuffix, rsuffix, sort, validate)
   9813 def join(
   9814     self,
   9815     other: DataFrame | Series | list[DataFrame | Series],
   (...)
   9821     validate: str | None = None,
   9822 ) -&gt; DataFrame:
   9823     """
   9824     Join columns of another DataFrame.
   9825 
   (...)
   9974     5  K1  A5   B1
   9975     """
-&gt; 9976     return self._join_compat(
   9977         other,
   9978         on=on,
   9979         how=how,
   9980         lsuffix=lsuffix,
   9981         rsuffix=rsuffix,
   9982         sort=sort,
   9983         validate=validate,
   9984     )

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\frame.py:10015, in DataFrame._join_compat(self, other, on, how, lsuffix, rsuffix, sort, validate)
  10005     if how == "cross":
  10006         return merge(
  10007             self,
  10008             other,
   (...)
  10013             validate=validate,
  10014         )
&gt; 10015     return merge(
  10016         self,
  10017         other,
  10018         left_on=on,
  10019         how=how,
  10020         left_index=on is None,
  10021         right_index=True,
  10022         suffixes=(lsuffix, rsuffix),
  10023         sort=sort,
  10024         validate=validate,
  10025     )
  10026 else:
  10027     if on is not None:

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\reshape\merge.py:124, in merge(left, right, how, on, left_on, right_on, left_index, right_index, sort, suffixes, copy, indicator, validate)
     93 @Substitution("\nleft : DataFrame or named Series")
     94 @Appender(_merge_doc, indents=0)
     95 def merge(
   (...)
    108     validate: str | None = None,
    109 ) -&gt; DataFrame:
    110     op = _MergeOperation(
    111         left,
    112         right,
   (...)
    122         validate=validate,
    123     )
--&gt; 124     return op.get_result(copy=copy)

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\reshape\merge.py:775, in _MergeOperation.get_result(self, copy)
    771     self.left, self.right = self._indicator_pre_merge(self.left, self.right)
    773 join_index, left_indexer, right_indexer = self._get_join_info()
--&gt; 775 result = self._reindex_and_concat(
    776     join_index, left_indexer, right_indexer, copy=copy
    777 )
    778 result = result.__finalize__(self, method=self._merge_type)
    780 if self.indicator:

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\reshape\merge.py:729, in _MergeOperation._reindex_and_concat(self, join_index, left_indexer, right_indexer, copy)
    726 left = self.left[:]
    727 right = self.right[:]
--&gt; 729 llabels, rlabels = _items_overlap_with_suffix(
    730     self.left._info_axis, self.right._info_axis, self.suffixes
    731 )
    733 if left_indexer is not None:
    734     # Pinning the index here (and in the right code just below) is not
    735     #  necessary, but makes the `.take` more performant if we have e.g.
    736     #  a MultiIndex for left.index.
    737     lmgr = left._mgr.reindex_indexer(
    738         join_index,
    739         left_indexer,
   (...)
    744         use_na_proxy=True,
    745     )

File ~\anaconda3\envs\ml-env\lib\site-packages\pandas\core\reshape\merge.py:2458, in _items_overlap_with_suffix(left, right, suffixes)
   2455 lsuffix, rsuffix = suffixes
   2457 if not lsuffix and not rsuffix:
-&gt; 2458     raise ValueError(f"columns overlap but no suffix specified: {to_rename}")
   2460 def renamer(x, suffix):
   2461     """
   2462     Rename the left and right indices.
   2463 
   (...)
   2474     x : renamed column name
   2475     """

ValueError: columns overlap but no suffix specified: Index(['sample', 'expression'], dtype='object')</code></pre>
</div>
<p>We need to give the datasets suffixes so that there is no column name
collision.</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(new_mini, lsuffix<span class="op">=</span><span class="st">"_exp1"</span>, rsuffix<span class="op">=</span><span class="st">"_exp2"</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>        sample_exp1  expression_exp1 sample_exp2  expression_exp2
gene                                                             
Asl      GSM2545336             1170  GSM2545336            29016
Apod     GSM2545336            36194  GSM2545336            46560
Cyp2d22  GSM2545336             4060  GSM2545336             1823
Klk6     GSM2545336              287  GSM2545336            27428
Fcrls    GSM2545336               85  GSM2545336            45369
Slc2a4   GSM2545336              782  GSM2545336            31129
Exd2     GSM2545336             1619  GSM2545336            21478
Gjc2     GSM2545336              288  GSM2545336            34747
Plp1     GSM2545336            43217  GSM2545336            46074
Gnb4     GSM2545336             1071  GSM2545336            16370</code></pre>
</div>
<p>While this works, we now have duplicate <code>sample</code>
columns.</p>
<p>To avoid this, we could either <code>drop</code> the sample column in
one of the dataframes before joining, or use <code>merge</code> to join
on multiple columns and reset the index afterward.</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Option 1: Drop the column</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(rnaseq_mini.join(new_mini.drop(<span class="st">'sample'</span>,axis<span class="op">=</span><span class="dv">1</span>), lsuffix<span class="op">=</span><span class="st">"_exp1"</span>, rsuffix<span class="op">=</span><span class="st">"_exp2"</span>))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression_exp1  expression_exp2
gene                                                 
Asl      GSM2545336             1170            29016
Apod     GSM2545336            36194            46560
Cyp2d22  GSM2545336             4060             1823
Klk6     GSM2545336              287            27428
Fcrls    GSM2545336               85            45369
Slc2a4   GSM2545336              782            31129
Exd2     GSM2545336             1619            21478
Gjc2     GSM2545336              288            34747
Plp1     GSM2545336            43217            46074
Gnb4     GSM2545336             1071            16370</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Option 2: Merging on gene and sample</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.merge(rnaseq_mini, new_mini, on<span class="op">=</span>[<span class="st">"gene"</span>,<span class="st">"sample"</span>]))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>             sample  expression_x  expression_y
gene                                           
Asl      GSM2545336          1170         29016
Apod     GSM2545336         36194         46560
Cyp2d22  GSM2545336          4060          1823
Klk6     GSM2545336           287         27428
Fcrls    GSM2545336            85         45369
Slc2a4   GSM2545336           782         31129
Exd2     GSM2545336          1619         21478
Gjc2     GSM2545336           288         34747
Plp1     GSM2545336         43217         46074
Gnb4     GSM2545336          1071         16370</code></pre>
</div>
<p>Note that <code>pd.merge</code> does not throw an error when dealing
with duplicate column names, but instead automatically uses the suffixes
<code>_x</code> and <code>_y</code>. We could change these defaults with
the <code>suffixes</code> argument.</p>
</div>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></section><section id="aio-13-plotting"><p>Content from <a href="13-plotting.html">Visualizing data with matplotlib and seaborn</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/13-plotting.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I plot my data?</li>
<li>How can I save my plot for publishing?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Visualize list-type data using matplotlib.</li>
<li>Visualize dataframe data with matplotlib and seaborn.</li>
<li>Customize plot aesthetics.</li>
<li>Create publication-ready plots for a particular context.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>
<a href="https://matplotlib.org/" class="external-link"><code>matplotlib</code></a> is the
most widely used scientific plotting library in Python.</li>
<li>Plot data directly from a Pandas dataframe.</li>
<li>Select and transform data, then plot it.</li>
<li>Many styles of plot are available: see the <a href="https://python-graph-gallery.com/matplotlib/" class="external-link">Python Graph
Gallery</a> for more options.</li>
<li>Seaborn extends matplotlib and provides useful defaults and
integration with dataframes.</li>
</ul>
</div>
</div>
</div>
<section id="matplotlib-is-the-most-widely-used-scientific-plotting-library-in-python."><h2 class="section-heading">
<a href="https://matplotlib.org/" class="external-link"><code>matplotlib</code></a> is the
most widely used scientific plotting library in Python.<a class="anchor" aria-label="anchor" href="#matplotlib-is-the-most-widely-used-scientific-plotting-library-in-python."></a>
</h2>
<hr class="half-width">
<ul>
<li>Commonly use a sub-library called <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" class="external-link"><code>matplotlib.pyplot</code></a>.</li>
<li>The Jupyter Notebook will render plots inline by default.</li>
</ul>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code></pre>
</div>
<ul>
<li>Simple plots are then (fairly) simple to create.</li>
</ul>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>position <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>]</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>plt.plot(time, position)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Time (hr)'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Position (km)'</span>)</span></code></pre>
</div>
<figure><img src="fig/13_1_simpleplot.png" alt="" class="figure mx-auto d-block"><figcaption>Simple Position-Time Plot</figcaption></figure><div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="display-all-open-figures" class="callout-inner">
<h3 class="callout-title">Display All Open Figures<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>In our Jupyter Notebook example, running the cell should generate the
figure directly below the code. The figure is also included in the
Notebook document for future viewing. However, other Python environments
like an interactive Python session started from a terminal or a Python
script executed via the command line require an additional command to
display the figure.</p>
<p>Instruct <code>matplotlib</code> to show a figure:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<p>This command can also be used within a Notebook - for instance, to
display multiple figures if several are created by a single cell.</p>
</div>
</div>
</div>
</section><section id="plot-data-directly-from-a-pandas-dataframe."><h2 class="section-heading">Plot data directly from a <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" class="external-link"><code>Pandas dataframe</code></a>.<a class="anchor" aria-label="anchor" href="#plot-data-directly-from-a-pandas-dataframe."></a>
</h2>
<hr class="half-width">
<ul>
<li>We can also plot <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html" class="external-link">Pandas
dataframes</a>.</li>
<li>This implicitly uses <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.html#module-matplotlib.pyplot" class="external-link"><code>matplotlib.pyplot</code></a>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/ccb-hms/workbench-python-workshop/main/episodes/data/rnaseq.csv"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> pd.read_csv(url, index_col<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>rnaseq_df.loc[:,<span class="st">'expression'</span>].plot(kind <span class="op">=</span> <span class="st">'hist'</span>)</span></code></pre>
</div>
<figure><img src="fig/13_2_pandahist.png" alt="" class="figure mx-auto d-block"><figcaption>Expression histogram</figcaption></figure></section><section id="select-and-transform-data-then-plot-it."><h2 class="section-heading">Select and transform data, then plot it.<a class="anchor" aria-label="anchor" href="#select-and-transform-data-then-plot-it."></a>
</h2>
<hr class="half-width">
<ul>
<li>By default, <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html#pandas.DataFrame.plot" class="external-link"><code>DataFrame.plot</code></a>
plots with the rows as the X axis.</li>
<li>We can transform the data to plot multiple samples.</li>
</ul>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>expression_matrix <span class="op">=</span> rnaseq_df.pivot_table(columns <span class="op">=</span> <span class="st">"time"</span>, values <span class="op">=</span> <span class="st">"expression"</span>, index<span class="op">=</span><span class="st">"gene"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>expression_matrix.plot(kind<span class="op">=</span><span class="st">"box"</span>, logy<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<figure><img src="fig/13_3_timebox.png" alt="" class="figure mx-auto d-block"><figcaption>Boxplot by timepoint</figcaption></figure></section><section id="many-plot-options-are-available."><h2 class="section-heading">Many plot options are available.<a class="anchor" aria-label="anchor" href="#many-plot-options-are-available."></a>
</h2>
<hr class="half-width">
<ul>
<li>For example, we can use the <code>subplots</code> argument to
separate our plot automatically by column.</li>
</ul>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>expression_matrix.plot(kind<span class="op">=</span><span class="st">"hist"</span>, subplots<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<figure><img src="fig/13_4_timehist_sub.png" alt="" class="figure mx-auto d-block"><figcaption>Histogram by timpoint as subplots.</figcaption></figure></section><section id="data-can-also-be-plotted-by-calling-the-matplotlib-plot-function-directly."><h2 class="section-heading">Data can also be plotted by calling the <code>matplotlib</code>
<code>plot</code> function directly.<a class="anchor" aria-label="anchor" href="#data-can-also-be-plotted-by-calling-the-matplotlib-plot-function-directly."></a>
</h2>
<hr class="half-width">
<ul>
<li>The command is <code>plt.plot(x, y)</code>
</li>
<li>The color and format of markers can also be specified as an
additional optional argument e.g., <code>b-</code> is a blue line,
<code>g--</code> is a green dashed line.</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>expression_asl <span class="op">=</span> expression_matrix.loc[<span class="st">'Asl'</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_asl, <span class="st">'g--'</span>)</span></code></pre>
</div>
<figure><img src="fig/13_5_asltime.png" alt="" class="figure mx-auto d-block"><figcaption>Asl expression over time</figcaption></figure></section><section id="you-can-plot-many-sets-of-data-together."><h2 class="section-heading">You can plot many sets of data together.<a class="anchor" aria-label="anchor" href="#you-can-plot-many-sets-of-data-together."></a>
</h2>
<hr class="half-width">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Asl'</span>], <span class="st">'g--'</span>, label <span class="op">=</span> <span class="st">'Asl'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Apod'</span>], <span class="st">'r-'</span>, label <span class="op">=</span> <span class="st">'Apod'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Cyp2d22'</span>], <span class="st">'b-'</span>, label <span class="op">=</span> <span class="st">'Cyp2d22'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Klk6'</span>], <span class="st">'b--'</span>, label <span class="op">=</span> <span class="st">'Klk6'</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create legend.</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper left'</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Time (days)'</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Mean Expression'</span>)</span></code></pre>
</div>
<figure><img src="fig/13_6_multiline.png" alt="" class="figure mx-auto d-block"><figcaption>Multiple lines on the same plot with a legend</figcaption></figure><div id="callout2" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="adding-a-legend" class="callout-inner">
<h3 class="callout-title">Adding a Legend<a class="anchor" aria-label="anchor" href="#callout2"></a>
</h3>
<div class="callout-content">
<p>Often when plotting multiple datasets on the same figure it is
desirable to have a legend describing the data.</p>
<p>This can be done in <code>matplotlib</code> in two stages:</p>
<ul>
<li>Provide a label for each dataset in the figure:</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Asl'</span>], <span class="st">'g--'</span>, label <span class="op">=</span> <span class="st">'Asl'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>plt.plot(expression_matrix.loc[<span class="st">'Apod'</span>], <span class="st">'r-'</span>, label <span class="op">=</span> <span class="st">'Apod'</span>)</span></code></pre>
</div>
<ul>
<li>Instruct <code>matplotlib</code> to create the legend.</li>
</ul>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>plt.legend()</span></code></pre>
</div>
<p>By default matplotlib will attempt to place the legend in a suitable
position. If you would rather specify a position this can be done with
the <code>loc=</code> argument, e.g to place the legend in the upper
left corner of the plot, specify <code>loc='upper left'</code></p>
</div>
</div>
</div>
</section><section id="seaborn-provides-more-integrated-plotting-with-pandas-and-useful-defaults"><h2 class="section-heading">Seaborn provides more integrated plotting with Pandas and useful
defaults<a class="anchor" aria-label="anchor" href="#seaborn-provides-more-integrated-plotting-with-pandas-and-useful-defaults"></a>
</h2>
<hr class="half-width">
<p><a href="https://seaborn.pydata.org/index.html" class="external-link">Seaborn</a> is a
plotting library build ontop of <code>matplotlib.pyplot</code>. It
provides higher-level functions for creating high quality data
visualizations, and easily integrates with pandas dataframes.</p>
<p>Let’s see what a boxplot looks like using seaborn.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Use seaborn default styling</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>sns.set_theme()</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Add a log expression column with a pseudocount of 1</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>rnaseq_df <span class="op">=</span> rnaseq_df.assign(log_exp <span class="op">=</span> np.log2(rnaseq_df[<span class="st">"expression"</span>]<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data <span class="op">=</span> rnaseq_df, x <span class="op">=</span> <span class="st">"time"</span>, y <span class="op">=</span> <span class="st">"log_exp"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_7_simpbox.png" alt="" class="figure mx-auto d-block"><figcaption>A simple boxplot using seaborn</figcaption></figure><p>Instead of providing data to x and y directly, with seaborn we
instead give it a dataframe with the <code>data</code> argument, then
tell seaborn which columns of the dataframe we want to be used for each
axis.</p>
<p>Notice that we don’t have to give reshaped data to seaborn, it
aggregates our data for us. However, we still have to do more
complicated transformations ourselves.</p>
</section><section id="scenario-log-foldchange-scatterplot"><h2 class="section-heading">Scenario: log foldchange scatterplot<a class="anchor" aria-label="anchor" href="#scenario-log-foldchange-scatterplot"></a>
</h2>
<hr class="half-width">
<p>Imagine we want to compare how different genes behave at different
timepoints, and we are expecially interested if genes on any chromosome
or of a specific type stnad out. Let’s make a scatterplot of the
log-foldchange of our genes step-by-step.</p>
<div class="section level3">
<h3 id="prepare-the-data">Prepare the data<a class="anchor" aria-label="anchor" href="#prepare-the-data"></a>
</h3>
<p>First, we need to aggregate our data. We could join
<code>expression_matrix</code> with the columns we want from
<code>rnaseq_df</code>, but instead let’s re-pivot our data and bring
<code>gene_biotype</code> and <code>chromosome_name</code> along.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>time_matrix <span class="op">=</span> rnaseq_df.pivot_table(columns <span class="op">=</span> <span class="st">"time"</span>, values <span class="op">=</span> <span class="st">"log_exp"</span>, index<span class="op">=</span>[<span class="st">"gene"</span>, <span class="st">"chromosome_name"</span>, <span class="st">"gene_biotype"</span>])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>time_matrix <span class="op">=</span> time_matrix.reset_index(level<span class="op">=</span>[<span class="st">"chromosome_name"</span>, <span class="st">"gene_biotype"</span>])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_matrix)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time     chromosome_name    gene_biotype          0          4          8
gene                                                                     
AI504432               3          lncRNA  10.010544  10.085962   9.974814
AW046200               8          lncRNA   7.275920   7.226188   6.346325
AW551984               9  protein_coding   7.860330   7.264752   8.194396
Aamp                   1  protein_coding  12.159714  12.235069  12.198784
Abca12                 1  protein_coding   2.509810   2.336441   2.329376
...                  ...             ...        ...        ...        ...
Zkscan3               13  protein_coding  11.031923  10.946440  10.696602
Zranb1                 7  protein_coding  12.546820  12.646836  12.984985
Zranb3                 1  protein_coding   7.582472   7.611006   7.578124
Zscan22                7  protein_coding   9.239555   9.049392   8.689101
Zw10                   9  protein_coding  10.586751  10.598198  10.524456

[1474 rows x 5 columns]</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="dataframes-practice" class="callout-inner">
<h3 class="callout-title">Dataframes practice<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>Starting with <code>time_matrix</code>, add new columns for the log
foldchange from 0 to 4 hours and one with the log foldchange from 0 to 8
hours.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>We already have the mean log expression each gene at each timepoint.
We need to calculate the foldchange.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We have to use loc here since our column name is a number</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>time_matrix[<span class="st">"logfc_0_4"</span>] <span class="op">=</span> time_matrix.loc[:,<span class="dv">4</span>] <span class="op">-</span> time_matrix.loc[:,<span class="dv">0</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>time_matrix[<span class="st">"logfc_0_8"</span>] <span class="op">=</span> time_matrix.loc[:,<span class="dv">8</span>] <span class="op">-</span> time_matrix.loc[:,<span class="dv">0</span>]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_matrix)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time     chromosome_name    gene_biotype          0          4          8  \
gene                                                                        
AI504432               3          lncRNA  10.010544  10.085962   9.974814   
AW046200               8          lncRNA   7.275920   7.226188   6.346325   
AW551984               9  protein_coding   7.860330   7.264752   8.194396   
Aamp                   1  protein_coding  12.159714  12.235069  12.198784   
Abca12                 1  protein_coding   2.509810   2.336441   2.329376   
...                  ...             ...        ...        ...        ...   
Zkscan3               13  protein_coding  11.031923  10.946440  10.696602   
Zranb1                 7  protein_coding  12.546820  12.646836  12.984985   
Zranb3                 1  protein_coding   7.582472   7.611006   7.578124   
Zscan22                7  protein_coding   9.239555   9.049392   8.689101   
Zw10                   9  protein_coding  10.586751  10.598198  10.524456   

time      logfc_0_4  logfc_0_8  
gene                            
AI504432   0.075419  -0.035730  
AW046200  -0.049732  -0.929596  
AW551984  -0.595578   0.334066  
Aamp       0.075354   0.039070  
Abca12    -0.173369  -0.180433  
...             ...        ...  
Zkscan3   -0.085483  -0.335321  
Zranb1     0.100015   0.438165  
Zranb3     0.028535  -0.004348  
Zscan22   -0.190164  -0.550454  
Zw10       0.011447  -0.062295  

[1474 rows x 7 columns]</code></pre>
</div>
<p>Note that we could have first calculate foldchange and then log
transform it, but performing subtraction is more precise than division
in most programming languages, so log transforming first is
preferred.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="making-an-effective-scatterplot">Making an effective scatterplot<a class="anchor" aria-label="anchor" href="#making-an-effective-scatterplot"></a>
</h3>
<p>Now we can make a scatterplot of the foldchanges.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_8_scatter1.png" alt="" class="figure mx-auto d-block"><figcaption>Basic foldchange scatterplot.</figcaption></figure><p>Let’s now improve this plot step-by-step. First we can give the axes
more human-readable names than the dataframe’s column names.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_9_scatter2.png" alt="" class="figure mx-auto d-block"><figcaption>Axis labels changed</figcaption></figure><p>It is difficult to see see the density of genes due to there being so
many points. Lets make the points a little transparent to help with this
by changing their <code>alpha</code> level.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, alpha <span class="op">=</span> <span class="fl">0.4</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_10_scatter3.png" alt="" class="figure mx-auto d-block"><figcaption>Adjusted alpha level</figcaption></figure><p>Or we could make the points smaller by adjusting the <code>s</code>
argument.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, alpha <span class="op">=</span> <span class="fl">0.6</span>, s<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_11_scatter4.png" alt="" class="figure mx-auto d-block"><figcaption>Adjusted point size</figcaption></figure><p>Now let’s incorporate <code>gene_biotype</code>. To do this, we can
set the <code>hue</code> of the scatterplot to the column name. We’re
also going to make some more room for the plot by changing matplotlib’s
<code>rcParams</code>, which are the global plotting settings.</p>
<div id="callout3" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="global-plot-settings-with-rcparams" class="callout-inner">
<h3 class="callout-title">Global plot settings with
<code>rcParams</code><a class="anchor" aria-label="anchor" href="#callout3"></a>
</h3>
<div class="callout-content">
<p><code>rcParams</code> is a specialized dictionary used by
<code>matplotlib</code> to store all global plot settings. You can
change <code>rcParams</code> to set things like the</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plt.rcParams[<span class="st">'figure.figsize'</span>] <span class="op">=</span> [<span class="dv">12</span>, <span class="dv">8</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, alpha <span class="op">=</span> <span class="fl">0.6</span>, hue<span class="op">=</span><span class="st">"gene_biotype"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_12_scatter5.png" alt="" class="figure mx-auto d-block"><figcaption>Added gene_biotype as hue</figcaption></figure><p>It looks like we overwhelmingly have protein coding genes in the
dataset. Instead of plotting every biotype, let’s just plot whether or
not the genes are protein coding.</p>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge2"></a>
</h3>
<div class="callout-content">
<p>Create a new boolean column, <code>is_protein_coding</code> which
specifies whether or not each gene is protein coding.</p>
<p>Make a scatterplot where the <code>style</code> of the points varies
with <code>is_protein_coding</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>time_matrix[<span class="st">"is_protein_coding"</span>] <span class="op">=</span> time_matrix[<span class="st">"gene_biotype"</span>]<span class="op">==</span><span class="st">"protein_coding"</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_matrix)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>time     chromosome_name    gene_biotype          0          4          8  \
gene                                                                        
AI504432               3          lncRNA  10.010544  10.085962   9.974814   
AW046200               8          lncRNA   7.275920   7.226188   6.346325   
AW551984               9  protein_coding   7.860330   7.264752   8.194396   
Aamp                   1  protein_coding  12.159714  12.235069  12.198784   
Abca12                 1  protein_coding   2.509810   2.336441   2.329376   
...                  ...             ...        ...        ...        ...   
Zkscan3               13  protein_coding  11.031923  10.946440  10.696602   
Zranb1                 7  protein_coding  12.546820  12.646836  12.984985   
Zranb3                 1  protein_coding   7.582472   7.611006   7.578124   
Zscan22                7  protein_coding   9.239555   9.049392   8.689101   
Zw10                   9  protein_coding  10.586751  10.598198  10.524456   

time      logfc_0_4  logfc_0_8  is_protein_coding  
gene                                               
AI504432   0.075419  -0.035730              False  
AW046200  -0.049732  -0.929596              False  
AW551984  -0.595578   0.334066               True  
Aamp       0.075354   0.039070               True  
Abca12    -0.173369  -0.180433               True  
...             ...        ...                ...  
Zkscan3   -0.085483  -0.335321               True  
Zranb1     0.100015   0.438165               True  
Zranb3     0.028535  -0.004348               True  
Zscan22   -0.190164  -0.550454               True  
Zw10       0.011447  -0.062295               True  

[1474 rows x 8 columns]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, alpha <span class="op">=</span> <span class="fl">0.6</span>, style<span class="op">=</span><span class="st">"is_protein_coding"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_13_scatter6.png" alt="" class="figure mx-auto d-block"><figcaption>Style set to is_protein_coding</figcaption></figure>
</div>
</div>
</div>
</div>
<p>Now that hue is freed up, we can use it to encode for chromosome.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#This hit my personal stylistic limit, so I'm spread the call to multiple lines</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                alpha <span class="op">=</span> <span class="fl">0.6</span>, </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                style <span class="op">=</span> <span class="st">"is_protein_coding"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>                hue <span class="op">=</span> <span class="st">"chromosome_name"</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_14_scatter7.png" alt="" class="figure mx-auto d-block"><figcaption>Adding chromosome</figcaption></figure><p>There doesn’t seem to be any interesting pattern. Let’s go back to
just plotting whether or not the gene is protein coding, and do a little
more to clean up the plot.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This scales all text in the plot by 150%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>(font_scale <span class="op">=</span> <span class="fl">1.5</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data <span class="op">=</span> time_matrix, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                x <span class="op">=</span> <span class="st">"logfc_0_4"</span>, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">"logfc_0_8"</span>, </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>                alpha <span class="op">=</span> <span class="fl">0.6</span>, </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>                hue <span class="op">=</span> <span class="st">"is_protein_coding"</span>, </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>                <span class="co">#Sets the color pallete to map values to</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>                palette <span class="op">=</span> <span class="st">"mako"</span>)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"0min to 4min (log FC)"</span>)</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"0min to 8min (log FC)"</span>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a legend title and give it 2 columns</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>plt.legend(ncol <span class="op">=</span> <span class="dv">2</span>, title<span class="op">=</span><span class="st">"Is Protein Coding"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_15_scatter.png" alt="" class="figure mx-auto d-block"><figcaption>Cleaning up the plot</figcaption></figure>
</div>
</section><section id="heatmaps"><h2 class="section-heading">Heatmaps<a class="anchor" aria-label="anchor" href="#heatmaps"></a>
</h2>
<hr class="half-width">
<p>Seaborn also has great built-in support for heatmaps.</p>
<p>We can make heatmaps using <code>heatmap</code> or
<code>clustermap</code>, depending on if we want our data to be
clustered. Let’s take a look at the correlation matrix for our
samples.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sample_matrix <span class="op">=</span> rnaseq_df.pivot_table(columns <span class="op">=</span> <span class="st">"sample"</span>, values <span class="op">=</span> <span class="st">"log_exp"</span>, index<span class="op">=</span><span class="st">"gene"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_matrix.corr())</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sample      GSM2545336  GSM2545337  GSM2545338  GSM2545339  GSM2545340  \
sample                                                                   
GSM2545336    1.000000    0.972832    0.970700    0.979381    0.957032   
GSM2545337    0.972832    1.000000    0.992230    0.983430    0.972068   
GSM2545338    0.970700    0.992230    1.000000    0.981653    0.970098   
GSM2545339    0.979381    0.983430    0.981653    1.000000    0.961275   
GSM2545340    0.957032    0.972068    0.970098    0.961275    1.000000   
GSM2545341    0.957018    0.951554    0.950648    0.940430    0.979411   
GSM2545342    0.987712    0.980026    0.978246    0.974903    0.968918   
GSM2545343    0.948861    0.971826    0.973301    0.959663    0.988114   
GSM2545344    0.973664    0.987626    0.985568    0.980757    0.970084   
GSM2545345    0.943748    0.963804    0.963715    0.946226    0.984994   
GSM2545346    0.967839    0.961595    0.957958    0.955665    0.984706   
GSM2545347    0.958351    0.957363    0.955393    0.944399    0.982981   
GSM2545348    0.973558    0.992018    0.991673    0.982984    0.971515   
GSM2545349    0.948938    0.970211    0.971276    0.955778    0.988263   
GSM2545350    0.952803    0.973764    0.971737    0.960796    0.991229   
GSM2545351    0.991921    0.977846    0.973363    0.979936    0.962843   
GSM2545352    0.980437    0.989274    0.986909    0.983319    0.974796   
GSM2545353    0.974628    0.989940    0.989857    0.982648    0.971325   
GSM2545354    0.950621    0.972800    0.972051    0.959123    0.987231   
GSM2545362    0.986494    0.981655    0.978767    0.988969    0.962088   
GSM2545363    0.936577    0.962115    0.962892    0.940839    0.980774   
GSM2545380    0.988869    0.977962    0.975382    0.973683    0.965520   

sample      GSM2545341  GSM2545342  GSM2545343  GSM2545344  GSM2545345  ...  \
sample                                                                  ...   
GSM2545336    0.957018    0.987712    0.948861    0.973664    0.943748  ...   
GSM2545337    0.951554    0.980026    0.971826    0.987626    0.963804  ...   
GSM2545338    0.950648    0.978246    0.973301    0.985568    0.963715  ...   
GSM2545339    0.940430    0.974903    0.959663    0.980757    0.946226  ...   
GSM2545340    0.979411    0.968918    0.988114    0.970084    0.984994  ...   
GSM2545341    1.000000    0.967231    0.967720    0.958880    0.978091  ...   
GSM2545342    0.967231    1.000000    0.959923    0.980462    0.957994  ...   
GSM2545343    0.967720    0.959923    1.000000    0.965428    0.983462  ...   
GSM2545344    0.958880    0.980462    0.965428    1.000000    0.967708  ...   
GSM2545345    0.978091    0.957994    0.983462    0.967708    1.000000  ...   
GSM2545346    0.983828    0.973720    0.977478    0.962581    0.976912  ...   
GSM2545347    0.986949    0.968972    0.974794    0.962113    0.981518  ...   
GSM2545348    0.950961    0.980532    0.974156    0.986710    0.965095  ...   
GSM2545349    0.971058    0.960674    0.992085    0.966662    0.986116  ...   
GSM2545350    0.973947    0.964523    0.990495    0.970990    0.986146  ...   
GSM2545351    0.961638    0.989280    0.953650    0.979976    0.950451  ...   
GSM2545352    0.960888    0.985541    0.971954    0.990066    0.968691  ...   
GSM2545353    0.952424    0.982904    0.971896    0.989196    0.965436  ...   
GSM2545354    0.973524    0.961077    0.988615    0.972600    0.987209  ...   
GSM2545362    0.951186    0.982616    0.955145    0.983885    0.946956  ...   
GSM2545363    0.970944    0.952557    0.980218    0.965252    0.987553  ...   
GSM2545380    0.963521    0.990511    0.957152    0.978371    0.956813  ...   

sample      GSM2545348  GSM2545349  GSM2545350  GSM2545351  GSM2545352  \
sample                                                                   
GSM2545336    0.973558    0.948938    0.952803    0.991921    0.980437   
GSM2545337    0.992018    0.970211    0.973764    0.977846    0.989274   
GSM2545338    0.991673    0.971276    0.971737    0.973363    0.986909   
GSM2545339    0.982984    0.955778    0.960796    0.979936    0.983319   
GSM2545340    0.971515    0.988263    0.991229    0.962843    0.974796   
GSM2545341    0.950961    0.971058    0.973947    0.961638    0.960888   
GSM2545342    0.980532    0.960674    0.964523    0.989280    0.985541   
GSM2545343    0.974156    0.992085    0.990495    0.953650    0.971954   
GSM2545344    0.986710    0.966662    0.970990    0.979976    0.990066   
GSM2545345    0.965095    0.986116    0.986146    0.950451    0.968691   
GSM2545346    0.960875    0.978673    0.981337    0.971079    0.970621   
GSM2545347    0.958524    0.978974    0.980361    0.964883    0.967565   
GSM2545348    1.000000    0.971489    0.973997    0.977225    0.990905   
GSM2545349    0.971489    1.000000    0.990858    0.954456    0.971922   
GSM2545350    0.973997    0.990858    1.000000    0.959045    0.975085   
GSM2545351    0.977225    0.954456    0.959045    1.000000    0.983727   
GSM2545352    0.990905    0.971922    0.975085    0.983727    1.000000   
GSM2545353    0.992297    0.969924    0.972310    0.979291    0.991556   
GSM2545354    0.972151    0.990242    0.989228    0.956395    0.972436   
GSM2545362    0.980224    0.955712    0.959541    0.988591    0.984683   
GSM2545363    0.963226    0.983872    0.982521    0.943499    0.966163   
GSM2545380    0.979398    0.956662    0.961779    0.989683    0.985750   

sample      GSM2545353  GSM2545354  GSM2545362  GSM2545363  GSM2545380  
sample                                                                  
GSM2545336    0.974628    0.950621    0.986494    0.936577    0.988869  
GSM2545337    0.989940    0.972800    0.981655    0.962115    0.977962  
GSM2545338    0.989857    0.972051    0.978767    0.962892    0.975382  
GSM2545339    0.982648    0.959123    0.988969    0.940839    0.973683  
GSM2545340    0.971325    0.987231    0.962088    0.980774    0.965520  
GSM2545341    0.952424    0.973524    0.951186    0.970944    0.963521  
GSM2545342    0.982904    0.961077    0.982616    0.952557    0.990511  
GSM2545343    0.971896    0.988615    0.955145    0.980218    0.957152  
GSM2545344    0.989196    0.972600    0.983885    0.965252    0.978371  
GSM2545345    0.965436    0.987209    0.946956    0.987553    0.956813  
GSM2545346    0.963956    0.975386    0.961966    0.967480    0.973104  
GSM2545347    0.961118    0.977208    0.952988    0.972364    0.967319  
GSM2545348    0.992297    0.972151    0.980224    0.963226    0.979398  
GSM2545349    0.969924    0.990242    0.955712    0.983872    0.956662  
GSM2545350    0.972310    0.989228    0.959541    0.982521    0.961779  
GSM2545351    0.979291    0.956395    0.988591    0.943499    0.989683  
GSM2545352    0.991556    0.972436    0.984683    0.966163    0.985750  
GSM2545353    1.000000    0.971512    0.980850    0.962497    0.981468  
GSM2545354    0.971512    1.000000    0.958851    0.983429    0.957011  
GSM2545362    0.980850    0.958851    1.000000    0.942461    0.980664  
GSM2545363    0.962497    0.983429    0.942461    1.000000    0.951069  
GSM2545380    0.981468    0.957011    0.980664    0.951069    1.000000  

[22 rows x 22 columns]</code></pre>
</div>
<p>We can see the structure of these correlations in a clustered
heatmap.</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sns.clustermap(sample_matrix.corr())</span></code></pre>
</div>
<figure><img src="fig/13_16_heatmap1.png" alt="" class="figure mx-auto d-block"><figcaption>Default clustered heatmap</figcaption></figure><p>We can change the color mapping.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sns.clustermap(sample_matrix.corr(), cmap <span class="op">=</span> <span class="st">"magma"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_17_heatmap2.png" alt="" class="figure mx-auto d-block"><figcaption>Using magma colormap</figcaption></figure><p>We can add sample information to the plot by changing the index.
First we need to get the data.</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We select all of the columns related to the samples we might want to look at, group by sample, then aggregate by the most common value, or mode</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sample_data <span class="op">=</span> rnaseq_df[[<span class="st">'sample'</span>,<span class="st">'organism'</span>, <span class="st">'age'</span>, <span class="st">'sex'</span>, <span class="st">'infection'</span>,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">'strain'</span>, <span class="st">'time'</span>, <span class="st">'tissue'</span>, <span class="st">'mouse'</span>]].groupby(<span class="st">'sample'</span>).agg(pd.Series.mode)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sample_data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>	organism 	age 	sex 	infection 	strain 	time 	tissue 	mouse
sample 								
GSM2545336 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	14
GSM2545337 	Mus musculus 	8 	Female 	NonInfected 	C57BL/6 	0 	Cerebellum 	9
GSM2545338 	Mus musculus 	8 	Female 	NonInfected 	C57BL/6 	0 	Cerebellum 	10
GSM2545339 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	15
GSM2545340 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	18
GSM2545341 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	6
GSM2545342 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	5
GSM2545343 	Mus musculus 	8 	Male 	NonInfected 	C57BL/6 	0 	Cerebellum 	11
GSM2545344 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	22
GSM2545345 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	13
GSM2545346 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	23
GSM2545347 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	24
GSM2545348 	Mus musculus 	8 	Female 	NonInfected 	C57BL/6 	0 	Cerebellum 	8
GSM2545349 	Mus musculus 	8 	Male 	NonInfected 	C57BL/6 	0 	Cerebellum 	7
GSM2545350 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	1
GSM2545351 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	16
GSM2545352 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	21
GSM2545353 	Mus musculus 	8 	Female 	NonInfected 	C57BL/6 	0 	Cerebellum 	4
GSM2545354 	Mus musculus 	8 	Male 	NonInfected 	C57BL/6 	0 	Cerebellum 	2
GSM2545362 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	20
GSM2545363 	Mus musculus 	8 	Male 	InfluenzaA 	C57BL/6 	4 	Cerebellum 	12
GSM2545380 	Mus musculus 	8 	Female 	InfluenzaA 	C57BL/6 	8 	Cerebellum 	19</code></pre>
</div>
<p>Then we can join, set the index, and plot to see the sample
groupings.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>corr_df <span class="op">=</span> sample_matrix.corr()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>corr_df <span class="op">=</span> corr_df.join(sample_data)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>corr_df <span class="op">=</span> corr_df.set_index(<span class="st">"infection"</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>sns.clustermap(corr_df.iloc[:,:<span class="op">-</span><span class="dv">8</span>],</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>               cmap <span class="op">=</span> <span class="st">"magma"</span>)</span></code></pre>
</div>
<figure><img src="fig/13_18_heatmap3.png" alt="" class="figure mx-auto d-block"><figcaption>Heatmap with infection information</figcaption></figure><div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="creating-a-boxplot" class="callout-inner">
<h3 class="callout-title">Creating a boxplot<a class="anchor" aria-label="anchor" href="#challenge3"></a>
</h3>
<div class="callout-content">
<p>Visualize log mean gene expression by sample and some other variable
of choice in <code>rnaseq_df</code>. Take some time to try to get this
plot close to publication ready for either a poster, presentation, or
paper.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1">
  Give me a hint
  </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" data-bs-parent="#accordionHint1" aria-labelledby="headingHint1">
<div class="accordion-body">
<p>You may need want to rotate the x labels of the plot, which can be
done with <code>plt.xticks(rotation = degrees)</code> where
<code>degrees</code> is the number of degrees you wish to rotate by.</p>
</div>
</div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2">
  Give me a hint
  </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" data-bs-parent="#accordionHint2" aria-labelledby="headingHint2">
<div class="accordion-body">
<p>Check out some of the details of <code>sns.set_context()</code> <a href="https://seaborn.pydata.org/tutorial/aesthetics.html#scaling-plot-elements" class="external-link">here</a>.
Seaborn has useful size default for different figure types.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>Your plot will of course vary, but here are some examples of what we
can do:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"talk"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Things like this will depend on your screen resolution and size</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.rcParams['figure.figsize'] = [8, 6]</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.rcParams['figure.dpi'] = 300</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#sns.set(font_scale=1.25)</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>sns.set_palette(sns.color_palette(<span class="st">"rocket_r"</span>, n_colors<span class="op">=</span><span class="dv">3</span>))</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>sns.boxplot(rnaseq_df, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="st">"sample"</span>, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="st">"log_exp"</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>            hue <span class="op">=</span> <span class="st">"time"</span>, </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>            dodge<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)<span class="op">;</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Log Expression"</span>)</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">""</span>)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co"># See this thread for more discussion of legend positions: https://stackoverflow.com/a/43439132</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">'Days Post Infection'</span>, loc<span class="op">=</span>(<span class="fl">1.04</span>, <span class="fl">0.5</span>), labels<span class="op">=</span>[<span class="st">'0 days'</span>,<span class="st">'4 days'</span>,<span class="st">'8 days'</span>])</span></code></pre>
</div>
<figure><img src="fig/13_16_challenge1.png" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sns.set_palette([<span class="st">"#A51C30"</span>,<span class="st">"#8996A0"</span>])</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>sns.violinplot(rnaseq_df, </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="st">"sample"</span>, </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="st">"log_exp"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>            hue <span class="op">=</span> <span class="st">"infection"</span>, </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>            dodge<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)<span class="op">;</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>plt.legend(loc <span class="op">=</span> <span class="st">'lower right'</span>)</span></code></pre>
</div>
<figure><img src="fig/13_17_challenge2.png" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">"talk"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>pal <span class="op">=</span> sns.color_palette(<span class="st">"blend:#A51C30,#FFDB6D"</span>, <span class="dv">24</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(rnaseq_df,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>            kind <span class="op">=</span> <span class="st">"box"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="st">"sample"</span>, </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="st">"log_exp"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>            col <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>            dodge<span class="op">=</span><span class="va">False</span>, </span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>            hue <span class="op">=</span> <span class="st">"sample"</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>            palette <span class="op">=</span> pal,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>            sharex <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> axes <span class="kw">in</span> g.axes.flat:</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    _ <span class="op">=</span> axes.set_xticklabels(axes.get_xticklabels(), rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>g.set_axis_labels(<span class="st">""</span>, <span class="st">"Log Expression"</span>)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>plt.subplots_adjust(wspace<span class="op">=</span><span class="fl">0.1</span>)</span></code></pre>
</div>
<figure><img src="fig/13_18_challenge3.png" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
</div>
<div id="callout4" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="saving-your-plot-to-a-file" class="callout-inner">
<h3 class="callout-title">Saving your plot to a file<a class="anchor" aria-label="anchor" href="#callout4"></a>
</h3>
<div class="callout-content">
<p>If you are satisfied with the plot you see you may want to save it to
a file, perhaps to include it in a publication. There is a function in
the matplotlib.pyplot module that accomplishes this: <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.savefig.html" class="external-link">savefig</a>.
Calling this function, e.g. with</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'my_figure.png'</span>)</span></code></pre>
</div>
<p>will save the current figure to the file <code>my_figure.png</code>.
The file format will automatically be deduced from the file name
extension (other formats are pdf, ps, eps and svg).</p>
<p>Note that functions in <code>plt</code> refer to a global figure
variable and after a figure has been displayed to the screen (e.g. with
<code>plt.show</code>) matplotlib will make this variable refer to a new
empty figure. Therefore, make sure you call <code>plt.savefig</code>
before the plot is displayed to the screen, otherwise you may find a
file with an empty plot.</p>
<p>When using dataframes, data is often generated and plotted to screen
in one line. In addition to using <code>plt.savefig</code>, we can save
a reference to the current figure in a local variable (with
<code>plt.gcf</code>) and call the <code>savefig</code> class method
from that variable to save the figure to file.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>data.plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.gcf() <span class="co"># get current figure</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>fig.savefig(<span class="st">'my_figure.png'</span>)</span></code></pre>
</div>
<p>This supports most common image formats such as <code>png</code>,
<code>svg</code>, <code>pdf</code>, etc.</p>
</div>
</div>
</div>
<div id="callout5" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="making-your-plots-accessible" class="callout-inner">
<h3 class="callout-title">Making your plots accessible<a class="anchor" aria-label="anchor" href="#callout5"></a>
</h3>
<div class="callout-content">
<p>Whenever you are generating plots to go into a paper or a
presentation, there are a few things you can do to make sure that
everyone can understand your plots. * Always make sure your text is
large enough to read. Use the <code>fontsize</code> parameter in
<code>xlabel</code>, <code>ylabel</code>, <code>title</code>, and
<code>legend</code>, and <a href="https://matplotlib.org/2.1.1/api/_as_gen/matplotlib.pyplot.tick_params.html" class="external-link"><code>tick_params</code>
with <code>labelsize</code></a> to increase the text size of the numbers
on your axes. * Similarly, you should make your graph elements easy to
see. Use <code>s</code> to increase the size of your scatterplot markers
and <code>linewidth</code> to increase the sizes of your plot lines. *
Using color (and nothing else) to distinguish between different plot
elements will make your plots unreadable to anyone who is colorblind, or
who happens to have a black-and-white office printer. For lines, the
<code>linestyle</code> parameter lets you use different types of lines.
For scatterplots, <code>marker</code> lets you change the shape of your
points. If you’re unsure about your colors, you can use <a href="https://www.color-blindness.com/coblis-color-blindness-simulator/" class="external-link">Coblis</a>
or <a href="https://colororacle.org/" class="external-link">Color Oracle</a> to simulate what
your plots would look like to those with colorblindness.</p>
</div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-14-sklearn"><p>Content from <a href="14-sklearn.html">Perform machine learning with Scikit-learn</a></p>
<hr>
<p> Last updated on 2023-04-22 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/14-sklearn.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is Scikit-learn</li>
<li>How is Scikit-learn used for a typical machine learning
workflow?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explore the <code>sklearn</code> library.</li>
<li>Walk through a typical machine learning workflow in
Scikit-learn.</li>
<li>Examine machine learning evaluation plots.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>Scikit-learn is a popular package for machine learning in
Python.</li>
<li>Scikit-learn has a variety of useful functionality for creating
predictive models.</li>
<li>A machine learning workflow involves preprocessing, model selection,
training, and evaluation.</li>
</ul>
</div>
</div>
</div>
<section id="scikit-learn-is-a-popular-package-for-machine-learning-in-python."><h2 class="section-heading">Scikit-learn is a popular package for machine learning in
Python.<a class="anchor" aria-label="anchor" href="#scikit-learn-is-a-popular-package-for-machine-learning-in-python."></a>
</h2>
<hr class="half-width">
<p><a href="https://scikit-learn.org/stable/" class="external-link">Scikit-learn</a> (also
called <code>sklearn</code>) is a popular machine learning package in
Python. It has a wide variety of functionality which aid in creating,
training, and evaluating machine learning models.</p>
<p>Some of its functionality includes:</p>
<ul>
<li>Classification: predicting a category such as active/inactive or
what animal a picture is of.</li>
<li>Regression: predicting a quantity such as temperature, survival
time, or age.<br>
</li>
<li>Clustering: determining groupings such as trying to create groups
based on the structure of the data, such as disease subtypes or
celltypes.</li>
<li>Dimentionality reduction: projecting data from a high-dimensional to
a low-dimensional space for visualization and exploration. PCA, UMAP,
and TSNE are all dimensionality reduction methods.</li>
<li>Model selection: choosing which model to use. This module includes
methods for splitting data for training, evaluation metrics,
hyperparameter optimization, and more.</li>
<li>Preprocessing: cleaning and transforming data for machine learning.
This includes imputing missing data, normalization, denoising, and
extracting features (for instance, creating a “season” feature from
dates, or creating a “brightness” feature from an image).</li>
</ul>
<p>Let’s import the modules and other packages we need.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> model_selection, ensemble, metrics</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>sns.set_theme(style<span class="op">=</span><span class="st">'ticks'</span>)</span></code></pre>
</div>
</section><section id="data-description"><h2 class="section-heading">Data description<a class="anchor" aria-label="anchor" href="#data-description"></a>
</h2>
<hr class="half-width">
<p>The data we will be using for this lesson comes from <a href="https://academic.oup.com/nar/article/46/10/4903/4990019?login=false" class="external-link">Lee
et al, 2018</a>. In order to achieve replicative immortality, human
cancer cells need to activate a telomere maintenance mechanism (TMM).
Cancer cells typically use either the enzyme telomerase, or the
Alternative Lengthening of Telomeres (ALT) pathway. The machine learning
task we will be exporing is to create a model which can use a cancer
cell’s telomere repeat composition to predict whether or not a tumor
cell is using the ALT pathway.</p>
<p>More formally, we are predicting a <em>binary variable</em> for each
sample, whether the TMM is using the ALT pathway (positive) or not
(negative). In machine learning we refer to this as the <strong>target
variable</strong> or <strong>class</strong> of the data. We have set of
columns in the dataset which indicate the six-mer composition of the
sample’s telomeres by percent.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/HMS-Data-Club/python-environments/main/data/telomere_ALT/telomere.csv"</span>, sep<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>num_row <span class="op">=</span> data.shape[<span class="dv">0</span>]     <span class="co"># number of samples in the dataset</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>num_col <span class="op">=</span> data.shape[<span class="dv">1</span>]     <span class="co"># number of features in the dataset (plus the label column)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>     TTAGGG  ATAGGG  CTAGGG  GTAGGG  TAAGGG  TCAGGG  TGAGGG  TTCGGG  TTGGGG  \
0    94.846   0.019   0.430   0.422   0.216   0.544   1.762   0.535   0.338   
1    94.951   0.011   0.241   0.491   0.223   0.317   1.351   0.818   0.702   
2    94.889   0.043   0.439   0.478   0.355   0.316   1.151   0.625   0.313   
3    94.202   0.017   0.252   0.509   0.396   0.548   1.877   0.856   0.440   
4    96.368   0.011   0.078   0.131   0.015   0.306   1.525   1.165   0.126   
..      ...     ...     ...     ...     ...     ...     ...     ...     ...   
156  98.608   0.001   0.100   0.219   0.000   0.196   0.421   0.101   0.229   
157  98.176   0.000   0.145   0.304   0.088   0.158   0.446   0.181   0.292   
158  99.393   0.000   0.017   0.155   0.000   0.030   0.190   0.065   0.073   
159  98.742   0.003   0.077   0.169   0.002   0.091   0.304   0.211   0.206   
160  98.738   0.009   0.138   0.113   0.000   0.371   0.186   0.080   0.163   

     TTTGGG  ...  TTACGG  TTATGG  TTAGAG  TTAGCG  TTAGTG  TTAGGA  TTAGGC  \
0     0.068  ...   0.028   0.118   0.153   0.000   0.049   0.060   0.033   
1     0.090  ...   0.024   0.125   0.080   0.024   0.035   0.155   0.030   
2     0.079  ...   0.041   0.253   0.195   0.032   0.043   0.161   0.047   
3     0.097  ...   0.053   0.110   0.125   0.000   0.043   0.069   0.029   
4     0.000  ...   0.014   0.099   0.022   0.000   0.019   0.026   0.009   
..      ...  ...     ...     ...     ...     ...     ...     ...     ...   
156   0.000  ...   0.019   0.020   0.016   0.000   0.004   0.025   0.011   
157   0.023  ...   0.012   0.013   0.043   0.000   0.005   0.009   0.015   
158   0.000  ...   0.008   0.014   0.009   0.000   0.003   0.012   0.013   
159   0.000  ...   0.011   0.053   0.047   0.000   0.004   0.019   0.014   
160   0.000  ...   0.015   0.049   0.023   0.000   0.021   0.037   0.021   

     TTAGGT  rel_TL  TMM  
0     0.089   -0.89    -  
1     0.093   -0.39    -  
2     0.185   -1.66    -  
3     0.110   -1.73    -  
4     0.014    0.21    -  
..      ...     ...  ...  
156   0.001    2.00    +  
157   0.013    0.98    +  
158   0.003    1.29    +  
159   0.007    1.24    +  
160   0.009    1.71    +  

[161 rows x 21 columns]</code></pre>
</div>
</section><section id="machine-learning-workflows-involves-preprocessing-model-selection-training-and-evaluation."><h2 class="section-heading">Machine learning workflows involves preprocessing, model selection,
training, and evaluation.<a class="anchor" aria-label="anchor" href="#machine-learning-workflows-involves-preprocessing-model-selection-training-and-evaluation."></a>
</h2>
<hr class="half-width">
<p>Before we can use a model to predict ALT pathway activity, however,
we have to do three steps: 1. <strong>Preprocessing</strong>: Gather
data and get it ready for use in the machine learning model. 2.
<strong>Learning/Training</strong>: Choose a machine learning model and
train it on the data. 3. <strong>Evaluation</strong>: Measure how well
the model performed. Can we trust the predictions of the trained
model?</p>
<figure><img src="fig/14_ml_workflow.png" alt="" class="figure mx-auto d-block"><figcaption>Supervised Machine Learning Workflow</figcaption></figure><p>In this case, our data is already preprocessed. In order to perform
<strong>training</strong>, we need to split our data into a
<strong>training set</strong> and a <strong>testing set</strong>.</p>
<figure><img src="fig/14_trainingset.png" alt="Splitting a training set" class="figure mx-auto d-block">.</figure><p>Scikit-learn has useful built-in functions for splitting data inside
of its <code>model_selection</code> module. Here, we use
<code>train_test_split</code>. The convention in Scikit-learn (as well
as more generally in machine learning) is to call our feactures
<code>X</code> and our target variable <code>y</code>.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> data.iloc[:, <span class="dv">0</span>: num_col<span class="op">-</span><span class="dv">1</span>]    <span class="co"># feature columns</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">'TMM'</span>]                   <span class="co"># label column</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> <span class="op">\</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    model_selection.train_test_split(X, y, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                                     test_size<span class="op">=</span><span class="fl">0.2</span>,      <span class="co"># reserve 20 percent data for testing</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                                     stratify<span class="op">=</span>y,         <span class="co"># stratified sampling</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                                     random_state<span class="op">=</span><span class="dv">0</span>) <span class="co"># random seed</span></span></code></pre>
</div>
<p>Setting a test set aside from the training and validation sets from
the beginning, and only using it once for a final evaluation, is very
important to be able to properly evaluate how well a machine learning
algorithm learned. If this <strong>data leakage</strong> occurs it
contaminates the evaluation, making the evaluation not accurately
reflect how well the model actually performs. Letting the machine
learning method learn from the test set can be seen as giving a student
the answers to an exam; once a student sees any exam answers, their exam
score will no longer reflect their true understanding of the
material.</p>
<p>In other words, improper data splitting and data leakage means that
<em>we will not know if our model works or not</em>.</p>
<p>Now that we have our data split up, we can select and train our
model, in machine learning tasks like this also called our
<strong>classifier</strong>. We want to further split our training data
into a traiing set and validation set so that we can freely explore
different models before making our final choice.</p>
<figure><img src="fig/14_holdout.png" alt="" class="figure mx-auto d-block"><figcaption>Holdout validation strategy</figcaption></figure><p>However, in this case we are simply going to go with a <strong>random
forest classifier</strong>. <a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html" class="external-link">Random
forests</a> are a fast classifier which tends to perform well, and is
often reccomended as a first classifier to try.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="definitions" class="callout-inner">
<h3 class="callout-title">Definitions<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>Training set - The training set is a part of the original dataset
that trains or fits the model. This is the data that the model uses to
learn patterns and set the model parameters.</p>
<p>Validation set - Part of the training set is used to validate that
the fitted model works on new data. This is not the final evaluation of
the model. This step is used to change hyperparameters and then train
the model again.</p>
<p>Test set - The test set checks how well we expect the model to work
on new data in the future. The test set is used in the final phase of
the workflow, and it evaluates the final model. It can only be used one
time, and the model cannot be adjusted after using it.</p>
<p>Parameters - These are the aspects of a machine learning model that
are learned from the training data. The parameters define the prediction
rules of the trained model.</p>
<p>Hyperparameters - These are the user-specified settings of a machine
learning model. Each machine learning method has different
hyperparameters, and they control various trade-offs which change how
the model learns. Hyperparameters control parts of a machine learning
method such as how much emphasis the method should place on being
perfectly correct versus becoming overly complex, how fast the method
should learn, the type of mathematical model the method should use for
learning, and more.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="model-creation">Model Creation<a class="anchor" aria-label="anchor" href="#model-creation"></a>
</h3>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>rf <span class="op">=</span> ensemble.RandomForestClassifier(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    n_estimators <span class="op">=</span> <span class="dv">10</span>,           <span class="co"># 10 random trees in the forest</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    criterion <span class="op">=</span> <span class="st">'entropy'</span>,       <span class="co"># use entropy as the measure of uncertainty</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    max_depth <span class="op">=</span> <span class="dv">3</span>,               <span class="co"># maximum depth of each tree is 3</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    min_samples_split <span class="op">=</span> <span class="dv">5</span>,       <span class="co"># generate a split only when there are at least 5 samples at current node</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    class_weight <span class="op">=</span> <span class="st">'balanced'</span>,   <span class="co"># class weight is inversely proportional to class frequencies</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    random_state <span class="op">=</span> <span class="dv">0</span>)</span></code></pre>
</div>
<p>Each model in Scikit-learn has a wide variety of possible
<strong>hyperparameters</strong> to choose from. These can be thought of
as the settings, or knobs and dials, of the model.</p>
<p>Once we’ve created the model, in Scikit-learn we train it using the
<code>fit</code> method on the training data. We can then look at its
score on the testing data using the <code>score</code> method.</p>
</div>
<div class="section level3">
<h3 id="training">Training<a class="anchor" aria-label="anchor" href="#training"></a>
</h3>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Refit the classifier using the full training set</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>rf <span class="op">=</span> rf.fit(X_train, y_train)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute classifier's accuracy on the test set</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>test_accuracy <span class="op">=</span> rf.score(X_test, y_test)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Test accuracy: </span><span class="sc">{</span>test_accuracy<span class="sc">: 0.3f}</span><span class="ss">'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Test accuracy: 0.848</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="evaluation">Evaluation<a class="anchor" aria-label="anchor" href="#evaluation"></a>
</h3>
<p>This means that we predicted the TMM correctly in about 85% of our
test samples. As oppsed to the score, we can also directly get each of
the model’s predictions. We can either use <code>predict</code> to get a
single prediction or <code>predict_proba</code> to get a probablistic
confidence score.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict labels for the test set</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> rf.predict(X_test)             <span class="co"># Solid prediction</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>y_prob <span class="op">=</span> rf.predict_proba(X_test)  <span class="co"># Soft prediction</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(y)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(y_prob)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>['+' '+' '+' '-' '-' '+' '+' '-' '-' '-' '+' '-' '+' '-' '-' '+' '-' '-'
 '-' '-' '+' '-' '-' '+' '-' '-' '-' '-' '-' '-' '+' '+' '+']
[[0.81355661 0.18644339]
 [0.85375    0.14625   ]
 [0.72272654 0.27727346]
 [0.03321429 0.96678571]
 [0.04132653 0.95867347]
 [0.98434442 0.01565558]
 [0.99230769 0.00769231]
 [0.09321429 0.90678571]
 [0.0225     0.9775    ]
 [0.08788497 0.91211503]
 [0.99238014 0.00761986]
 [0.         1.        ]
 [0.87857143 0.12142857]
 [0.0225     0.9775    ]
 [0.1        0.9       ]
 [0.52973416 0.47026584]
 [0.17481069 0.82518931]
 [0.29859926 0.70140074]
 [0.43977573 0.56022427]
 [0.         1.        ]
 [0.80117647 0.19882353]
 [0.03061224 0.96938776]
 [0.22071729 0.77928271]
 [0.72899028 0.27100972]
 [0.0975     0.9025    ]
 [0.         1.        ]
 [0.03061224 0.96938776]
 [0.         1.        ]
 [0.45651511 0.54348489]
 [0.1        0.9       ]
 [0.81355661 0.18644339]
 [0.85375    0.14625   ]
 [0.88516484 0.11483516]]</code></pre>
</div>
<p>Instead of simple metrics such as accuracy which can be misleading,
we can also look at and plot more complex metrics such as the receiver
operating characteristic (ROC) curve or the precision recall (PR)
curve.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the ROC and PR curves for the test set</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fpr, tpr, _ <span class="op">=</span> metrics.roc_curve(y_test, y_prob[:, <span class="dv">0</span>], pos_label<span class="op">=</span><span class="st">'+'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>precision_plus, recall_plus, _ <span class="op">=</span> metrics.precision_recall_curve(y_test, y_prob[:, <span class="dv">0</span>], pos_label<span class="op">=</span><span class="st">'+'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>precision_minus, recall_minus, _ <span class="op">=</span> metrics.precision_recall_curve(y_test, y_prob[:, <span class="dv">1</span>], pos_label<span class="op">=</span><span class="st">'-'</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the AUROC and AUPRCs for the test set</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>auroc <span class="op">=</span> metrics.auc(fpr, tpr)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>auprc_plus <span class="op">=</span> metrics.auc(recall_plus, precision_plus)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>auprc_minus <span class="op">=</span> metrics.auc(recall_minus, precision_minus)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the ROC curve for the test set</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>plt.plot(fpr, tpr, label<span class="op">=</span><span class="st">'test (area = </span><span class="sc">%.3f</span><span class="st">)'</span> <span class="op">%</span> auroc)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">1</span>], linestyle<span class="op">=</span><span class="st">'--'</span>, color<span class="op">=</span>(<span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>))</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>], linestyle<span class="op">=</span><span class="st">'--'</span>, color<span class="op">=</span>(<span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>))</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>plt.xlim([<span class="op">-</span><span class="fl">0.05</span>, <span class="fl">1.05</span>])</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>plt.ylim([<span class="op">-</span><span class="fl">0.05</span>, <span class="fl">1.05</span>])</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'FPR'</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'TPR'</span>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'lower right'</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'ROC curve'</span>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the PR curve for the test set</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>plt.plot(recall_plus, precision_plus, label<span class="op">=</span><span class="st">'positive class (area = </span><span class="sc">%.3f</span><span class="st">)'</span> <span class="op">%</span> auprc_plus)</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>plt.plot(recall_minus, precision_minus, label<span class="op">=</span><span class="st">'negative class (area = </span><span class="sc">%.3f</span><span class="st">)'</span> <span class="op">%</span> auprc_minus)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>], linestyle<span class="op">=</span><span class="st">'--'</span>, color<span class="op">=</span>(<span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>))</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>plt.xlim([<span class="op">-</span><span class="fl">0.05</span>, <span class="fl">1.05</span>])</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>plt.ylim([<span class="op">-</span><span class="fl">0.05</span>, <span class="fl">1.05</span>])</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'recall'</span>)</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'precision'</span>)</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'lower left'</span>)</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Precision-recall curve'</span>)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<figure><img src="fig/14_roccurve.png" alt="" class="figure mx-auto d-block"><figcaption>ROC curve</figcaption></figure><figure><img src="fig/14_prcurve.png" alt="" class="figure mx-auto d-block"><figcaption>PR curve</figcaption></figure><p>Finally, we can also look at the <strong>confusion matrix</strong>,
another useful summary of model performance.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the confusion matrix for the test set</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>cm <span class="op">=</span> metrics.confusion_matrix(y_test, y)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the confusion matrix for the test set</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>plt.matshow(cm, interpolation<span class="op">=</span><span class="st">'nearest'</span>, cmap<span class="op">=</span>plt.cm.Blues, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>plt.xticks(np.arange(<span class="dv">2</span>), (<span class="st">'+'</span>, <span class="st">'-'</span>))</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>plt.yticks(np.arange(<span class="dv">2</span>), (<span class="st">'+'</span>, <span class="st">'-'</span>))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        plt.text(j, i, cm[i, j], ha<span class="op">=</span><span class="st">'center'</span>, va<span class="op">=</span><span class="st">'center'</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Predicted label'</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'True label'</span>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
<figure><img src="fig/14_confusion.png" alt="" class="figure mx-auto d-block"><figcaption>Confusion Matrix</figcaption></figure>
</div>
</section><section id="resources-for-learning-more"><h2 class="section-heading">Resources for learning more<a class="anchor" aria-label="anchor" href="#resources-for-learning-more"></a>
</h2>
<hr class="half-width">
<p>The <a href="https://developers.google.com/machine-learning/glossary" class="external-link">Google
machine learning glossary</a> and <a href="https://github.com/carpentries-incubator/ml4bio-workshop/tree/gh-pages/guide" class="external-link">ML4Bio
guides</a> define common machine learning terms.</p>
<p>The <a href="https://scikit-learn.org/stable/tutorial/index.html" class="external-link">scikit-learn
tutorials</a> provide a Python-based introduction to machine learning.
There is also a third-party <a href="https://github.com/jakevdp/sklearn_tutorial" class="external-link">scikit-learn
tutorial</a> and a Carpentries <a href="https://carpentries-incubator.github.io/machine-learning-novice-sklearn/" class="external-link">lesson</a>.</p>
<p>The book Python Machine Learning has machine learning <a href="https://github.com/rasbt/python-machine-learning-book-3rd-edition" class="external-link">example
code</a>.</p>
<p>The <a href="https://course.elementsofai.com/" class="external-link">Elements of AI</a>
course presents general introductory materials to machine learning and
related topics.</p>
<p><a href="https://galaxyproject.org/community/machine-learning/" class="external-link">Galaxy
ML</a> provides access to classification and regression workflows
through the Galaxy interface.</p>
<p>You can find additional resources at these links for <a href="https://github.com/carpentries-incubator/ml4bio-workshop/issues/43" class="external-link">beginners</a>
and <a href="https://github.com/carpentries-incubator/ml4bio-workshop/issues/94" class="external-link">intermediate
users</a>.</p>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></section><section id="aio-15-biomart"><p>Content from <a href="15-biomart.html">ID mapping using mygene</a></p>
<hr>
<p> Last updated on 2023-04-27 | 
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/episodes/15-biomart.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I get gene annotations in Python?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Explore the <code>mygene</code> library.</li>
<li>Access and merge gene annotations using <code>mygene</code>.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul>
<li>
<code>mygene</code> is Python module which allows access to a gene
annotation database.</li>
<li>You can query <code>mygene</code> with multiple identifiers using
<code>querymany</code>.</li>
</ul>
</div>
</div>
</div>
<section id="installing-mygene-from-bioconda"><h2 class="section-heading">Installing mygene from bioconda<a class="anchor" aria-label="anchor" href="#installing-mygene-from-bioconda"></a>
</h2>
<hr class="half-width">
<p>ID mapping is a very common, often not fun, task for every
bioinformatician. Different datasets and tools often use different sets
of biological identifiers. Our goal is to take some list of gene symbols
other gene identifiers and convert them to some other set of identifiers
to facilitate some analysis.</p>
<p><strong>mygene</strong> is a convenient Python module to access <a href="http://mygene.info" class="external-link">MyGene.info</a> gene query web services.</p>
<p>Mygene is a part of a family of <a href="https://biothings.io/" class="external-link">biothings API</a> services which also has
modules for chemical, diseases, genetic variances, and taxonomy. All of
these modules use a simlar Python interface.</p>
<p>Mygene can be installed using conda, but we it exists on a separate
set of biomedical packages called <a href="https://bioconda.github.io/" class="external-link">bioconda</a>. We access this using
the <code>-c</code> flag which tells conda the <em>channel</em> we wish
to search.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> conda install <span class="at">-c</span> bioconda mygene</span></code></pre>
</div>
<p>Once installed, we can import <code>mygene</code> and create a
<code>MyGeneInfo</code> object, which is used for accessing and
downloading genetic annotations.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> mygene</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>mg <span class="op">=</span> mygene.MyGeneInfo()</span></code></pre>
</div>
<div class="section level3">
<h3 id="mapping-gene-symbols">Mapping gene symbols<a class="anchor" aria-label="anchor" href="#mapping-gene-symbols"></a>
</h3>
<p>Suppose <strong>xli</strong> is a list of gene symbols we want to
convert to entrez gene ids:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>xli <span class="op">=</span> [<span class="st">'DDX26B'</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">'CCDC83'</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="st">'MAST3'</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">'FLOT1'</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">'RPL11'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">'ZDHHC20'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">'LUC7L3'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">'SNORD49A'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">'CTSH'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="st">'ACOT8'</span>]</span></code></pre>
</div>
<p>We can then use the <strong>querymany</strong> method to get entrez
gene ids for this list, telling it your input is “symbol” with the
<code>scopes</code> argument, and you want “entrezgene” (Entrez gene
ids) back with the <code>fields</code> argument.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>out <span class="op">=</span> mg.querymany(xli, scopes<span class="op">=</span><span class="st">'symbol'</span>, fields<span class="op">=</span><span class="st">'entrezgene'</span>, species<span class="op">=</span><span class="st">'human'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(out)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>querying 1-10...done.
Finished.
1 input query terms found no hit:
	['DDX26B']
Pass "returnall=True" to return complete lists of duplicate or missing query terms.
[{'query': 'DDX26B', 'notfound': True}, {'query': 'CCDC83', '_id': '220047', '_score': 18.026102, 'entrezgene': '220047'}, {'query': 'MAST3', '_id': '23031', '_score': 18.120222, 'entrezgene': '23031'}, {'query': 'FLOT1', '_id': '10211', '_score': 18.43404, 'entrezgene': '10211'}, {'query': 'RPL11', '_id': '6135', '_score': 16.711576, 'entrezgene': '6135'}, {'query': 'ZDHHC20', '_id': '253832', '_score': 18.165747, 'entrezgene': '253832'}, {'query': 'LUC7L3', '_id': '51747', '_score': 17.696375, 'entrezgene': '51747'}, {'query': 'SNORD49A', '_id': '26800', '_score': 22.741982, 'entrezgene': '26800'}, {'query': 'CTSH', '_id': '1512', '_score': 17.737492, 'entrezgene': '1512'}, {'query': 'ACOT8', '_id': '10005', '_score': 17.711779, 'entrezgene': '10005'}]</code></pre>
</div>
<p>The mapping result is returned as a list of dictionaries. Each
dictionary contains the <strong>fields</strong> we asked to return, in
this case, “entrezgene” field. Each dictionary also returns the matching
query term, “<strong>query</strong>”, and an internal id,
“**_id<strong>“, which is the same as”</strong>entrezgene**” most of
time (will be an ensembl gene id if a gene is available from Ensembl
only). Mygene could not find a mapping for one of the genes.</p>
<p>We could also get Ensembl gene ids. This time, we will use the
<code>as.dataframe</code> argument to get the result back as a pandas
dataframe.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ensembl_res <span class="op">=</span> mg.querymany(xli, scopes<span class="op">=</span><span class="st">'symbol'</span>, fields<span class="op">=</span><span class="st">'ensembl.gene'</span>, species<span class="op">=</span><span class="st">'human'</span>, as_dataframe<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(ensembl_res)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>querying 1-10...done.
Finished.
1 input query terms found no hit:
	['DDX26B']
Pass "returnall=True" to return complete lists of duplicate or missing query terms.
         notfound     _id     _score     ensembl.gene  \
query                                                   
DDX26B       True     NaN        NaN              NaN   
CCDC83        NaN  220047  18.026253  ENSG00000150676   
MAST3         NaN   23031  18.120222  ENSG00000099308   
FLOT1         NaN   10211  18.416580              NaN   
RPL11         NaN    6135  16.711576  ENSG00000142676   
ZDHHC20       NaN  253832  18.165747  ENSG00000180776   
LUC7L3        NaN   51747  17.701532  ENSG00000108848   
SNORD49A      NaN   26800  22.728123  ENSG00000277370   
CTSH          NaN    1512  17.725145  ENSG00000103811   
ACOT8         NaN   10005  17.717607  ENSG00000101473   

                                                    ensembl  
query                                                        
DDX26B                                                  NaN  
CCDC83                                                  NaN  
MAST3                                                   NaN  
FLOT1     [{'gene': 'ENSG00000206480'}, {'gene': 'ENSG00...  
RPL11                                                   NaN  
ZDHHC20                                                 NaN  
LUC7L3                                                  NaN  
SNORD49A                                                NaN  
CTSH                                                    NaN  
ACOT8                                                   NaN </code></pre>
</div>
</div>
<div class="section level3">
<h3 id="mixed-symbols-and-multiple-fields">Mixed symbols and multiple fields<a class="anchor" aria-label="anchor" href="#mixed-symbols-and-multiple-fields"></a>
</h3>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>xli <span class="op">=</span> [<span class="st">'ENSG00000150676'</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a> <span class="st">'MAST3'</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a> <span class="st">'FLOT1'</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a> <span class="st">'RPL11'</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a> <span class="st">'1007_s_at'</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a> <span class="st">'AK125780'</span>]</span></code></pre>
</div>
<p>The above id list contains multiple types of identifiers. Let’s try
taking this list and trying to get back both Entrez gene ids and uniprot
ids. Parameters <strong>scopes</strong>, <strong>fields</strong>,
<strong>species</strong> are all flexible enough to support multiple
values, either a list or a comma-separated string.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>query_res <span class="op">=</span> mg.querymany(xli, scopes<span class="op">=</span><span class="st">'symbol,reporter,accession,ensembl.gene'</span>, fields<span class="op">=</span><span class="st">'entrezgene,uniprot'</span>, species<span class="op">=</span><span class="st">'human'</span>, as_dataframe<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(query_res)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>querying 1-6...done.
Finished.
1 input query terms found dup hits:
	[('1007_s_at', 2)]
Pass "returnall=True" to return complete lists of duplicate or missing query terms.
                       _id     _score entrezgene uniprot.Swiss-Prot  \
query                                                                 
ENSG00000150676     220047  24.495731     220047             Q8IWF9   
MAST3                23031  18.115461      23031             O60307   
FLOT1                10211  18.416580      10211             O75955   
RPL11                 6135  16.715294       6135             P62913   
1007_s_at        100616237  18.266214  100616237                NaN   
1007_s_at              780  18.266214        780             Q08345   
AK125780         118142757  21.342941  118142757             P43080   

                                                    uniprot.TrEMBL  
query                                                               
ENSG00000150676                                             H0YDV3  
MAST3            [V9GYV0, A0A8V8TLL8, A0A8I5KST9, A0A8V8TMW0, A...  
FLOT1            [A2AB11, Q5ST80, A2AB13, A2AB10, A2ABJ5, A2AB1...  
RPL11                                 [Q5VVC8, Q5VVD0, A0A2R8Y447]  
1007_s_at                                                      NaN  
1007_s_at        [A0A024RCJ0, A0A024RCL1, A0A0A0MSX3, A0A024RCQ...  
AK125780                                      [A0A7I2V6E2, B2R9P6]  </code></pre>
</div>
<p>Finally, we can take a look at all of the information mygene has to
offer by setting <code>fields</code> to “all”.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>query_res <span class="op">=</span> mg.querymany(xli, scopes<span class="op">=</span><span class="st">'symbol,reporter,accession,ensembl.gene'</span>, fields<span class="op">=</span><span class="st">'all'</span>, species<span class="op">=</span><span class="st">'human'</span>, as_dataframe<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(query_res.columns))</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>querying 1-6...done.
Finished.
1 input query terms found dup hits:
	[('1007_s_at', 2)]
Pass "returnall=True" to return complete lists of duplicate or missing query terms.
['AllianceGenome', 'HGNC', '_id', '_score', 'alias', 'entrezgene', 'exons', 'exons_hg19', 'generif', 'ipi', 'map_location', 'name', 'other_names', 'pharmgkb', 'symbol', 'taxid', 'type_of_gene', 'unigene', 'accession.genomic', 'accession.protein', 'accession.rna', 'accession.translation', 'ensembl.gene', 'ensembl.protein', 'ensembl.transcript', 'ensembl.translation', 'ensembl.type_of_gene', 'exac._license', 'exac.all.exp_lof', 'exac.all.exp_mis', 'exac.all.exp_syn', 'exac.all.lof_z', 'exac.all.mis_z', 'exac.all.mu_lof', 'exac.all.mu_mis', 'exac.all.mu_syn', 'exac.all.n_lof', 'exac.all.n_mis', 'exac.all.n_syn', 'exac.all.p_li', 'exac.all.p_null', 'exac.all.p_rec', 'exac.all.syn_z', 'exac.bp', 'exac.cds_end', 'exac.cds_start', 'exac.n_exons', 'exac.nonpsych.exp_lof', 'exac.nonpsych.exp_mis', 'exac.nonpsych.exp_syn', 'exac.nonpsych.lof_z', 'exac.nonpsych.mis_z', 'exac.nonpsych.mu_lof', 'exac.nonpsych.mu_mis', 'exac.nonpsych.mu_syn', 'exac.nonpsych.n_lof', 'exac.nonpsych.n_mis', 'exac.nonpsych.n_syn', 'exac.nonpsych.p_li', 'exac.nonpsych.p_null', 'exac.nonpsych.p_rec', 'exac.nonpsych.syn_z', 'exac.nontcga.exp_lof', 'exac.nontcga.exp_mis', 'exac.nontcga.exp_syn', 'exac.nontcga.lof_z', 'exac.nontcga.mis_z', 'exac.nontcga.mu_lof', 'exac.nontcga.mu_mis', 'exac.nontcga.mu_syn', 'exac.nontcga.n_lof', 'exac.nontcga.n_mis', 'exac.nontcga.n_syn', 'exac.nontcga.p_li', 'exac.nontcga.p_null', 'exac.nontcga.p_rec', 'exac.nontcga.syn_z', 'exac.transcript', 'genomic_pos.chr', 'genomic_pos.end', 'genomic_pos.ensemblgene', 'genomic_pos.start', 'genomic_pos.strand', 'genomic_pos_hg19.chr', 'genomic_pos_hg19.end', 'genomic_pos_hg19.start', 'genomic_pos_hg19.strand', 'go.MF.category', 'go.MF.evidence', 'go.MF.id', 'go.MF.pubmed', 'go.MF.qualifier', 'go.MF.term', 'homologene.genes', 'homologene.id', 'interpro.desc', 'interpro.id', 'interpro.short_desc', 'pantherdb.HGNC', 'pantherdb._license', 'pantherdb.ortholog', 'pantherdb.uniprot_kb', 'pharos.target_id', 'reagent.GNF_Qia_hs-genome_v1_siRNA', 'reagent.GNF_hs-ORFeome1_1_reads.id', 'reagent.GNF_hs-ORFeome1_1_reads.relationship', 'reagent.GNF_mm+hs-MGC.id', 'reagent.GNF_mm+hs-MGC.relationship', 'reagent.GNF_mm+hs_RetroCDNA.id', 'reagent.GNF_mm+hs_RetroCDNA.relationship', 'reagent.NOVART_hs-genome_siRNA', 'refseq.genomic', 'refseq.protein', 'refseq.rna', 'refseq.translation', 'reporter.GNF1H', 'reporter.HG-U133_Plus_2', 'reporter.HTA-2_0', 'reporter.HuEx-1_0', 'reporter.HuGene-1_1', 'reporter.HuGene-2_1', 'umls.cui', 'uniprot.Swiss-Prot', 'uniprot.TrEMBL', 'MIM', 'ec', 'interpro', 'pdb', 'pfam', 'prosite', 'summary', 'go.BP', 'go.CC.evidence', 'go.CC.gocategory', 'go.CC.id', 'go.CC.qualifier', 'go.CC.term', 'go.MF', 'reagent.GNF_hs-Origene.id', 'reagent.GNF_hs-Origene.relationship', 'reagent.GNF_hs-druggable_lenti-shRNA', 'reagent.GNF_hs-druggable_plasmid-shRNA', 'reagent.GNF_hs-druggable_siRNA', 'reagent.GNF_hs-pkinase_IDT-siRNA', 'reagent.Invitrogen_IVTHSSIPKv2', 'reagent.NIBRI_hs-Secretome_pDEST.id', 'reagent.NIBRI_hs-Secretome_pDEST.relationship', 'reporter.HG-U95Av2', 'ensembl', 'genomic_pos', 'genomic_pos_hg19', 'go.CC', 'pathway.kegg.id', 'pathway.kegg.name', 'pathway.netpath.id', 'pathway.netpath.name', 'pathway.reactome', 'pathway.wikipathways', 'reagent.GNF_hs-Origene', 'wikipedia.url_stub', 'pir', 'pathway.kegg', 'pathway.pid', 'pathway.wikipathways.id', 'pathway.wikipathways.name', 'miRBase', 'retired', 'reagent.GNF_mm+hs-MGC'</code></pre>
</div>
<p>You can find a neater version of all available fields <a href="https://docs.mygene.info/en/latest/doc/data.html#available-fields" class="external-link">here</a>.</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>Load in the rnaseq dataset as a pandas dataframe. Add columns to the
dataframe with entrez gene ids and at least one other field from
mygene.</p>
</div>
</div>
</div>
</div>
</section><section id="other-bioinformatics-resources"><h2 class="section-heading">Other bioinformatics resources<a class="anchor" aria-label="anchor" href="#other-bioinformatics-resources"></a>
</h2>
<hr class="half-width">
<p><a href="https://biopython.org/" class="external-link">Biopython</a> is a library with a
wide variety of bioinformatics applications. You can find its
tutorial/cookbook <a href="https://biopython.org/DIST/docs/tutorial/Tutorial.html" class="external-link">here</a></p>
<hr>
<p><em>This lesson was adapted from the <a href="https://nbviewer.org/gist/newgene/6771106" class="external-link">official mygene python
tutorial</a></em> <!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 --></p>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/ccb-hms/workbench-python-workshop/edit/main/README.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/ccb-hms/workbench-python-workshop/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://github.com/ccb-hms/workbench-python-workshop/" class="external-link">Source</a></p>
				<p><a href="https://github.com/ccb-hms/workbench-python-workshop/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:christopher_magnano@hms.harvard.edu">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.11.15" class="external-link">sandpaper (0.11.15)</a>,
        <a href="https://github.com/carpentries/pegboard" class="external-link">pegboard (0.5.3)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.2.16" class="external-link">varnish (0.2.16)</a>.</p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://ccb-hms.github.io/workbench-python-workshop/aio.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "python, pandas, programming, seaborn, introductory",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://ccb-hms.github.io/workbench-python-workshop/aio.html",
  "identifier": "https://ccb-hms.github.io/workbench-python-workshop/aio.html",
  "dateCreated": "2023-04-01",
  "dateModified": "2023-04-27",
  "datePublished": "2023-04-27"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

